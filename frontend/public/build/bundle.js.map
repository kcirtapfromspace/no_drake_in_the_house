{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/svelte/src/runtime/store/index.js","../../src/lib/utils/api-client.ts","../../src/lib/stores/auth.ts","../../src/lib/utils/simple-router.ts","../../src/lib/components/Login.svelte","../../src/lib/components/Home.svelte","../../src/lib/components/Settings.svelte","../../src/lib/components/OAuthCallback.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.$$l[type]) {\n\t\t\t\tconst idx = this.$$l[type].indexOf(listener);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis.$$l[type].splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.20';\nexport const PUBLIC_VERSION = '4';\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","/**\n * Centralized API client for consistent request/response handling\n * Handles authentication, error handling, and retry logic\n */\nexport class ApiClient {\n    constructor(baseUrl = 'http://localhost:3000') {\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"maxRetries\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3\n        });\n        Object.defineProperty(this, \"retryDelay\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1000\n        }); // Base delay in ms\n        this.baseUrl = baseUrl;\n    }\n    /**\n     * Get authentication token from localStorage\n     */\n    getAuthToken() {\n        return localStorage.getItem('auth_token');\n    }\n    /**\n     * Set authentication token in localStorage\n     */\n    setAuthToken(token) {\n        localStorage.setItem('auth_token', token);\n    }\n    /**\n     * Clear authentication token\n     */\n    clearAuthToken() {\n        localStorage.removeItem('auth_token');\n    }\n    /**\n     * Create request headers with authentication\n     */\n    createHeaders(includeAuth = true) {\n        const headers = {\n            'Content-Type': 'application/json',\n        };\n        if (includeAuth) {\n            const token = this.getAuthToken();\n            if (token) {\n                headers['Authorization'] = `Bearer ${token}`;\n            }\n        }\n        return headers;\n    }\n    /**\n     * Handle API response and extract data\n     */\n    async handleResponse(response) {\n        const contentType = response.headers.get('content-type');\n        let data;\n        if (contentType && contentType.includes('application/json')) {\n            data = await response.json();\n        }\n        else {\n            data = { message: await response.text() };\n        }\n        // If response has the expected format, return it\n        if (typeof data === 'object' && data !== null && 'success' in data) {\n            return data;\n        }\n        // Handle non-standard responses\n        if (response.ok) {\n            return {\n                success: true,\n                data: data,\n                timestamp: new Date().toISOString(),\n            };\n        }\n        else {\n            return {\n                success: false,\n                message: data.message || `HTTP ${response.status}: ${response.statusText}`,\n                error_code: `HTTP_${response.status}`,\n                timestamp: new Date().toISOString(),\n            };\n        }\n    }\n    /**\n     * Retry logic with exponential backoff\n     */\n    async withRetry(operation, retries = this.maxRetries) {\n        let lastError = null;\n        for (let attempt = 0; attempt <= retries; attempt++) {\n            try {\n                const response = await operation();\n                // Don't retry on authentication errors or client errors (4xx)\n                if (response.status === 401 || response.status === 403 ||\n                    (response.status >= 400 && response.status < 500)) {\n                    return this.handleResponse(response);\n                }\n                // Don't retry on success\n                if (response.ok) {\n                    return this.handleResponse(response);\n                }\n                // Retry on server errors (5xx) or network issues\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n                return this.handleResponse(response);\n            }\n            catch (error) {\n                lastError = error;\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n            }\n        }\n        // If all retries failed, return error response\n        return {\n            success: false,\n            message: lastError?.message || 'Network request failed after retries',\n            error_code: 'NETWORK_ERROR',\n            timestamp: new Date().toISOString(),\n        };\n    }\n    /**\n     * GET request\n     */\n    async get(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'GET',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * POST request\n     */\n    async post(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'POST',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * PUT request\n     */\n    async put(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'PUT',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * DELETE request\n     */\n    async delete(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'DELETE',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * Handle authentication errors by attempting token refresh\n     */\n    async handleAuthError() {\n        try {\n            const refreshToken = localStorage.getItem('refresh_token');\n            if (!refreshToken) {\n                return false;\n            }\n            const response = await this.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n            );\n            if (response.success && response.data) {\n                this.setAuthToken(response.data.access_token);\n                localStorage.setItem('refresh_token', response.data.refresh_token);\n                return true;\n            }\n            return false;\n        }\n        catch (error) {\n            console.error('Token refresh failed:', error);\n            return false;\n        }\n    }\n    /**\n     * Make authenticated request with automatic token refresh\n     */\n    async authenticatedRequest(method, endpoint, data) {\n        let response;\n        // Make initial request\n        switch (method) {\n            case 'GET':\n                response = await this.get(endpoint);\n                break;\n            case 'POST':\n                response = await this.post(endpoint, data);\n                break;\n            case 'PUT':\n                response = await this.put(endpoint, data);\n                break;\n            case 'DELETE':\n                response = await this.delete(endpoint);\n                break;\n        }\n        // If unauthorized, try to refresh token and retry once\n        if (!response.success && response.error_code === 'HTTP_401') {\n            const refreshed = await this.handleAuthError();\n            if (refreshed) {\n                // Retry the original request\n                switch (method) {\n                    case 'GET':\n                        response = await this.get(endpoint);\n                        break;\n                    case 'POST':\n                        response = await this.post(endpoint, data);\n                        break;\n                    case 'PUT':\n                        response = await this.put(endpoint, data);\n                        break;\n                    case 'DELETE':\n                        response = await this.delete(endpoint);\n                        break;\n                }\n            }\n            else {\n                // Clear tokens and redirect to login\n                this.clearAuthToken();\n                localStorage.removeItem('refresh_token');\n                // Dispatch custom event for auth failure\n                window.dispatchEvent(new CustomEvent('auth:logout', {\n                    detail: { reason: 'token_refresh_failed' }\n                }));\n            }\n        }\n        return response;\n    }\n}\n// Create singleton instance\nexport const apiClient = new ApiClient();\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    user: null,\n    token: localStorage.getItem('auth_token'),\n    refreshToken: localStorage.getItem('refresh_token'),\n    isAuthenticated: false,\n    isLoading: false,\n    justRegistered: false,\n    oauthFlow: {\n        provider: null,\n        state: null,\n        isInProgress: false,\n    },\n};\nexport const authStore = writable(initialState);\nexport const isAuthenticated = derived(authStore, ($auth) => $auth.isAuthenticated && $auth.token !== null);\nexport const currentUser = derived(authStore, ($auth) => $auth.user);\nexport const justRegistered = derived(authStore, ($auth) => $auth.justRegistered);\n// Auth actions\nexport const authActions = {\n    login: async (email, password, totpCode) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/login', {\n            email,\n            password,\n            totp_code: totpCode\n        }, false // Don't include auth for login\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', refresh_token);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: refresh_token,\n                isAuthenticated: true,\n                isLoading: false,\n                justRegistered: false, // Reset on login\n            }));\n            // Fetch user profile\n            await authActions.fetchProfile();\n            return { success: true };\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return { success: false, message: result.message || 'Login failed' };\n        }\n    },\n    register: async (email, password, confirmPassword, termsAccepted) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/register', {\n            email,\n            password,\n            confirm_password: confirmPassword,\n            terms_accepted: termsAccepted\n        }, false // Don't include auth for registration\n        );\n        if (result.success) {\n            // Check if auto-login was successful (tokens returned)\n            if (result.data?.access_token && result.data?.refresh_token) {\n                const { access_token, refresh_token } = result.data;\n                apiClient.setAuthToken(access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                authStore.update(state => ({\n                    ...state,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    isLoading: false,\n                    justRegistered: true, // Mark as just registered for better UX\n                }));\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true, autoLogin: true };\n            }\n            else {\n                authStore.update(state => ({ ...state, isLoading: false }));\n                return { success: true, autoLogin: false, message: result.message };\n            }\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return {\n                success: false,\n                message: result.message || 'Registration failed',\n                errors: result.data?.errors || null\n            };\n        }\n    },\n    fetchProfile: async () => {\n        const token = apiClient.getAuthToken();\n        if (!token)\n            return;\n        const result = await apiClient.authenticatedRequest('GET', '/api/v1/users/profile');\n        if (result.success && result.data) {\n            authStore.update(state => ({\n                ...state,\n                user: result.data,\n                isAuthenticated: true,\n            }));\n        }\n        else {\n            console.error('Failed to fetch profile:', result.message);\n        }\n    },\n    logout: async () => {\n        const token = apiClient.getAuthToken();\n        if (token) {\n            try {\n                await apiClient.authenticatedRequest('POST', '/api/v1/auth/logout');\n            }\n            catch (error) {\n                console.error('Logout request failed:', error);\n            }\n        }\n        apiClient.clearAuthToken();\n        localStorage.removeItem('refresh_token');\n        authStore.set({\n            user: null,\n            token: null,\n            refreshToken: null,\n            isAuthenticated: false,\n            isLoading: false,\n            justRegistered: false,\n            oauthFlow: {\n                provider: null,\n                state: null,\n                isInProgress: false,\n            },\n        });\n    },\n    refreshToken: async () => {\n        const refreshToken = localStorage.getItem('refresh_token');\n        if (!refreshToken)\n            return false;\n        const result = await apiClient.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token: newRefreshToken } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', newRefreshToken);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: newRefreshToken,\n                isAuthenticated: true,\n            }));\n            return true;\n        }\n        else {\n            console.error('Token refresh failed:', result.message);\n            return false;\n        }\n    },\n    // 2FA Management\n    setup2FA: async () => {\n        try {\n            const result = await api.post('/auth/2fa/setup');\n            if (result.success) {\n                return {\n                    success: true,\n                    qrCodeUrl: result.data.qr_code_url,\n                    secret: result.data.secret\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to setup 2FA' };\n        }\n    },\n    verify2FA: async (code) => {\n        try {\n            const result = await api.post('/auth/2fa/verify', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now enabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to verify 2FA code' };\n        }\n    },\n    disable2FA: async (code) => {\n        try {\n            const result = await api.post('/auth/2fa/disable', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now disabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to disable 2FA' };\n        }\n    },\n    // Clear the just registered flag (useful for onboarding flows)\n    clearJustRegistered: () => {\n        authStore.update(state => ({\n            ...state,\n            justRegistered: false,\n        }));\n    },\n    // OAuth-specific actions\n    initiateOAuthFlow: async (provider) => {\n        authStore.update(state => ({\n            ...state,\n            oauthFlow: {\n                provider,\n                state: null,\n                isInProgress: true,\n            },\n        }));\n        try {\n            const result = await api.post(`/auth/oauth/${provider}/initiate`);\n            if (result.success) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_state_${provider}`, state);\n                authStore.update(authState => ({\n                    ...authState,\n                    oauthFlow: {\n                        ...authState.oauthFlow,\n                        state,\n                    },\n                }));\n                // Redirect to OAuth provider\n                window.location.href = authorization_url;\n                return { success: true };\n            }\n            else {\n                authStore.update(state => ({\n                    ...state,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    completeOAuthFlow: async (provider, code, state) => {\n        try {\n            // Validate state parameter\n            const storedState = sessionStorage.getItem(`oauth_state_${provider}`);\n            if (!storedState || storedState !== state) {\n                throw new Error('Invalid state parameter - possible CSRF attack');\n            }\n            const result = await api.post(`/auth/oauth/${provider}/callback`, {\n                code,\n                state,\n                redirect_uri: window.location.origin + window.location.pathname,\n            });\n            if (result.success) {\n                const { access_token, refresh_token } = result.data;\n                // Store tokens\n                localStorage.setItem('auth_token', access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                // Update auth store\n                authStore.update(authState => ({\n                    ...authState,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                // Clean up stored state\n                sessionStorage.removeItem(`oauth_state_${provider}`);\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                throw new Error(result.message || 'OAuth authentication failed');\n            }\n        }\n        catch (error) {\n            // Clean up on error\n            sessionStorage.removeItem(`oauth_state_${provider}`);\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Authentication failed' };\n        }\n    },\n    linkOAuthAccount: async (provider) => {\n        try {\n            const result = await api.post(`/auth/oauth/${provider}/link`);\n            if (result.success) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_link_state_${provider}`, state);\n                return {\n                    success: true,\n                    authorization_url,\n                    state\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    unlinkOAuthAccount: async (provider) => {\n        try {\n            const result = await api.delete(`/auth/oauth/${provider}/unlink`);\n            if (result.success) {\n                // Refresh user profile to update linked accounts\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    getLinkedAccounts: async () => {\n        try {\n            const result = await api.get('/auth/oauth/accounts');\n            if (result.success) {\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n};\n// Initialize auth state on app load\nif (typeof window !== 'undefined') {\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n        apiClient.setAuthToken(token);\n        authStore.update(state => ({\n            ...state,\n            token,\n            isAuthenticated: true,\n            justRegistered: false, // Reset on app load\n        }));\n        authActions.fetchProfile();\n    }\n    // Listen for auth logout events from API client\n    window.addEventListener('auth:logout', () => {\n        authActions.logout();\n    });\n}\n","import { writable, derived } from 'svelte/store';\n// Path mappings\nconst pathToRoute = {\n    '/': 'home',\n    '/home': 'home',\n    '/settings': 'settings',\n};\nconst routeToPath = {\n    'home': '/',\n    'settings': '/settings',\n    'oauth-callback': '/auth/callback',\n    'oauth-error': '/auth/error',\n};\n// Route metadata\nconst routeMeta = {\n    'home': { title: 'Home', description: 'Your music blocklist dashboard' },\n    'settings': { title: 'Settings', description: 'Account and connection settings' },\n    'oauth-callback': { title: 'Connecting...', description: 'Processing authentication' },\n    'oauth-error': { title: 'Connection Error', description: 'There was a problem connecting' },\n};\n// Router store\nexport const currentRoute = writable('home');\n// Derived store for route metadata\nexport const currentRouteMeta = derived(currentRoute, $route => routeMeta[$route]);\n// Navigation function\nexport function navigateTo(route) {\n    currentRoute.set(route);\n    if (typeof window !== 'undefined') {\n        const path = routeToPath[route] || '/';\n        const meta = routeMeta[route];\n        window.history.pushState({ route }, meta.title, path);\n        document.title = `${meta.title} - No Drake`;\n    }\n}\n// Get route from path\nfunction getRouteFromPath(path) {\n    if (path.startsWith('/auth/callback'))\n        return 'oauth-callback';\n    if (path.startsWith('/auth/error'))\n        return 'oauth-error';\n    return pathToRoute[path] || 'home';\n}\n// Initialize router\nexport function initRouter() {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', (event) => {\n            const route = event.state?.route || getRouteFromPath(window.location.pathname);\n            currentRoute.set(route);\n        });\n        const initialRoute = getRouteFromPath(window.location.pathname);\n        currentRoute.set(initialRoute);\n        document.title = `${routeMeta[initialRoute].title} - No Drake`;\n    }\n}\nexport function getPath(route) {\n    return routeToPath[route] || '/';\n}\n","<script lang=\"ts\">\n  import { authActions } from '../stores/auth';\n\n  let mode: 'login' | 'register' = 'login';\n  let isLoading = false;\n  let error = '';\n  let success = '';\n\n  // Form fields\n  let email = '';\n  let password = '';\n  let confirmPassword = '';\n\n  async function handleSubmit() {\n    error = '';\n    success = '';\n    isLoading = true;\n\n    try {\n      if (mode === 'login') {\n        const result = await authActions.login(email, password);\n        if (!result.success) {\n          error = result.message || 'Login failed';\n        }\n      } else {\n        if (password !== confirmPassword) {\n          error = 'Passwords do not match';\n          isLoading = false;\n          return;\n        }\n        const result = await authActions.register(email, password, confirmPassword, true);\n        if (result.success) {\n          success = 'Account created!';\n        } else {\n          error = result.message || 'Registration failed';\n        }\n      }\n    } catch (err) {\n      error = 'Something went wrong. Please try again.';\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  function switchMode() {\n    mode = mode === 'login' ? 'register' : 'login';\n    error = '';\n    success = '';\n    password = '';\n    confirmPassword = '';\n  }\n</script>\n\n<div class=\"min-h-screen flex flex-col items-center justify-center bg-gray-900 px-4\">\n  <div class=\"w-full max-w-sm\">\n    <!-- Logo -->\n    <div class=\"text-center mb-8\">\n      <span class=\"text-6xl\"></span>\n      <h1 class=\"text-3xl font-bold text-white mt-4\">No Drake</h1>\n      <p class=\"text-gray-400 mt-2\">Block problematic artists from your music</p>\n    </div>\n\n    <!-- Form -->\n    <form on:submit|preventDefault={handleSubmit} class=\"space-y-4\">\n      {#if error}\n        <div class=\"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm\">\n          {error}\n        </div>\n      {/if}\n\n      {#if success}\n        <div class=\"bg-green-900/50 border border-green-700 text-green-200 px-4 py-3 rounded-lg text-sm\">\n          {success}\n        </div>\n      {/if}\n\n      <div>\n        <input\n          type=\"email\"\n          bind:value={email}\n          placeholder=\"Email\"\n          required\n          class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <input\n          type=\"password\"\n          bind:value={password}\n          placeholder=\"Password\"\n          required\n          minlength=\"8\"\n          class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n        />\n      </div>\n\n      {#if mode === 'register'}\n        <div>\n          <input\n            type=\"password\"\n            bind:value={confirmPassword}\n            placeholder=\"Confirm password\"\n            required\n            minlength=\"8\"\n            class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n          />\n        </div>\n      {/if}\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        class=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n      >\n        {#if isLoading}\n          <div class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n        {/if}\n        {mode === 'login' ? 'Sign in' : 'Create account'}\n      </button>\n    </form>\n\n    <!-- Switch mode -->\n    <div class=\"mt-6 text-center\">\n      <button\n        type=\"button\"\n        on:click={switchMode}\n        class=\"text-gray-400 hover:text-white transition-colors\"\n      >\n        {mode === 'login' ? \"Don't have an account? Sign up\" : 'Already have an account? Sign in'}\n      </button>\n    </div>\n\n    <!-- Features preview -->\n    <div class=\"mt-12 space-y-3\">\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">AI-curated blocklists by category</span>\n      </div>\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">Block artists on Spotify & Apple Music</span>\n      </div>\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">Blocks features & collaborations too</span>\n      </div>\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo } from '../utils/simple-router';\n\n  interface CategoryList {\n    id: string;\n    name: string;\n    description: string;\n    artist_count: number;\n    subscribed: boolean;\n  }\n\n  interface SearchArtist {\n    id: string;\n    canonical_name: string;\n    genres?: string[];\n    image_url?: string;\n  }\n\n  interface BlockedArtist {\n    id: string;\n    name: string;\n    category: string;\n    severity: string;\n  }\n\n  interface ArtistOffense {\n    id: string;\n    category: string;\n    severity: string;\n    title: string;\n    description: string;\n    incident_date?: string;\n    status: string;\n    evidence: Evidence[];\n  }\n\n  interface Evidence {\n    id: string;\n    source_url: string;\n    source_name: string;\n    source_type: string;\n    title?: string;\n    excerpt?: string;\n    published_date?: string;\n    credibility_score?: number;\n  }\n\n  interface ArtistDetail {\n    id: string;\n    canonical_name: string;\n    genres?: string[];\n    image_url?: string;\n    offenses: ArtistOffense[];\n  }\n\n  type View = 'home' | 'artist';\n  let currentView: View = 'home';\n\n  let searchQuery = '';\n  let searchResults: SearchArtist[] = [];\n  let isSearching = false;\n  let searchTimeout: ReturnType<typeof setTimeout>;\n\n  let categoryLists: CategoryList[] = [];\n  let isLoadingCategories = true;\n  let expandedCategoryId: string | null = null;\n  let categoryArtists: BlockedArtist[] = [];\n  let isLoadingCategoryArtists = false;\n\n  let blockedArtists: BlockedArtist[] = [];\n  let isLoadingBlocked = false;\n\n  let selectedArtist: ArtistDetail | null = null;\n  let isLoadingArtistDetail = false;\n\n  let blockingArtistId: string | null = null;\n  let dnpList: Set<string> = new Set();\n\n  // Triadic palette colors\n  const colors = {\n    green: { primary: '#30AF22', light: '#59BA48' },\n    blue: { primary: '#009BD7', light: '#00B4FF' },\n    pink: { primary: '#FF2C6E', light: '#FF728F' }\n  };\n\n  function formatCategoryName(id: string): string {\n    return id.split('_').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');\n  }\n\n  function getSeverityStyle(severity: string): { bg: string; text: string; label: string } {\n    switch (severity) {\n      case 'egregious':\n        return { bg: 'background-color: #FFE5ED;', text: 'color: #FF2C6E;', label: 'Egregious' };\n      case 'severe':\n        return { bg: 'background-color: #FFECF1;', text: 'color: #FF728F;', label: 'Severe' };\n      case 'moderate':\n        return { bg: 'background-color: #E5F6FF;', text: 'color: #009BD7;', label: 'Moderate' };\n      default:\n        return { bg: 'background-color: #E8F8E6;', text: 'color: #30AF22;', label: 'Minor' };\n    }\n  }\n\n  onMount(async () => {\n    await Promise.all([\n      loadCategories(),\n      loadBlockedArtists(),\n      loadDnpList(),\n    ]);\n  });\n\n  async function loadCategories() {\n    isLoadingCategories = true;\n    try {\n      const result = await apiClient.get<CategoryList[]>('/api/v1/categories');\n      if (result.success && result.data) {\n        categoryLists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load categories:', e);\n    } finally {\n      isLoadingCategories = false;\n    }\n  }\n\n  async function loadBlockedArtists() {\n    isLoadingBlocked = true;\n    try {\n      const result = await apiClient.get<BlockedArtist[]>('/api/v1/categories/blocked-artists');\n      if (result.success && result.data) {\n        blockedArtists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load blocked artists:', e);\n    } finally {\n      isLoadingBlocked = false;\n    }\n  }\n\n  async function loadDnpList() {\n    try {\n      const result = await apiClient.get<Array<{artist_id: string}>>('/api/v1/dnp/list');\n      if (result.success && result.data) {\n        dnpList = new Set(result.data.map(item => item.artist_id));\n      }\n    } catch (e) {\n      console.error('Failed to load DNP list:', e);\n    }\n  }\n\n  function handleSearchInput() {\n    clearTimeout(searchTimeout);\n    if (!searchQuery.trim()) {\n      searchResults = [];\n      isSearching = false;\n      return;\n    }\n    isSearching = true;\n    searchTimeout = setTimeout(async () => {\n      try {\n        const result = await apiClient.get<SearchArtist[]>(`/api/v1/artists/search?q=${encodeURIComponent(searchQuery.trim())}`);\n        if (result.success && result.data) {\n          searchResults = result.data;\n        } else {\n          searchResults = [];\n        }\n      } catch (e) {\n        searchResults = [];\n      } finally {\n        isSearching = false;\n      }\n    }, 150);\n  }\n\n  async function toggleCategory(categoryId: string) {\n    if (expandedCategoryId === categoryId) {\n      expandedCategoryId = null;\n      categoryArtists = [];\n    } else {\n      expandedCategoryId = categoryId;\n      await loadCategoryArtists(categoryId);\n    }\n  }\n\n  async function loadCategoryArtists(categoryId: string) {\n    isLoadingCategoryArtists = true;\n    try {\n      const result = await apiClient.get<{artists: BlockedArtist[]}>(`/api/v1/offenses/query?category=${categoryId}`);\n      if (result.success && result.data?.artists) {\n        categoryArtists = result.data.artists;\n      } else {\n        categoryArtists = [];\n      }\n    } catch (e) {\n      categoryArtists = [];\n    } finally {\n      isLoadingCategoryArtists = false;\n    }\n  }\n\n  async function toggleCategorySubscription(category: CategoryList, event: MouseEvent) {\n    event.stopPropagation();\n    const wasSubscribed = category.subscribed;\n    categoryLists = categoryLists.map(c =>\n      c.id === category.id ? { ...c, subscribed: !wasSubscribed } : c\n    );\n    try {\n      if (wasSubscribed) {\n        await apiClient.delete(`/api/v1/categories/${category.id}/subscribe`);\n      } else {\n        await apiClient.post(`/api/v1/categories/${category.id}/subscribe`);\n      }\n      await loadBlockedArtists();\n    } catch (e) {\n      categoryLists = categoryLists.map(c =>\n        c.id === category.id ? { ...c, subscribed: wasSubscribed } : c\n      );\n    }\n  }\n\n  async function goToArtist(artistId: string, artistName: string) {\n    currentView = 'artist';\n    isLoadingArtistDetail = true;\n    selectedArtist = null;\n    try {\n      const result = await apiClient.get<ArtistDetail>(`/api/v1/offenses/query?artist_id=${artistId}`);\n      if (result.success && result.data) {\n        selectedArtist = result.data;\n      } else {\n        selectedArtist = { id: artistId, canonical_name: artistName, offenses: [] };\n      }\n    } catch (e) {\n      selectedArtist = { id: artistId, canonical_name: artistName, offenses: [] };\n    } finally {\n      isLoadingArtistDetail = false;\n    }\n  }\n\n  function goBack() {\n    currentView = 'home';\n    selectedArtist = null;\n    searchResults = [];\n    searchQuery = '';\n  }\n\n  async function toggleArtistBlock(artistId: string) {\n    blockingArtistId = artistId;\n    const isCurrentlyBlocked = dnpList.has(artistId);\n    try {\n      if (isCurrentlyBlocked) {\n        await apiClient.delete(`/api/v1/dnp/list/${artistId}`);\n        dnpList.delete(artistId);\n      } else {\n        await apiClient.post('/api/v1/dnp/list', { artist_id: artistId });\n        dnpList.add(artistId);\n      }\n      dnpList = new Set(dnpList);\n    } catch (e) {\n      console.error('Failed to toggle block:', e);\n    } finally {\n      blockingArtistId = null;\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      if (currentView === 'artist') {\n        goBack();\n      } else if (searchResults.length > 0) {\n        searchResults = [];\n        searchQuery = '';\n      }\n    }\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n\n<div class=\"min-h-screen bg-white\">\n  {#if currentView === 'home'}\n    <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n      <div class=\"max-w-3xl mx-auto px-4 py-4 flex justify-between items-center\">\n        <div>\n          <h1 class=\"text-xl font-semibold text-gray-900\">No Drake in the House</h1>\n          <p class=\"text-sm\" style=\"color: #666;\">Curate your streaming</p>\n        </div>\n        <button\n          on:click={() => navigateTo('settings')}\n          class=\"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors\"\n          style=\"hover:color: {colors.blue.primary};\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n          </svg>\n        </button>\n      </div>\n    </header>\n\n    <main class=\"max-w-3xl mx-auto px-4 py-6 space-y-8\">\n      <!-- Search -->\n      <section>\n        <div class=\"relative\">\n          <input\n            type=\"text\"\n            bind:value={searchQuery}\n            on:input={handleSearchInput}\n            placeholder=\"Search artists...\"\n            class=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-transparent transition-all\"\n            style=\"focus:ring: 2px solid {colors.blue.primary};\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n            {#if isSearching}\n              <div class=\"w-5 h-5 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n            {:else}\n              <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            {/if}\n          </div>\n        </div>\n\n        {#if searchResults.length > 0}\n          <div class=\"mt-2 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden\">\n            {#each searchResults as artist, i}\n              <button\n                type=\"button\"\n                class=\"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors {i > 0 ? 'border-t border-gray-100' : ''}\"\n                on:click={() => goToArtist(artist.id, artist.canonical_name)}\n              >\n                <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium text-white\" style=\"background: linear-gradient(135deg, {colors.blue.primary}, {colors.blue.light});\">\n                  {artist.canonical_name.charAt(0)}\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                  <p class=\"font-medium text-gray-900 truncate\">{artist.canonical_name}</p>\n                  {#if artist.genres && artist.genres.length > 0}\n                    <p class=\"text-sm text-gray-500 truncate\">{artist.genres.slice(0, 3).join(', ')}</p>\n                  {/if}\n                </div>\n                <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </button>\n            {/each}\n          </div>\n        {:else if searchQuery.length > 1 && !isSearching}\n          <div class=\"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-6 text-center\">\n            <p class=\"text-gray-500\">No artists found for \"<span class=\"font-medium text-gray-700\">{searchQuery}</span>\"</p>\n          </div>\n        {/if}\n      </section>\n\n      <!-- Categories -->\n      <section>\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Block by Category</h2>\n\n        {#if isLoadingCategories}\n          <div class=\"flex justify-center py-12\">\n            <div class=\"w-6 h-6 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n          </div>\n        {:else}\n          <div class=\"space-y-3\">\n            {#each categoryLists as category}\n              <div>\n                <button\n                  type=\"button\"\n                  class=\"w-full p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all text-left\"\n                  style=\"{expandedCategoryId === category.id ? `border-color: ${colors.blue.primary}; box-shadow: 0 0 0 2px ${colors.blue.primary}20;` : ''}\"\n                  on:click={() => toggleCategory(category.id)}\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center gap-3\">\n                      <div class=\"w-10 h-10 rounded-lg flex items-center justify-center\" style=\"background: linear-gradient(135deg, {colors.pink.primary}15, {colors.pink.light}10);\">\n                        <svg class=\"w-5 h-5\" style=\"color: {colors.pink.primary};\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <p class=\"font-medium text-gray-900\">{formatCategoryName(category.id)}</p>\n                        <p class=\"text-sm text-gray-500\">{category.artist_count} artists</p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      class=\"px-4 py-2 text-sm font-medium rounded-lg transition-all\"\n                      style=\"{category.subscribed ? `background: ${colors.pink.primary}; color: white;` : `background: white; border: 1px solid #e5e7eb; color: #374151;`}\"\n                      on:click={(e) => toggleCategorySubscription(category, e)}\n                    >\n                      {category.subscribed ? 'Blocking' : 'Block All'}\n                    </button>\n                  </div>\n                </button>\n\n                {#if expandedCategoryId === category.id}\n                  <div class=\"mt-2 bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                    {#if isLoadingCategoryArtists}\n                      <div class=\"flex justify-center py-6\">\n                        <div class=\"w-5 h-5 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n                      </div>\n                    {:else if categoryArtists.length === 0}\n                      <p class=\"text-center py-6 text-gray-500\">No artists in this category</p>\n                    {:else}\n                      <div class=\"max-h-64 overflow-y-auto divide-y divide-gray-100\">\n                        {#each categoryArtists as artist}\n                          {@const sev = getSeverityStyle(artist.severity)}\n                          <button\n                            type=\"button\"\n                            class=\"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors\"\n                            on:click={() => goToArtist(artist.id, artist.name)}\n                          >\n                            <div class=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium text-gray-600\">\n                              {artist.name.charAt(0)}\n                            </div>\n                            <p class=\"flex-1 font-medium text-gray-900 truncate\">{artist.name}</p>\n                            <span class=\"px-2 py-0.5 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                              {sev.label}\n                            </span>\n                            <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                            </svg>\n                          </button>\n                        {/each}\n                      </div>\n                    {/if}\n                  </div>\n                {/if}\n              </div>\n            {/each}\n          </div>\n        {/if}\n      </section>\n\n      <!-- Blocked Artists -->\n      <section>\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">\n          Your Blocked Artists\n          {#if blockedArtists.length > 0}\n            <span class=\"text-gray-500 font-normal\">({blockedArtists.length})</span>\n          {/if}\n        </h2>\n\n        {#if isLoadingBlocked}\n          <div class=\"flex justify-center py-12\">\n            <div class=\"w-6 h-6 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n          </div>\n        {:else if blockedArtists.length === 0}\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-10 text-center\">\n            <p class=\"text-gray-600\">No artists blocked yet</p>\n            <p class=\"text-sm text-gray-500 mt-1\">Subscribe to categories or search for artists</p>\n          </div>\n        {:else}\n          <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n            <div class=\"max-h-80 overflow-y-auto divide-y divide-gray-100\">\n              {#each blockedArtists as artist}\n                {@const sev = getSeverityStyle(artist.severity)}\n                <button\n                  type=\"button\"\n                  class=\"w-full flex items-center gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors\"\n                  on:click={() => goToArtist(artist.id, artist.name)}\n                >\n                  <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium text-white\" style=\"background: linear-gradient(135deg, {colors.pink.primary}, {colors.pink.light});\">\n                    {artist.name.charAt(0)}\n                  </div>\n                  <div class=\"flex-1 min-w-0\">\n                    <p class=\"font-medium text-gray-900 truncate\">{artist.name}</p>\n                    <p class=\"text-sm text-gray-500\">{formatCategoryName(artist.category)}</p>\n                  </div>\n                  <span class=\"px-2 py-0.5 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                    {sev.label}\n                  </span>\n                  <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </section>\n    </main>\n\n  {:else if currentView === 'artist'}\n    <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n      <div class=\"max-w-3xl mx-auto px-4 py-4\">\n        <button\n          type=\"button\"\n          class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors\"\n          on:click={goBack}\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back\n        </button>\n      </div>\n    </header>\n\n    <main class=\"max-w-3xl mx-auto px-4 py-6\">\n      {#if isLoadingArtistDetail}\n        <div class=\"flex justify-center py-20\">\n          <div class=\"w-8 h-8 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n        </div>\n      {:else if selectedArtist}\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden mb-6\">\n          <div class=\"p-6\" style=\"background: linear-gradient(135deg, {colors.blue.primary}08, {colors.blue.light}05);\">\n            <div class=\"flex items-center gap-4\">\n              <div class=\"w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold text-white\" style=\"background: linear-gradient(135deg, {colors.blue.primary}, {colors.blue.light});\">\n                {selectedArtist.canonical_name.charAt(0)}\n              </div>\n              <div>\n                <h1 class=\"text-2xl font-bold text-gray-900\">{selectedArtist.canonical_name}</h1>\n                {#if selectedArtist.genres && selectedArtist.genres.length > 0}\n                  <p class=\"text-gray-500 mt-1\">{selectedArtist.genres.join(', ')}</p>\n                {/if}\n              </div>\n            </div>\n          </div>\n          <div class=\"px-6 py-4 border-t border-gray-100 flex items-center justify-between\">\n            <div>\n              <p class=\"text-sm text-gray-500\">Status</p>\n              <p class=\"font-medium\" style=\"color: {dnpList.has(selectedArtist.id) ? colors.pink.primary : colors.green.primary};\">\n                {dnpList.has(selectedArtist.id) ? 'Blocked' : 'Not Blocked'}\n              </p>\n            </div>\n            <button\n              type=\"button\"\n              on:click={() => selectedArtist && toggleArtistBlock(selectedArtist.id)}\n              disabled={blockingArtistId === selectedArtist?.id}\n              class=\"px-5 py-2.5 rounded-lg font-medium transition-all disabled:opacity-50\"\n              style=\"{dnpList.has(selectedArtist.id) ? 'background: #f3f4f6; color: #374151;' : `background: ${colors.pink.primary}; color: white;`}\"\n            >\n              {#if blockingArtistId === selectedArtist?.id}\n                <span class=\"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin\"></span>\n              {:else if dnpList.has(selectedArtist.id)}\n                Unblock\n              {:else}\n                Block Artist\n              {/if}\n            </button>\n          </div>\n        </div>\n\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Documented Incidents</h2>\n\n        {#if selectedArtist.offenses && selectedArtist.offenses.length > 0}\n          <div class=\"space-y-4\">\n            {#each selectedArtist.offenses as offense}\n              {@const sev = getSeverityStyle(offense.severity)}\n              <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                <div class=\"p-5\">\n                  <div class=\"flex items-center gap-2 mb-3\">\n                    <span class=\"px-2.5 py-1 text-xs font-medium rounded bg-gray-100 text-gray-700\">\n                      {formatCategoryName(offense.category)}\n                    </span>\n                    <span class=\"px-2.5 py-1 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                      {sev.label}\n                    </span>\n                  </div>\n                  <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{offense.title}</h3>\n                  <p class=\"text-gray-600 leading-relaxed\">{offense.description}</p>\n\n                  {#if offense.incident_date}\n                    <p class=\"text-sm text-gray-500 mt-4\">\n                      {new Date(offense.incident_date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}\n                    </p>\n                  {/if}\n\n                  {#if offense.evidence && offense.evidence.length > 0}\n                    <div class=\"mt-5 pt-5 border-t border-gray-100\">\n                      <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3\">\n                        Sources ({offense.evidence.length})\n                      </p>\n                      <div class=\"space-y-2\">\n                        {#each offense.evidence as evidence}\n                          <a\n                            href={evidence.source_url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            class=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                          >\n                            <svg class=\"w-4 h-4 flex-shrink-0\" style=\"color: {colors.blue.primary};\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                            </svg>\n                            <div class=\"flex-1 min-w-0\">\n                              <p class=\"text-sm font-medium text-gray-900 truncate\">\n                                {evidence.title || evidence.source_name || 'View Source'}\n                              </p>\n                              {#if evidence.source_name && evidence.title}\n                                <p class=\"text-xs text-gray-500\">{evidence.source_name}</p>\n                              {/if}\n                            </div>\n                            {#if evidence.credibility_score}\n                              <div class=\"flex gap-0.5\" style=\"color: {colors.green.light};\">\n                                {#each Array(evidence.credibility_score) as _}\n                                  <span class=\"text-xs\"></span>\n                                {/each}\n                              </div>\n                            {/if}\n                          </a>\n                        {/each}\n                      </div>\n                    </div>\n                  {/if}\n                </div>\n              </div>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-10 text-center\">\n            <p class=\"text-gray-600\">No documented incidents</p>\n            <p class=\"text-sm text-gray-500 mt-1\">No offense records found for this artist</p>\n          </div>\n        {/if}\n      {/if}\n    </main>\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { currentUser, authActions } from '../stores/auth';\n  import { navigateTo } from '../utils/simple-router';\n  import { apiClient } from '../utils/api-client';\n\n  // Triadic color palette\n  const colors = {\n    green: { primary: '#30AF22', light: '#59BA48' },\n    blue: { primary: '#009BD7', light: '#00B4FF' },\n    pink: { primary: '#FF2C6E', light: '#FF728F' }\n  };\n\n  interface ConnectedAccount {\n    provider: string;\n    provider_user_id: string;\n    email?: string;\n    display_name?: string;\n    linked_at: string;\n  }\n\n  let isLoggingOut = false;\n  let connectedAccounts: ConnectedAccount[] = [];\n  let isLoadingConnections = true;\n  let connectingProvider: string | null = null;\n  let connectionError: string | null = null;\n\n  let blockFeatured = true;\n  let blockProducers = false;\n  let notifications = true;\n\n  onMount(async () => {\n    await loadConnections();\n  });\n\n  async function loadConnections() {\n    isLoadingConnections = true;\n    try {\n      const result = await apiClient.get<ConnectedAccount[]>('/api/v1/auth/oauth/accounts');\n      if (result.success && result.data) {\n        connectedAccounts = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load connections:', e);\n    } finally {\n      isLoadingConnections = false;\n    }\n  }\n\n  function isConnected(provider: string): boolean {\n    return connectedAccounts.some(a => a.provider === provider);\n  }\n\n  async function initiateOAuth(provider: string) {\n    connectingProvider = provider;\n    connectionError = null;\n    try {\n      const result = await apiClient.post<{ auth_url: string }>(`/api/v1/auth/oauth/${provider}/link`);\n      if (result.success && result.data?.auth_url) {\n        window.location.href = result.data.auth_url;\n      } else {\n        connectionError = 'Failed to initiate connection';\n      }\n    } catch (e) {\n      connectionError = 'Failed to connect. Please try again.';\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function disconnectService(provider: string) {\n    connectingProvider = provider;\n    try {\n      const result = await apiClient.delete(`/api/v1/auth/oauth/${provider}/unlink`);\n      if (result.success) {\n        connectedAccounts = connectedAccounts.filter(a => a.provider !== provider);\n      }\n    } catch (e) {\n      console.error('Disconnect failed:', e);\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function handleLogout() {\n    isLoggingOut = true;\n    try {\n      await authActions.logout();\n      window.location.href = '/';\n    } catch (e) {\n      isLoggingOut = false;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen bg-white\">\n  <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n    <div class=\"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4\">\n      <button\n        on:click={() => navigateTo('home')}\n        class=\"p-2 rounded-lg text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-colors\"\n        style=\"--focus-color: {colors.blue.primary};\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n      </button>\n      <h1 class=\"text-xl font-semibold text-gray-900\">Settings</h1>\n    </div>\n  </header>\n\n  <main class=\"max-w-2xl mx-auto px-4 py-6 space-y-6\">\n    <!-- Account -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Account</h2>\n      </div>\n      <div class=\"p-5 bg-white\">\n        <p class=\"text-sm text-gray-500\">Email</p>\n        <p class=\"mt-1 font-medium text-gray-900\">{$currentUser?.email || 'Not signed in'}</p>\n      </div>\n    </section>\n\n    <!-- Music Services -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Music Services</h2>\n        <p class=\"text-sm text-gray-500 mt-1\">Connect your streaming accounts to sync your blocklist</p>\n      </div>\n\n      {#if connectionError}\n        <div class=\"mx-5 mt-4 p-4 rounded-lg\" style=\"background-color: #FFE5ED; border: 1px solid {colors.pink.light};\">\n          <p class=\"text-sm\" style=\"color: {colors.pink.primary};\">{connectionError}</p>\n        </div>\n      {/if}\n\n      <div class=\"bg-white divide-y divide-gray-100\">\n        <!-- Spotify -->\n        <div class=\"p-5 flex items-center justify-between\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"w-12 h-12 bg-[#1DB954] rounded-full flex items-center justify-center\">\n              <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z\"/>\n              </svg>\n            </div>\n            <div>\n              <p class=\"font-medium text-gray-900\">Spotify</p>\n              {#if isLoadingConnections}\n                <p class=\"text-sm text-gray-500\">Loading...</p>\n              {:else if isConnected('spotify')}\n                <p class=\"text-sm font-medium\" style=\"color: {colors.green.primary};\">Connected</p>\n              {:else}\n                <p class=\"text-sm text-gray-500\">Not connected</p>\n              {/if}\n            </div>\n          </div>\n          {#if isConnected('spotify')}\n            <button\n              on:click={() => disconnectService('spotify')}\n              disabled={connectingProvider === 'spotify'}\n              class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'spotify' ? 'Disconnecting...' : 'Disconnect'}\n            </button>\n          {:else}\n            <button\n              on:click={() => initiateOAuth('spotify')}\n              disabled={connectingProvider === 'spotify'}\n              class=\"px-4 py-2 bg-[#1DB954] text-white rounded-lg text-sm font-medium hover:bg-[#1ed760] transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'spotify' ? 'Connecting...' : 'Connect'}\n            </button>\n          {/if}\n        </div>\n\n        <!-- Apple Music -->\n        <div class=\"p-5 flex items-center justify-between\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"w-12 h-12 bg-gradient-to-br from-[#FA2D48] to-[#A833B9] rounded-full flex items-center justify-center\">\n              <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.785-.476-2.144-1.32-.238-.56-.223-1.136-.017-1.7.303-.825.96-1.277 1.743-1.49.294-.08.595-.13.893-.18.323-.054.65-.1.973-.157.274-.048.47-.202.53-.486a.707.707 0 00.017-.146c.002-1.633.002-3.265.002-4.898v-.07l-.06-.01c-2.097.4-4.194.8-6.29 1.202-.014.002-.032.014-.037.026-.006.016-.003.037-.003.056v7.36c0 .418-.052.832-.227 1.218-.282.622-.76 1.02-1.416 1.207-.313.09-.634.138-.96.166-.906.08-1.732-.4-2.134-1.203-.268-.534-.278-1.1-.096-1.66.267-.817.864-1.304 1.64-1.55.376-.12.763-.185 1.148-.25.278-.047.558-.088.832-.145.317-.065.522-.25.58-.574a.504.504 0 00.007-.115v-8.41c0-.25.042-.493.15-.72.183-.385.486-.62.882-.728.17-.047.346-.073.522-.11 2.55-.526 5.1-1.05 7.65-1.573.093-.02.19-.03.285-.03.316.004.528.2.613.5.032.113.044.233.044.35v5.9z\"/>\n              </svg>\n            </div>\n            <div>\n              <p class=\"font-medium text-gray-900\">Apple Music</p>\n              {#if isLoadingConnections}\n                <p class=\"text-sm text-gray-500\">Loading...</p>\n              {:else if isConnected('apple')}\n                <p class=\"text-sm font-medium\" style=\"color: {colors.green.primary};\">Connected</p>\n              {:else}\n                <p class=\"text-sm text-gray-500\">Not connected</p>\n              {/if}\n            </div>\n          </div>\n          {#if isConnected('apple')}\n            <button\n              on:click={() => disconnectService('apple')}\n              disabled={connectingProvider === 'apple'}\n              class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'apple' ? 'Disconnecting...' : 'Disconnect'}\n            </button>\n          {:else}\n            <button\n              on:click={() => initiateOAuth('apple')}\n              disabled={connectingProvider === 'apple'}\n              class=\"px-4 py-2 bg-gradient-to-r from-[#FA2D48] to-[#A833B9] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-opacity disabled:opacity-50\"\n            >\n              {connectingProvider === 'apple' ? 'Connecting...' : 'Connect'}\n            </button>\n          {/if}\n        </div>\n      </div>\n    </section>\n\n    <!-- Preferences -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Preferences</h2>\n      </div>\n      <div class=\"bg-white divide-y divide-gray-100\">\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">Block featured artists</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Also block songs where artist is featured</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => blockFeatured = !blockFeatured}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {blockFeatured ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {blockFeatured ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">Block producer credits</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Block songs produced by blocked artists</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => blockProducers = !blockProducers}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {blockProducers ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {blockProducers ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">News notifications</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Get notified when new artists are added</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => notifications = !notifications}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {notifications ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {notifications ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <!-- Account Actions -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Account Actions</h2>\n      </div>\n      <div class=\"p-5 bg-white space-y-3\">\n        <button\n          on:click={handleLogout}\n          disabled={isLoggingOut}\n          class=\"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 disabled:opacity-50\"\n        >\n          {#if isLoggingOut}\n            <div\n              class=\"w-4 h-4 border-2 rounded-full animate-spin\"\n              style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"\n            ></div>\n            <span>Signing out...</span>\n          {:else}\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n            </svg>\n            <span>Sign out</span>\n          {/if}\n        </button>\n        <button\n          class=\"w-full px-4 py-3 rounded-lg text-sm font-medium transition-colors\"\n          style=\"background-color: #FFE5ED; color: {colors.pink.primary}; border: 1px solid {colors.pink.light};\"\n        >\n          Delete account\n        </button>\n      </div>\n    </section>\n\n    <p class=\"text-center text-sm text-gray-400\">\n      No Drake in the House v1.0.0\n    </p>\n  </main>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo } from '../utils/simple-router';\n\n  let status: 'loading' | 'success' | 'error' = 'loading';\n  let errorMessage = '';\n  let provider = '';\n\n  onMount(async () => {\n    // Parse URL parameters\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n    const state = params.get('state');\n    const error = params.get('error');\n    const errorDescription = params.get('error_description');\n\n    // Extract provider from path (e.g., /auth/callback/spotify)\n    const pathParts = window.location.pathname.split('/');\n    provider = pathParts[pathParts.length - 1] || 'unknown';\n\n    // Handle OAuth errors\n    if (error) {\n      status = 'error';\n      errorMessage = errorDescription || error || 'Authentication was cancelled or denied';\n      return;\n    }\n\n    if (!code || !state) {\n      status = 'error';\n      errorMessage = 'Missing authentication parameters';\n      return;\n    }\n\n    try {\n      // Complete the OAuth link flow\n      const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/link-callback`, {\n        code,\n        state\n      });\n\n      if (result.success) {\n        status = 'success';\n        // Redirect to settings after a brief moment\n        setTimeout(() => {\n          navigateTo('settings');\n        }, 1500);\n      } else {\n        status = 'error';\n        errorMessage = result.error || 'Failed to link account';\n      }\n    } catch (e) {\n      status = 'error';\n      errorMessage = e instanceof Error ? e.message : 'An unexpected error occurred';\n    }\n  });\n\n  function goToSettings() {\n    navigateTo('settings');\n  }\n\n  function goHome() {\n    navigateTo('home');\n  }\n\n  function getProviderName(p: string): string {\n    switch (p) {\n      case 'spotify': return 'Spotify';\n      case 'apple': return 'Apple Music';\n      case 'google': return 'Google';\n      case 'github': return 'GitHub';\n      default: return p;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4\">\n  <div class=\"bg-gray-800 rounded-xl border border-gray-600 p-8 max-w-md w-full text-center\">\n    {#if status === 'loading'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2\">Connecting {getProviderName(provider)}</h1>\n      <p class=\"text-gray-400\">Please wait while we complete the connection...</p>\n    {:else if status === 'success'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-green-400\">Connected!</h1>\n      <p class=\"text-gray-400 mb-6\">Your {getProviderName(provider)} account has been linked successfully.</p>\n      <button\n        on:click={goToSettings}\n        class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n      >\n        Go to Settings\n      </button>\n    {:else}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-red-400\">Connection Failed</h1>\n      <p class=\"text-gray-400 mb-6\">{errorMessage}</p>\n      <div class=\"flex gap-3 justify-center\">\n        <button\n          on:click={goToSettings}\n          class=\"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors\"\n        >\n          Try Again\n        </button>\n        <button\n          on:click={goHome}\n          class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n        >\n          Go Home\n        </button>\n      </div>\n    {/if}\n  </div>\n</div>\n","<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\timport { isAuthenticated, authActions } from \"./lib/stores/auth\";\n\timport { initRouter, currentRoute } from \"./lib/utils/simple-router\";\n\timport Login from \"./lib/components/Login.svelte\";\n\timport Home from \"./lib/components/Home.svelte\";\n\timport Settings from \"./lib/components/Settings.svelte\";\n\timport OAuthCallback from \"./lib/components/OAuthCallback.svelte\";\n\n\tlet isInitialized = false;\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tinitRouter();\n\t\t\tawait authActions.fetchProfile();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Init error:\", error);\n\t\t} finally {\n\t\t\tisInitialized = true;\n\t\t}\n\t});\n</script>\n\n{#if !isInitialized}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900\">\n\t\t<div class=\"text-center\">\n\t\t\t<div class=\"w-8 h-8 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n\t\t\t<p class=\"mt-4 text-gray-400\">Loading...</p>\n\t\t</div>\n\t</div>\n{:else if $currentRoute === 'oauth-callback'}\n\t<OAuthCallback />\n{:else if $currentRoute === 'oauth-error'}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4\">\n\t\t<div class=\"max-w-md w-full text-center\">\n\t\t\t<div class=\"text-red-500 text-6xl mb-4\">!</div>\n\t\t\t<h2 class=\"text-2xl font-bold text-white mb-2\">Connection Failed</h2>\n\t\t\t<p class=\"text-gray-400 mb-6\">There was a problem connecting your account. Please try again.</p>\n\t\t\t<button\n\t\t\t\ton:click={() => window.location.href = '/'}\n\t\t\t\tclass=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\n\t\t\t>\n\t\t\t\tGo Back\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{:else if $isAuthenticated}\n\t{#if $currentRoute === 'settings'}\n\t\t<Settings />\n\t{:else}\n\t\t<Home />\n\t{/if}\n{:else}\n\t<Login />\n{/if}\n\n<style>\n\t:global(body) {\n\t\tbackground-color: rgb(17, 24, 39);\n\t}\n</style>\n","import App from './App.svelte';\nimport './app.css';\nconst app = new App({\n    target: document.body,\n});\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","callback","undefined","unsub","unsubscribe","component_subscribe","component","$$","on_destroy","push","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","current_component","set_current_component","onMount","Error","get_current_component","on_mount","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","e","pop","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","ensure_array_like","array_like_or_iterator","Array","from","create_component","mount_component","m","new_on_destroy","map","filter","destroy_component","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","childNodes","children","l","intro","SvelteComponent","$$set","$destroy","this","$on","type","index","splice","$set","obj","keys","window","__svelte","v","subscriber_queue","writable","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","derived","stores","initial_value","single","isArray","stores_array","every","Boolean","auto","started","values","pending","cleanup","sync","result","unsubscribers","apiClient","constructor","baseUrl","defineProperty","enumerable","configurable","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","clearAuthToken","removeItem","createHeaders","includeAuth","headers","handleResponse","response","contentType","get","includes","json","message","ok","success","timestamp","Date","toISOString","status","statusText","error_code","withRetry","operation","retries","maxRetries","lastError","attempt","delay","retryDelay","Math","pow","setTimeout","error","endpoint","url","fetch","method","post","body","JSON","stringify","put","handleAuthError","refreshToken","refresh_token","access_token","console","authenticatedRequest","dispatchEvent","CustomEvent","detail","reason","authStore","user","isAuthenticated","isLoading","justRegistered","oauthFlow","provider","state","isInProgress","$auth","currentUser","authActions","login","async","email","password","totpCode","totp_code","fetchProfile","register","confirmPassword","termsAccepted","confirm_password","terms_accepted","autoLogin","errors","logout","newRefreshToken","setup2FA","api","qrCodeUrl","qr_code_url","secret","verify2FA","code","disable2FA","clearJustRegistered","initiateOAuthFlow","authorization_url","sessionStorage","authState","location","href","completeOAuthFlow","storedState","redirect_uri","origin","pathname","linkOAuthAccount","unlinkOAuthAccount","getLinkedAccounts","pathToRoute","routeToPath","home","settings","routeMeta","title","description","currentRoute","navigateTo","route","path","meta","history","pushState","getRouteFromPath","startsWith","div","t12_value","t14_value","create_if_block_3","create_if_block_2","if_block2","create_if_block_1","create_if_block","div9","div8","div0","form","div1","input0","div2","input1","button0","div3","button1","div7","preventDefault","call","t12","t14","mode","$$invalidate","err","$route","getSeverityStyle","child_ctx","severity","create_if_block_13","create_if_block_14","header","button","main","create_if_block_11","create_if_block_8","create_if_block_10","create_if_block_4","blue","primary","svg","path0","path1","section0","section1","h20","section2","h21","t0_value","canonical_name","charAt","t2_value","t7_value","id","genres","create_if_block_22","create_if_block_20","show_if","offenses","create_if_block_15","light","p1","pink","green","button_style_value","div6","h1","div5","div4","p0","h2","t0","t2","t7","t_value","join","t","span","each_value_4","incident_date","toLocaleDateString","year","month","day","evidence","each_value_5","t1","t1_value","source_name","credibility_score","if_block0","create_if_block_18","if_block1","create_if_block_17","a_href_value","source_url","formatCategoryName","category","label","t4_value","t6_value","create_if_block_19","create_if_block_16","span1","span1_style_value","bg","span0","h3","t4","t6","slice","create_if_block_9","create_if_block_6","create_if_block_7","span_style_value","t3_value","artist_count","subscribed","create_if_block_5","button0_style_value","t3","create_if_block_12","split","w","toUpperCase","searchTimeout","currentView","searchQuery","searchResults","isSearching","categoryLists","isLoadingCategories","expandedCategoryId","categoryArtists","isLoadingCategoryArtists","blockedArtists","isLoadingBlocked","selectedArtist","isLoadingArtistDetail","blockingArtistId","dnpList","loadCategories","loadBlockedArtists","loadDnpList","item","artist_id","toggleCategory","categoryId","artists","loadCategoryArtists","toggleCategorySubscription","stopPropagation","wasSubscribed","goToArtist","artistId","artistName","goBack","toggleArtistBlock","isCurrentlyBlocked","all","clearTimeout","trim","encodeURIComponent","artist","disabled","button_disabled_value","show_if_3","show_if_1","div23","svg0","div12","p3","div11","div10","p4","div13","div20","div15","div14","div17","div16","button2","div19","div18","button3","span2","section3","div21","div22","button4","button5","p11","isLoggingOut","connectedAccounts","isLoadingConnections","connectingProvider","connectionError","blockFeatured","blockProducers","notifications","initiateOAuth","auth_url","disconnectService","loadConnections","some","getProviderName","errorMessage","params","URLSearchParams","search","errorDescription","pathParts","isInitialized","initialRoute","initRouter"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}