{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/environment.js","../../node_modules/svelte/src/runtime/internal/loop.js","../../node_modules/svelte/src/runtime/internal/globals.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/style_manager.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/svelte/src/runtime/store/index.js","../../src/lib/utils/api-client.ts","../../src/lib/stores/auth.ts","../../src/lib/utils/simple-router.ts","../../src/lib/components/Login.svelte","../../src/lib/stores/blocking.ts","../../src/lib/utils/musickit.ts","../../src/lib/stores/connections.ts","../../src/lib/components/EnforcementBadges.svelte","../../src/lib/components/Home.svelte","../../src/lib/components/Settings.svelte","../../src/lib/components/OAuthCallback.svelte","../../src/lib/stores/sync.ts","../../src/lib/components/SyncDashboard.svelte","../../src/lib/stores/analytics.ts","../../src/lib/components/CategoryRevenueBreakdown.svelte","../../src/lib/stores/artist.ts","../../src/lib/components/ui/Skeleton.svelte","../../src/lib/components/AnalyticsDashboard.svelte","../../src/lib/stores/graph.ts","../../src/lib/components/GraphExplorer.svelte","../../src/lib/components/ArtistDiscographyRevenue.svelte","../../src/lib/components/ArtistProfile.svelte","../../node_modules/svelte/src/runtime/easing/index.js","../../node_modules/svelte/src/runtime/transition/index.js","../../src/lib/components/BlockingToasts.svelte","../../src/lib/components/Layout.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.$$l[type]) {\n\t\t\t\tconst idx = this.$$l[type].indexOf(listener);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis.$$l[type].splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.20';\nexport const PUBLIC_VERSION = '4';\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","/**\n * Centralized API client for consistent request/response handling\n * Handles authentication, error handling, and retry logic\n */\nexport class ApiClient {\n    constructor(baseUrl = 'http://localhost:3000') {\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"maxRetries\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3\n        });\n        Object.defineProperty(this, \"retryDelay\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1000\n        }); // Base delay in ms\n        this.baseUrl = baseUrl;\n    }\n    /**\n     * Get authentication token from localStorage\n     */\n    getAuthToken() {\n        return localStorage.getItem('auth_token');\n    }\n    /**\n     * Set authentication token in localStorage\n     */\n    setAuthToken(token) {\n        localStorage.setItem('auth_token', token);\n    }\n    /**\n     * Clear authentication token\n     */\n    clearAuthToken() {\n        localStorage.removeItem('auth_token');\n    }\n    /**\n     * Create request headers with authentication\n     */\n    createHeaders(includeAuth = true) {\n        const headers = {\n            'Content-Type': 'application/json',\n        };\n        if (includeAuth) {\n            const token = this.getAuthToken();\n            if (token) {\n                headers['Authorization'] = `Bearer ${token}`;\n            }\n        }\n        return headers;\n    }\n    /**\n     * Handle API response and extract data\n     */\n    async handleResponse(response) {\n        const contentType = response.headers.get('content-type');\n        let data;\n        if (contentType && contentType.includes('application/json')) {\n            data = await response.json();\n        }\n        else {\n            data = { message: await response.text() };\n        }\n        // If response has the expected format, return it\n        if (typeof data === 'object' && data !== null && 'success' in data) {\n            return data;\n        }\n        // Handle non-standard responses\n        if (response.ok) {\n            return {\n                success: true,\n                data: data,\n                timestamp: new Date().toISOString(),\n            };\n        }\n        else {\n            return {\n                success: false,\n                message: data.message || `HTTP ${response.status}: ${response.statusText}`,\n                error_code: `HTTP_${response.status}`,\n                timestamp: new Date().toISOString(),\n            };\n        }\n    }\n    /**\n     * Retry logic with exponential backoff\n     */\n    async withRetry(operation, retries = this.maxRetries) {\n        let lastError = null;\n        for (let attempt = 0; attempt <= retries; attempt++) {\n            try {\n                const response = await operation();\n                // Don't retry on authentication errors or client errors (4xx)\n                if (response.status === 401 || response.status === 403 ||\n                    (response.status >= 400 && response.status < 500)) {\n                    return this.handleResponse(response);\n                }\n                // Don't retry on success\n                if (response.ok) {\n                    return this.handleResponse(response);\n                }\n                // Retry on server errors (5xx) or network issues\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n                return this.handleResponse(response);\n            }\n            catch (error) {\n                lastError = error;\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n            }\n        }\n        // If all retries failed, return error response\n        return {\n            success: false,\n            message: lastError?.message || 'Network request failed after retries',\n            error_code: 'NETWORK_ERROR',\n            timestamp: new Date().toISOString(),\n        };\n    }\n    /**\n     * GET request\n     */\n    async get(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'GET',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * POST request\n     */\n    async post(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'POST',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * PUT request\n     */\n    async put(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'PUT',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * DELETE request\n     */\n    async delete(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'DELETE',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * Handle authentication errors by attempting token refresh\n     */\n    async handleAuthError() {\n        try {\n            const refreshToken = localStorage.getItem('refresh_token');\n            if (!refreshToken) {\n                return false;\n            }\n            const response = await this.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n            );\n            if (response.success && response.data) {\n                this.setAuthToken(response.data.access_token);\n                localStorage.setItem('refresh_token', response.data.refresh_token);\n                return true;\n            }\n            return false;\n        }\n        catch (error) {\n            console.error('Token refresh failed:', error);\n            return false;\n        }\n    }\n    /**\n     * Make authenticated request with automatic token refresh\n     */\n    async authenticatedRequest(method, endpoint, data) {\n        let response;\n        // Make initial request\n        switch (method) {\n            case 'GET':\n                response = await this.get(endpoint);\n                break;\n            case 'POST':\n                response = await this.post(endpoint, data);\n                break;\n            case 'PUT':\n                response = await this.put(endpoint, data);\n                break;\n            case 'DELETE':\n                response = await this.delete(endpoint);\n                break;\n        }\n        // If unauthorized, try to refresh token and retry once\n        if (!response.success && response.error_code === 'HTTP_401') {\n            const refreshed = await this.handleAuthError();\n            if (refreshed) {\n                // Retry the original request\n                switch (method) {\n                    case 'GET':\n                        response = await this.get(endpoint);\n                        break;\n                    case 'POST':\n                        response = await this.post(endpoint, data);\n                        break;\n                    case 'PUT':\n                        response = await this.put(endpoint, data);\n                        break;\n                    case 'DELETE':\n                        response = await this.delete(endpoint);\n                        break;\n                }\n            }\n            else {\n                // Clear tokens and redirect to login\n                this.clearAuthToken();\n                localStorage.removeItem('refresh_token');\n                // Dispatch custom event for auth failure\n                window.dispatchEvent(new CustomEvent('auth:logout', {\n                    detail: { reason: 'token_refresh_failed' }\n                }));\n            }\n        }\n        return response;\n    }\n}\n// Create singleton instance\nexport const apiClient = new ApiClient();\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    user: null,\n    token: localStorage.getItem('auth_token'),\n    refreshToken: localStorage.getItem('refresh_token'),\n    isAuthenticated: false,\n    isLoading: false,\n    justRegistered: false,\n    oauthFlow: {\n        provider: null,\n        state: null,\n        isInProgress: false,\n    },\n};\nexport const authStore = writable(initialState);\nexport const isAuthenticated = derived(authStore, ($auth) => $auth.isAuthenticated && $auth.token !== null);\nexport const currentUser = derived(authStore, ($auth) => $auth.user);\nexport const justRegistered = derived(authStore, ($auth) => $auth.justRegistered);\n// Auth actions\nexport const authActions = {\n    login: async (email, password, totpCode) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/login', {\n            email,\n            password,\n            totp_code: totpCode\n        }, false // Don't include auth for login\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', refresh_token);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: refresh_token,\n                isAuthenticated: true,\n                isLoading: false,\n                justRegistered: false, // Reset on login\n            }));\n            // Fetch user profile\n            await authActions.fetchProfile();\n            return { success: true };\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return { success: false, message: result.message || 'Login failed' };\n        }\n    },\n    register: async (email, password, confirmPassword, termsAccepted) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/register', {\n            email,\n            password,\n            confirm_password: confirmPassword,\n            terms_accepted: termsAccepted\n        }, false // Don't include auth for registration\n        );\n        if (result.success) {\n            // Check if auto-login was successful (tokens returned)\n            if (result.data?.access_token && result.data?.refresh_token) {\n                const { access_token, refresh_token } = result.data;\n                apiClient.setAuthToken(access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                authStore.update(state => ({\n                    ...state,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    isLoading: false,\n                    justRegistered: true, // Mark as just registered for better UX\n                }));\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true, autoLogin: true };\n            }\n            else {\n                authStore.update(state => ({ ...state, isLoading: false }));\n                return { success: true, autoLogin: false, message: result.message };\n            }\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return {\n                success: false,\n                message: result.message || 'Registration failed',\n                errors: result.data?.errors || null\n            };\n        }\n    },\n    fetchProfile: async () => {\n        const token = apiClient.getAuthToken();\n        if (!token)\n            return;\n        const result = await apiClient.authenticatedRequest('GET', '/api/v1/users/profile');\n        if (result.success && result.data) {\n            authStore.update(state => ({\n                ...state,\n                user: result.data,\n                isAuthenticated: true,\n            }));\n        }\n        else {\n            console.error('Failed to fetch profile:', result.message);\n        }\n    },\n    logout: async () => {\n        const token = apiClient.getAuthToken();\n        if (token) {\n            try {\n                await apiClient.authenticatedRequest('POST', '/api/v1/auth/logout');\n            }\n            catch (error) {\n                console.error('Logout request failed:', error);\n            }\n        }\n        apiClient.clearAuthToken();\n        localStorage.removeItem('refresh_token');\n        authStore.set({\n            user: null,\n            token: null,\n            refreshToken: null,\n            isAuthenticated: false,\n            isLoading: false,\n            justRegistered: false,\n            oauthFlow: {\n                provider: null,\n                state: null,\n                isInProgress: false,\n            },\n        });\n    },\n    refreshToken: async () => {\n        const refreshToken = localStorage.getItem('refresh_token');\n        if (!refreshToken)\n            return false;\n        const result = await apiClient.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token: newRefreshToken } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', newRefreshToken);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: newRefreshToken,\n                isAuthenticated: true,\n            }));\n            return true;\n        }\n        else {\n            console.error('Token refresh failed:', result.message);\n            return false;\n        }\n    },\n    // 2FA Management\n    setup2FA: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/setup');\n            if (result.success && result.data) {\n                return {\n                    success: true,\n                    qrCodeUrl: result.data.qr_code_url,\n                    secret: result.data.secret\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to setup 2FA' };\n        }\n    },\n    verify2FA: async (code) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/verify', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now enabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to verify 2FA code' };\n        }\n    },\n    disable2FA: async (code) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/disable', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now disabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to disable 2FA' };\n        }\n    },\n    // Clear the just registered flag (useful for onboarding flows)\n    clearJustRegistered: () => {\n        authStore.update(state => ({\n            ...state,\n            justRegistered: false,\n        }));\n    },\n    // OAuth-specific actions\n    initiateOAuthFlow: async (provider) => {\n        authStore.update(state => ({\n            ...state,\n            oauthFlow: {\n                provider,\n                state: null,\n                isInProgress: true,\n            },\n        }));\n        try {\n            const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/initiate`, undefined, false);\n            if (result.success && result.data) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_state_${provider}`, state);\n                authStore.update(authState => ({\n                    ...authState,\n                    oauthFlow: {\n                        ...authState.oauthFlow,\n                        state,\n                    },\n                }));\n                // Redirect to OAuth provider\n                window.location.href = authorization_url;\n                return { success: true };\n            }\n            else {\n                authStore.update(state => ({\n                    ...state,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    completeOAuthFlow: async (provider, code, state) => {\n        try {\n            // Validate state parameter\n            const storedState = sessionStorage.getItem(`oauth_state_${provider}`);\n            if (!storedState || storedState !== state) {\n                throw new Error('Invalid state parameter - possible CSRF attack');\n            }\n            const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/callback`, {\n                code,\n                state,\n                redirect_uri: window.location.origin + window.location.pathname,\n            }, false);\n            if (result.success && result.data) {\n                const { access_token, refresh_token } = result.data;\n                // Store tokens\n                localStorage.setItem('auth_token', access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                // Update auth store\n                authStore.update(authState => ({\n                    ...authState,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                // Clean up stored state\n                sessionStorage.removeItem(`oauth_state_${provider}`);\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                throw new Error(result.message || 'OAuth authentication failed');\n            }\n        }\n        catch (error) {\n            // Clean up on error\n            sessionStorage.removeItem(`oauth_state_${provider}`);\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Authentication failed' };\n        }\n    },\n    linkOAuthAccount: async (provider) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', `/api/v1/auth/oauth/${provider}/link`);\n            if (result.success && result.data) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_link_state_${provider}`, state);\n                return {\n                    success: true,\n                    authorization_url,\n                    state\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    unlinkOAuthAccount: async (provider) => {\n        try {\n            const result = await apiClient.authenticatedRequest('DELETE', `/api/v1/auth/oauth/${provider}/unlink`);\n            if (result.success) {\n                // Refresh user profile to update linked accounts\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    getLinkedAccounts: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/auth/oauth/accounts');\n            if (result.success) {\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n};\n// Initialize auth state on app load\nif (typeof window !== 'undefined') {\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n        apiClient.setAuthToken(token);\n        authStore.update(state => ({\n            ...state,\n            token,\n            isAuthenticated: true,\n            justRegistered: false, // Reset on app load\n        }));\n        authActions.fetchProfile();\n    }\n    // Listen for auth logout events from API client\n    window.addEventListener('auth:logout', () => {\n        authActions.logout();\n    });\n}\n","import { writable, derived } from 'svelte/store';\n// Path mappings\nconst pathToRoute = {\n    '/': 'home',\n    '/home': 'home',\n    '/dashboard': 'dashboard',\n    '/settings': 'settings',\n    '/profile': 'profile',\n    '/blocklist': 'blocklist',\n    '/library-scan': 'library-scan',\n    '/offense-database': 'offense-database',\n    '/connections': 'connections',\n    '/community': 'community',\n    '/sync': 'sync',\n    '/analytics': 'analytics',\n    '/revenue-impact': 'revenue-impact',\n    '/graph': 'graph',\n    '/overview': 'overview',\n    '/dnp': 'dnp',\n    '/enforcement': 'enforcement',\n};\nconst routeToPath = {\n    'home': '/',\n    'dashboard': '/dashboard',\n    'settings': '/settings',\n    'profile': '/profile',\n    'blocklist': '/blocklist',\n    'library-scan': '/library-scan',\n    'offense-database': '/offense-database',\n    'connections': '/connections',\n    'community': '/community',\n    'sync': '/sync',\n    'analytics': '/analytics',\n    'revenue-impact': '/revenue-impact',\n    'graph': '/graph',\n    'oauth-callback': '/auth/callback',\n    'oauth-error': '/auth/error',\n    'overview': '/overview',\n    'dnp': '/dnp',\n    'enforcement': '/enforcement',\n    'artist-profile': '/artist',\n};\n// Route metadata\nconst routeMeta = {\n    'home': { title: 'Home', description: 'Your music blocklist dashboard' },\n    'dashboard': { title: 'Dashboard', description: 'Your music blocklist dashboard' },\n    'settings': { title: 'Settings', description: 'Account and connection settings' },\n    'profile': { title: 'Profile', description: 'Your profile settings' },\n    'blocklist': { title: 'Blocklist', description: 'Manage your blocked artists' },\n    'library-scan': { title: 'Scan Library', description: 'Scan your music library' },\n    'offense-database': { title: 'Database', description: 'Browse offense database' },\n    'connections': { title: 'Connections', description: 'Manage streaming connections' },\n    'community': { title: 'Community', description: 'Community lists' },\n    'sync': { title: 'Catalog Sync', description: 'Synchronize artist catalogs across platforms' },\n    'analytics': { title: 'Analytics', description: 'View system metrics and trends' },\n    'revenue-impact': { title: 'Revenue Impact', description: 'See where your streaming revenue goes' },\n    'graph': { title: 'Graph Explorer', description: 'Explore artist collaboration networks' },\n    'oauth-callback': { title: 'Connecting...', description: 'Processing authentication' },\n    'oauth-error': { title: 'Connection Error', description: 'There was a problem connecting' },\n    'overview': { title: 'Overview', description: 'Dashboard overview' },\n    'dnp': { title: 'DNP List', description: 'Your Do Not Play list' },\n    'enforcement': { title: 'Enforcement', description: 'Blocklist enforcement status' },\n    'artist-profile': { title: 'Artist Profile', description: 'View artist details and evidence' },\n};\n// Router store\nexport const currentRoute = writable('home');\n// Route params store (for dynamic routes like /artist/:id)\nexport const routeParams = writable({});\n// Derived store for route metadata\nexport const currentRouteMeta = derived(currentRoute, $route => routeMeta[$route]);\n// Navigation function\nexport function navigateTo(route, params) {\n    currentRoute.set(route);\n    routeParams.set(params || {});\n    if (typeof window !== 'undefined') {\n        let path = routeToPath[route] || '/';\n        // Handle dynamic routes\n        if (route === 'artist-profile' && params?.id) {\n            path = `/artist/${params.id}`;\n        }\n        const meta = routeMeta[route];\n        window.history.pushState({ route, params }, meta.title, path);\n        document.title = `${meta.title} - No Drake in the House`;\n    }\n}\n// Navigate to artist profile\nexport function navigateToArtist(artistId) {\n    navigateTo('artist-profile', { id: artistId });\n}\n// Parse route and extract params from path\nfunction parseRoute(path) {\n    if (path.startsWith('/auth/callback'))\n        return { route: 'oauth-callback', params: {} };\n    if (path.startsWith('/auth/error'))\n        return { route: 'oauth-error', params: {} };\n    // Handle dynamic artist profile route: /artist/:id\n    const artistMatch = path.match(/^\\/artist\\/([^\\/]+)/);\n    if (artistMatch) {\n        return { route: 'artist-profile', params: { id: artistMatch[1] } };\n    }\n    return { route: pathToRoute[path] || 'home', params: {} };\n}\n// Initialize router\nexport function initRouter() {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', (event) => {\n            if (event.state?.route) {\n                currentRoute.set(event.state.route);\n                routeParams.set(event.state.params || {});\n            }\n            else {\n                const { route, params } = parseRoute(window.location.pathname);\n                currentRoute.set(route);\n                routeParams.set(params);\n            }\n        });\n        const { route: initialRoute, params: initialParams } = parseRoute(window.location.pathname);\n        currentRoute.set(initialRoute);\n        routeParams.set(initialParams);\n        document.title = `${routeMeta[initialRoute].title} - No Drake in the House`;\n    }\n}\nexport function getPath(route) {\n    return routeToPath[route] || '/';\n}\n","<script lang=\"ts\">\n  import { authActions } from '../stores/auth';\n\n  let mode: 'login' | 'register' = 'login';\n  let isLoading = false;\n  let error = '';\n  let success = '';\n\n  // Form fields\n  let email = '';\n  let password = '';\n  let confirmPassword = '';\n\n  async function handleSubmit() {\n    error = '';\n    success = '';\n    isLoading = true;\n\n    try {\n      if (mode === 'login') {\n        const result = await authActions.login(email, password);\n        if (!result.success) {\n          error = result.message || 'Login failed';\n        }\n      } else {\n        if (password !== confirmPassword) {\n          error = 'Passwords do not match';\n          isLoading = false;\n          return;\n        }\n        const result = await authActions.register(email, password, confirmPassword, true);\n        if (result.success) {\n          success = 'Account created! You can now sign in.';\n          mode = 'login';\n          password = '';\n          confirmPassword = '';\n        } else {\n          error = result.message || 'Registration failed';\n        }\n      }\n    } catch (err) {\n      error = 'Something went wrong. Please try again.';\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  function switchMode() {\n    mode = mode === 'login' ? 'register' : 'login';\n    error = '';\n    success = '';\n    password = '';\n    confirmPassword = '';\n  }\n</script>\n\n<div class=\"min-h-screen flex flex-col items-center justify-center px-4\" style=\"background: #18181b;\">\n  <div class=\"w-full max-w-sm\">\n    <!-- Logo -->\n    <div class=\"text-center mb-8\">\n      <div class=\"inline-flex items-center justify-center w-16 h-16 rounded-full mb-5 bg-rose-500\">\n        <svg class=\"w-9 h-9 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.5\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n        </svg>\n      </div>\n      <h1 class=\"text-3xl font-bold text-white tracking-tight\">No Drake in the House</h1>\n      <p class=\"text-zinc-300 mt-2\">Take control of your music</p>\n    </div>\n\n    <!-- Form -->\n    <form on:submit|preventDefault={handleSubmit} class=\"space-y-4\">\n      {#if error}\n        <div class=\"flex items-center gap-3 px-4 py-3 rounded-lg\" style=\"background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.4);\">\n          <svg class=\"w-5 h-5 text-red-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <span class=\"text-red-200 text-sm\">{error}</span>\n        </div>\n      {/if}\n\n      {#if success}\n        <div class=\"flex items-center gap-3 px-4 py-3 rounded-lg\" style=\"background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4);\">\n          <svg class=\"w-5 h-5 text-green-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <span class=\"text-green-200 text-sm\">{success}</span>\n        </div>\n      {/if}\n\n      <div>\n        <label for=\"email\" class=\"block text-sm font-medium text-white mb-2\">Email</label>\n        <input\n          id=\"email\"\n          type=\"email\"\n          bind:value={email}\n          placeholder=\"name@example.com\"\n          required\n          class=\"w-full rounded-lg px-4 py-3 text-white placeholder-zinc-500 focus:outline-none transition-colors\"\n          style=\"background: #27272a; border: 1px solid #52525b;\"\n        />\n      </div>\n\n      <div>\n        <label for=\"password\" class=\"block text-sm font-medium text-white mb-2\">Password</label>\n        <input\n          id=\"password\"\n          type=\"password\"\n          bind:value={password}\n          placeholder=\"Password\"\n          required\n          minlength=\"8\"\n          class=\"w-full rounded-lg px-4 py-3 text-white placeholder-zinc-500 focus:outline-none transition-colors\"\n          style=\"background: #27272a; border: 1px solid #52525b;\"\n        />\n      </div>\n\n      {#if mode === 'register'}\n        <div>\n          <label for=\"confirmPassword\" class=\"block text-sm font-medium text-white mb-2\">Confirm Password</label>\n          <input\n            id=\"confirmPassword\"\n            type=\"password\"\n            bind:value={confirmPassword}\n            placeholder=\"Confirm password\"\n            required\n            minlength=\"8\"\n            class=\"w-full rounded-lg px-4 py-3 text-white placeholder-zinc-500 focus:outline-none transition-colors\"\n            style=\"background: #27272a; border: 1px solid #52525b;\"\n          />\n        </div>\n      {/if}\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        class=\"w-full bg-rose-500 hover:bg-rose-600 text-white font-semibold py-3 rounded-full transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6 hover:scale-[1.02] active:scale-[0.98]\"\n      >\n        {#if isLoading}\n          <div class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n        {/if}\n        {mode === 'login' ? 'Sign in' : 'Create account'}\n      </button>\n    </form>\n\n    <!-- Divider -->\n    <div class=\"flex items-center gap-4 my-6\">\n      <div class=\"flex-1 h-px\" style=\"background: #3f3f46;\"></div>\n      <span class=\"text-zinc-400 text-sm\">or</span>\n      <div class=\"flex-1 h-px\" style=\"background: #3f3f46;\"></div>\n    </div>\n\n    <!-- Switch mode -->\n    <div class=\"text-center\">\n      <span class=\"text-zinc-300\">{mode === 'login' ? \"Don't have an account?\" : 'Already have an account?'}</span>\n      <button\n        type=\"button\"\n        on:click={switchMode}\n        class=\"text-white underline hover:text-rose-400 transition-colors ml-1\"\n      >\n        {mode === 'login' ? 'Sign up' : 'Sign in'}\n      </button>\n    </div>\n\n    <!-- Features -->\n    <div class=\"mt-10 pt-8\" style=\"border-top: 1px solid #3f3f46;\">\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\" style=\"background: rgba(244, 63, 94, 0.15);\">\n            <svg class=\"w-4 h-4 text-rose-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <span class=\"text-zinc-200 text-sm\">Evidence-based artist blocklists</span>\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\" style=\"background: rgba(244, 63, 94, 0.15);\">\n            <svg class=\"w-4 h-4 text-rose-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <span class=\"text-zinc-200 text-sm\">Works with Spotify and Apple Music</span>\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\" style=\"background: rgba(244, 63, 94, 0.15);\">\n            <svg class=\"w-4 h-4 text-rose-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <span class=\"text-zinc-200 text-sm\">Blocks features and collaborations</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { writable, derived } from 'svelte/store';\nconst initialState = {\n    activeOperations: [],\n    artistEnforcements: new Map(),\n    toasts: [],\n};\nfunction createBlockingStore() {\n    const { subscribe, update, set } = writable(initialState);\n    // Load saved enforcement statuses from localStorage\n    function loadFromStorage() {\n        try {\n            const stored = localStorage.getItem('artistEnforcements');\n            if (stored) {\n                const parsed = JSON.parse(stored);\n                update(state => ({\n                    ...state,\n                    artistEnforcements: new Map(Object.entries(parsed)),\n                }));\n            }\n        }\n        catch (e) {\n            console.error('Failed to load enforcement statuses:', e);\n        }\n    }\n    // Save enforcement statuses to localStorage\n    function saveToStorage(enforcements) {\n        try {\n            const obj = Object.fromEntries(enforcements);\n            localStorage.setItem('artistEnforcements', JSON.stringify(obj));\n        }\n        catch (e) {\n            console.error('Failed to save enforcement statuses:', e);\n        }\n    }\n    return {\n        subscribe,\n        init: () => {\n            loadFromStorage();\n        },\n        // Start a blocking/unblocking operation\n        startOperation: (artistId, artistName, action, connectedPlatforms) => {\n            const operation = {\n                artistId,\n                artistName,\n                action,\n                startedAt: new Date().toISOString(),\n                platforms: connectedPlatforms.map(platform => ({\n                    platform,\n                    status: 'pending',\n                })),\n                overallStatus: 'in_progress',\n            };\n            update(state => {\n                // Add toast notification\n                const toastId = `${artistId}-${Date.now()}`;\n                const toast = {\n                    id: toastId,\n                    type: 'info',\n                    message: `${action === 'block' ? 'Blocking' : 'Unblocking'} ${artistName}...`,\n                    artistName,\n                    progress: 0,\n                    dismissible: false,\n                    createdAt: Date.now(),\n                };\n                return {\n                    ...state,\n                    activeOperations: [...state.activeOperations, operation],\n                    toasts: [...state.toasts, toast],\n                };\n            });\n            return operation;\n        },\n        // Update platform status within an operation\n        updatePlatformStatus: (artistId, platform, status, error) => {\n            update(state => {\n                const operations = state.activeOperations.map(op => {\n                    if (op.artistId !== artistId)\n                        return op;\n                    const platforms = op.platforms.map(p => {\n                        if (p.platform !== platform)\n                            return p;\n                        return {\n                            ...p,\n                            status,\n                            error,\n                            completedAt: status === 'completed' || status === 'failed' ? new Date().toISOString() : undefined,\n                        };\n                    });\n                    // Calculate overall status\n                    const allCompleted = platforms.every(p => p.status === 'completed');\n                    const allFailed = platforms.every(p => p.status === 'failed');\n                    const anyFailed = platforms.some(p => p.status === 'failed');\n                    const anyInProgress = platforms.some(p => p.status === 'in_progress' || p.status === 'pending');\n                    let overallStatus;\n                    if (anyInProgress) {\n                        overallStatus = 'in_progress';\n                    }\n                    else if (allCompleted) {\n                        overallStatus = 'completed';\n                    }\n                    else if (allFailed) {\n                        overallStatus = 'failed';\n                    }\n                    else if (anyFailed) {\n                        overallStatus = 'partial';\n                    }\n                    else {\n                        overallStatus = 'in_progress';\n                    }\n                    // Update progress in toast\n                    const completedCount = platforms.filter(p => p.status === 'completed' || p.status === 'failed').length;\n                    const progress = Math.round((completedCount / platforms.length) * 100);\n                    return { ...op, platforms, overallStatus };\n                });\n                // Update toast progress\n                const toasts = state.toasts.map(toast => {\n                    if (!toast.artistName)\n                        return toast;\n                    const op = operations.find(o => o.artistName === toast.artistName);\n                    if (!op)\n                        return toast;\n                    const completedCount = op.platforms.filter(p => p.status === 'completed' || p.status === 'failed').length;\n                    const progress = Math.round((completedCount / op.platforms.length) * 100);\n                    return { ...toast, progress };\n                });\n                return { ...state, activeOperations: operations, toasts };\n            });\n        },\n        // Complete an operation and update persistent enforcement status\n        completeOperation: (artistId) => {\n            update(state => {\n                const operation = state.activeOperations.find(op => op.artistId === artistId);\n                if (!operation)\n                    return state;\n                // Update persistent enforcement status\n                const enforcement = {\n                    artistId,\n                    platforms: {},\n                    lastUpdated: new Date().toISOString(),\n                };\n                operation.platforms.forEach(p => {\n                    if (operation.action === 'block') {\n                        enforcement.platforms[p.platform] = p.status === 'completed' ? 'completed' : 'failed';\n                    }\n                    else {\n                        // On unblock, remove enforcement status\n                        enforcement.platforms[p.platform] = undefined;\n                    }\n                });\n                const newEnforcements = new Map(state.artistEnforcements);\n                if (operation.action === 'unblock') {\n                    newEnforcements.delete(artistId);\n                }\n                else {\n                    newEnforcements.set(artistId, enforcement);\n                }\n                // Save to storage\n                saveToStorage(newEnforcements);\n                // Update toast to show completion\n                const toasts = state.toasts.map(toast => {\n                    if (toast.artistName !== operation.artistName)\n                        return toast;\n                    const isSuccess = operation.overallStatus === 'completed';\n                    const isPartial = operation.overallStatus === 'partial';\n                    return {\n                        ...toast,\n                        type: isSuccess ? 'success' : isPartial ? 'warning' : 'error',\n                        message: isSuccess\n                            ? `${operation.action === 'block' ? 'Blocked' : 'Unblocked'} ${operation.artistName}`\n                            : isPartial\n                                ? `Partially ${operation.action === 'block' ? 'blocked' : 'unblocked'} ${operation.artistName}`\n                                : `Failed to ${operation.action} ${operation.artistName}`,\n                        progress: 100,\n                        dismissible: true,\n                        duration: 5000,\n                    };\n                });\n                // Remove from active operations\n                const activeOperations = state.activeOperations.filter(op => op.artistId !== artistId);\n                return {\n                    ...state,\n                    activeOperations,\n                    artistEnforcements: newEnforcements,\n                    toasts,\n                };\n            });\n        },\n        // Get enforcement status for an artist\n        getEnforcementStatus: (artistId) => {\n            let result;\n            subscribe(state => {\n                result = state.artistEnforcements.get(artistId);\n            })();\n            return result;\n        },\n        // Add a custom toast\n        addToast: (toast) => {\n            update(state => ({\n                ...state,\n                toasts: [\n                    ...state.toasts,\n                    {\n                        ...toast,\n                        id: `toast-${Date.now()}`,\n                        createdAt: Date.now(),\n                    },\n                ],\n            }));\n        },\n        // Remove a toast\n        removeToast: (id) => {\n            update(state => ({\n                ...state,\n                toasts: state.toasts.filter(t => t.id !== id),\n            }));\n        },\n        // Clear all toasts\n        clearToasts: () => {\n            update(state => ({\n                ...state,\n                toasts: [],\n            }));\n        },\n        // Set enforcement status directly (e.g., from API response)\n        setEnforcementStatus: (artistId, platforms) => {\n            update(state => {\n                const newEnforcements = new Map(state.artistEnforcements);\n                newEnforcements.set(artistId, {\n                    artistId,\n                    platforms,\n                    lastUpdated: new Date().toISOString(),\n                });\n                saveToStorage(newEnforcements);\n                return {\n                    ...state,\n                    artistEnforcements: newEnforcements,\n                };\n            });\n        },\n    };\n}\nexport const blockingStore = createBlockingStore();\n// Derived store for active toasts\nexport const activeToasts = derived(blockingStore, $state => $state.toasts);\n// Derived store to check if any operation is in progress\nexport const isBlocking = derived(blockingStore, $state => $state.activeOperations.length > 0);\n// Helper to get enforcement badges for an artist\nexport function getEnforcementBadges(artistId) {\n    let badges = [];\n    blockingStore.subscribe(state => {\n        const enforcement = state.artistEnforcements.get(artistId);\n        if (enforcement) {\n            badges = Object.entries(enforcement.platforms)\n                .filter(([_, status]) => status)\n                .map(([platform, status]) => ({\n                platform: platform,\n                status: status,\n            }));\n        }\n    })();\n    return badges;\n}\n","/**\n * Apple Music MusicKit JS Integration\n *\n * This module handles the MusicKit JS library for Apple Music authentication\n * and API access. The flow is:\n *\n * 1. Load MusicKit JS script\n * 2. Get developer token from backend\n * 3. Configure MusicKit with developer token\n * 4. User authorizes via MusicKit popup\n * 5. Send Music User Token to backend for storage\n */\nimport { apiClient } from './api-client';\n// Track initialization state\nlet musickitLoaded = false;\nlet musickitConfigured = false;\nlet musicKitInstance = null;\n/**\n * Load the MusicKit JS script\n */\nexport async function loadMusicKitScript() {\n    if (musickitLoaded) {\n        console.log('[MusicKit] Script already loaded');\n        return;\n    }\n    console.log('[MusicKit] Loading MusicKit JS script...');\n    return new Promise((resolve, reject) => {\n        // Check if already loaded\n        if (window.MusicKit) {\n            console.log('[MusicKit] MusicKit already available on window');\n            musickitLoaded = true;\n            resolve();\n            return;\n        }\n        const script = document.createElement('script');\n        script.src = 'https://js-cdn.music.apple.com/musickit/v3/musickit.js';\n        script.async = true;\n        script.crossOrigin = 'anonymous';\n        script.onload = () => {\n            console.log('[MusicKit] Script loaded successfully');\n            musickitLoaded = true;\n            resolve();\n        };\n        script.onerror = (e) => {\n            console.error('[MusicKit] Failed to load script:', e);\n            reject(new Error('Failed to load MusicKit JS'));\n        };\n        document.head.appendChild(script);\n    });\n}\n/**\n * Get developer token from backend\n */\nexport async function getDeveloperToken() {\n    console.log('[MusicKit] Fetching developer token from backend...');\n    const response = await apiClient.get('/api/v1/apple-music/auth/developer-token', false // Don't include auth for this public endpoint\n    );\n    if (response.success && response.data?.developer_token) {\n        console.log('[MusicKit] Got developer token');\n        return response.data.developer_token;\n    }\n    console.error('[MusicKit] Failed to get developer token:', response.message);\n    throw new Error(response.message || 'Failed to get developer token');\n}\n/**\n * Configure MusicKit with developer token\n */\nexport async function configureMusicKit() {\n    if (musicKitInstance && musickitConfigured) {\n        console.log('[MusicKit] Already configured, returning instance');\n        return musicKitInstance;\n    }\n    // Ensure script is loaded\n    await loadMusicKitScript();\n    // Get developer token\n    const developerToken = await getDeveloperToken();\n    // Configure MusicKit\n    console.log('[MusicKit] Configuring MusicKit...');\n    musicKitInstance = await window.MusicKit.configure({\n        developerToken,\n        app: {\n            name: 'No Drake in the House',\n            build: '1.0.0',\n        },\n    });\n    console.log('[MusicKit] MusicKit configured successfully');\n    musickitConfigured = true;\n    return musicKitInstance;\n}\n/**\n * Authorize user with Apple Music\n * Opens Apple's authorization popup\n */\nexport async function authorizeAppleMusic() {\n    const instance = await configureMusicKit();\n    // This opens Apple's authorization popup\n    const musicUserToken = await instance.authorize();\n    return musicUserToken;\n}\n/**\n * Check if user is authorized with Apple Music\n */\nexport async function isAppleMusicAuthorized() {\n    try {\n        const instance = await configureMusicKit();\n        return instance.isAuthorized;\n    }\n    catch {\n        return false;\n    }\n}\n/**\n * Get the current Music User Token\n */\nexport async function getMusicUserToken() {\n    try {\n        const instance = await configureMusicKit();\n        return instance.isAuthorized ? instance.musicUserToken : null;\n    }\n    catch {\n        return null;\n    }\n}\n/**\n * Unauthorize from Apple Music (local only)\n */\nexport async function unauthorizeAppleMusic() {\n    if (musicKitInstance) {\n        await musicKitInstance.unauthorize();\n    }\n}\n/**\n * Connect Apple Music account - full flow\n * 1. Load MusicKit JS\n * 2. Get developer token from backend\n * 3. Configure MusicKit\n * 4. Authorize user via Apple popup\n * 5. Send token to backend\n */\nexport async function connectAppleMusic() {\n    try {\n        console.log('[MusicKit] Starting Apple Music connection flow...');\n        // Step 1-3: Load, configure, and authorize\n        console.log('[MusicKit] Authorizing with Apple Music...');\n        const musicUserToken = await authorizeAppleMusic();\n        console.log('[MusicKit] Got music user token');\n        // Step 4: Send token to backend\n        console.log('[MusicKit] Sending token to backend...');\n        const response = await apiClient.post('/api/v1/apple-music/auth/connect', { music_user_token: musicUserToken }, true // Include auth\n        );\n        if (response.success && response.data) {\n            console.log('[MusicKit] Connection successful!');\n            return {\n                success: true,\n                connectionId: response.data.connection_id,\n                message: response.data.message,\n            };\n        }\n        console.error('[MusicKit] Backend returned error:', response.message);\n        return {\n            success: false,\n            message: response.message || 'Failed to connect Apple Music',\n        };\n    }\n    catch (error) {\n        console.error('[MusicKit] Error during connection:', error);\n        const message = error instanceof Error ? error.message : 'Unknown error connecting Apple Music';\n        return {\n            success: false,\n            message,\n        };\n    }\n}\n/**\n * Disconnect Apple Music account from backend\n */\nexport async function disconnectAppleMusic() {\n    try {\n        // Unauthorize locally\n        await unauthorizeAppleMusic();\n        // Disconnect from backend\n        const response = await apiClient.delete('/api/v1/apple-music/auth/disconnect', true);\n        if (response.success) {\n            return { success: true, message: 'Apple Music disconnected' };\n        }\n        return {\n            success: false,\n            message: response.message || 'Failed to disconnect Apple Music',\n        };\n    }\n    catch (error) {\n        const message = error instanceof Error ? error.message : 'Unknown error disconnecting Apple Music';\n        return {\n            success: false,\n            message,\n        };\n    }\n}\n/**\n * Get Apple Music connection status from backend\n */\nexport async function getAppleMusicStatus() {\n    const response = await apiClient.get('/api/v1/apple-music/auth/status', true);\n    if (response.success && response.data) {\n        return {\n            connected: response.data.connected,\n            connectionId: response.data.connection_id,\n            status: response.data.status,\n            lastHealthCheck: response.data.last_health_check,\n        };\n    }\n    return { connected: false };\n}\n/**\n * Verify Apple Music connection health\n */\nexport async function verifyAppleMusicConnection() {\n    const response = await apiClient.post('/api/v1/apple-music/auth/verify', {}, true);\n    if (response.success && response.data) {\n        return {\n            healthy: response.data.healthy,\n            needsRefresh: response.data.needs_refresh,\n            error: response.data.error,\n        };\n    }\n    return {\n        healthy: false,\n        needsRefresh: false,\n        error: response.message || 'Failed to verify connection',\n    };\n}\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nimport * as musicKit from '../utils/musickit';\nconst initialState = {\n    connections: [],\n    isLoading: false,\n    error: null,\n};\nexport const connectionsStore = writable(initialState);\nexport const connectedServices = derived(connectionsStore, ($connections) => $connections.connections.filter(conn => conn.status === 'active'));\nexport const spotifyConnection = derived(connectionsStore, ($connections) => $connections.connections.find(conn => conn.provider === 'spotify'));\nexport const hasActiveSpotifyConnection = derived(spotifyConnection, ($spotify) => $spotify?.status === 'active');\nexport const appleMusicConnection = derived(connectionsStore, ($connections) => $connections.connections.find(conn => conn.provider === 'apple_music'));\nexport const hasActiveAppleMusicConnection = derived(appleMusicConnection, ($apple) => $apple?.status === 'active');\n// Connection actions\nexport const connectionActions = {\n    fetchConnections: async () => {\n        connectionsStore.update(state => ({ ...state, isLoading: true, error: null }));\n        const response = await apiClient.authenticatedRequest('GET', '/api/v1/auth/oauth/accounts');\n        if (response.success && response.data) {\n            // Ensure data is an array\n            const connections = Array.isArray(response.data) ? response.data : [];\n            connectionsStore.update(state => ({\n                ...state,\n                connections,\n                isLoading: false,\n            }));\n        }\n        else {\n            connectionsStore.update(state => ({\n                ...state,\n                connections: [], // Reset to empty array on error\n                error: response.message || 'Failed to fetch connections',\n                isLoading: false,\n            }));\n        }\n    },\n    initiateSpotifyAuth: async () => {\n        const response = await apiClient.authenticatedRequest('POST', '/api/v1/auth/oauth/spotify/link');\n        if (response.success && response.data?.authorization_url) {\n            // Store state for callback validation\n            sessionStorage.setItem('oauth_link_state_spotify', response.data.state);\n            // Redirect to Spotify authorization\n            window.location.href = response.data.authorization_url;\n        }\n        else {\n            connectionsStore.update(state => ({\n                ...state,\n                error: response.message || 'Failed to initiate Spotify auth',\n            }));\n        }\n    },\n    handleSpotifyCallback: async (code, state) => {\n        const response = await apiClient.authenticatedRequest('POST', '/api/v1/auth/oauth/spotify/link-callback', {\n            code,\n            state,\n            redirect_uri: window.location.origin + window.location.pathname\n        });\n        if (response.success) {\n            // Refresh connections\n            await connectionActions.fetchConnections();\n            return { success: true };\n        }\n        else {\n            return { success: false, message: response.message || 'Failed to complete Spotify connection' };\n        }\n    },\n    disconnectSpotify: async () => {\n        const response = await apiClient.authenticatedRequest('DELETE', '/api/v1/auth/oauth/spotify/unlink');\n        if (response.success) {\n            // Refresh connections\n            await connectionActions.fetchConnections();\n            return { success: true };\n        }\n        else {\n            return { success: false, message: response.message || 'Failed to disconnect Spotify' };\n        }\n    },\n    checkSpotifyHealth: async () => {\n        // Use the OAuth health endpoint instead of Spotify-specific one\n        const response = await apiClient.authenticatedRequest('GET', '/oauth/health/spotify');\n        if (response.success) {\n            // Update connection status if needed\n            await connectionActions.fetchConnections();\n            return response.data;\n        }\n        else {\n            console.error('Spotify health check failed:', response.message);\n            return null;\n        }\n    },\n    // Apple Music actions\n    connectAppleMusic: async () => {\n        console.log('[connections.ts] connectAppleMusic called');\n        connectionsStore.update(state => ({ ...state, isLoading: true, error: null }));\n        console.log('[connections.ts] Calling musicKit.connectAppleMusic()...');\n        const result = await musicKit.connectAppleMusic();\n        console.log('[connections.ts] musicKit.connectAppleMusic() result:', result);\n        if (result.success) {\n            // Refresh connections to get the new Apple Music connection\n            await connectionActions.fetchConnections();\n            return { success: true, connectionId: result.connectionId };\n        }\n        else {\n            connectionsStore.update(state => ({\n                ...state,\n                error: result.message || 'Failed to connect Apple Music',\n                isLoading: false,\n            }));\n            return { success: false, message: result.message };\n        }\n    },\n    disconnectAppleMusic: async () => {\n        const result = await musicKit.disconnectAppleMusic();\n        if (result.success) {\n            // Refresh connections\n            await connectionActions.fetchConnections();\n            return { success: true };\n        }\n        else {\n            return { success: false, message: result.message || 'Failed to disconnect Apple Music' };\n        }\n    },\n    checkAppleMusicHealth: async () => {\n        const result = await musicKit.verifyAppleMusicConnection();\n        if (result.healthy) {\n            // Update connection status if needed\n            await connectionActions.fetchConnections();\n        }\n        return result;\n    },\n    getAppleMusicStatus: async () => {\n        return await musicKit.getAppleMusicStatus();\n    },\n};\n","<script lang=\"ts\">\n  import { blockingStore, type Platform, type EnforcementStatus } from '../stores/blocking';\n\n  export let artistId: string;\n  export let compact: boolean = false;\n\n  // Subscribe to enforcement status for this artist\n  $: enforcement = $blockingStore.artistEnforcements.get(artistId);\n\n  function getPlatformStyle(platform: Platform, status: EnforcementStatus | undefined) {\n    const baseStyles = {\n      spotify: {\n        connected: 'bg-green-500 text-white',\n        disconnected: 'bg-zinc-700 text-zinc-500',\n        icon: `<svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"/></svg>`,\n        label: 'Spotify',\n      },\n      apple_music: {\n        connected: 'bg-rose-500 text-white',\n        disconnected: 'bg-zinc-700 text-zinc-500',\n        icon: `<svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M23.997 6.124c0-.738-.065-1.47-.24-2.19-.317-1.31-1.062-2.31-2.18-3.043C21.003.517 20.373.285 19.7.164c-.517-.093-1.038-.135-1.564-.15-.04-.001-.08-.004-.12-.004H5.986c-.04 0-.08.003-.12.004-.526.015-1.047.057-1.564.15-.673.121-1.303.353-1.877.727C1.307 1.624.562 2.624.245 3.934.07 4.654.005 5.386.005 6.124v11.748c0 .738.065 1.47.24 2.19.317 1.31 1.062 2.31 2.18 3.043.574.374 1.204.606 1.877.727.517.093 1.038.135 1.564.15.04.001.08.004.12.004h12.014c.04 0 .08-.003.12-.004.526-.015 1.047-.057 1.564-.15.673-.121 1.303-.353 1.877-.727 1.118-.733 1.863-1.733 2.18-3.043.175-.72.24-1.452.24-2.19V6.124z\"/></svg>`,\n        label: 'Apple',\n      },\n      youtube_music: {\n        connected: 'bg-red-500 text-white',\n        disconnected: 'bg-zinc-700 text-zinc-500',\n        icon: `<svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/></svg>`,\n        label: 'YouTube',\n      },\n    };\n\n    return baseStyles[platform];\n  }\n\n  // Get the platforms that have enforcement status\n  $: activePlatforms = enforcement\n    ? (Object.entries(enforcement.platforms)\n        .filter(([_, status]) => status === 'completed')\n        .map(([platform]) => platform as Platform))\n    : [];\n</script>\n\n{#if activePlatforms.length > 0}\n  <div class=\"flex items-center gap-1\" title=\"Enforced on: {activePlatforms.map(p => getPlatformStyle(p, 'completed')?.label).join(', ')}\">\n    {#each activePlatforms as platform}\n      {@const style = getPlatformStyle(platform, 'completed')}\n      {#if compact}\n        <!-- Compact: just colored dots -->\n        <div\n          class=\"w-2 h-2 rounded-full\"\n          class:bg-green-500={platform === 'spotify'}\n          class:bg-rose-500={platform === 'apple_music'}\n          class:bg-red-500={platform === 'youtube_music'}\n          title=\"{style?.label} enforced\"\n        ></div>\n      {:else}\n        <!-- Full: badge with icon -->\n        <span\n          class=\"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium {style?.connected}\"\n        >\n          {#if platform === 'spotify'}\n            <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"/>\n            </svg>\n          {:else if platform === 'apple_music'}\n            <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M23.997 6.124c0-.738-.065-1.47-.24-2.19-.317-1.31-1.062-2.31-2.18-3.043C21.003.517 20.373.285 19.7.164c-.517-.093-1.038-.135-1.564-.15-.04-.001-.08-.004-.12-.004H5.986c-.04 0-.08.003-.12.004-.526.015-1.047.057-1.564.15-.673.121-1.303.353-1.877.727C1.307 1.624.562 2.624.245 3.934.07 4.654.005 5.386.005 6.124v11.748c0 .738.065 1.47.24 2.19.317 1.31 1.062 2.31 2.18 3.043.574.374 1.204.606 1.877.727.517.093 1.038.135 1.564.15.04.001.08.004.12.004h12.014c.04 0 .08-.003.12-.004.526-.015 1.047-.057 1.564-.15.673-.121 1.303-.353 1.877-.727 1.118-.733 1.863-1.733 2.18-3.043.175-.72.24-1.452.24-2.19V6.124z\"/>\n            </svg>\n          {:else if platform === 'youtube_music'}\n            <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814z\"/>\n            </svg>\n          {/if}\n        </span>\n      {/if}\n    {/each}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo, navigateToArtist } from '../utils/simple-router';\n  import { blockingStore, type Platform } from '../stores/blocking';\n  import { spotifyConnection, appleMusicConnection } from '../stores/connections';\n  import EnforcementBadges from './EnforcementBadges.svelte';\n\n  interface CategoryList {\n    id: string;\n    name: string;\n    description: string;\n    artist_count: number;\n    subscribed: boolean;\n  }\n\n  interface SearchArtist {\n    id: string;\n    canonical_name: string;\n    genres?: string[];\n    image_url?: string;\n    offense_count?: number;\n    has_offenses?: boolean;\n    source?: string;\n  }\n\n  interface SearchResponse {\n    artists: SearchArtist[];\n    total: number;\n    sources?: { local: number; catalog: number };\n  }\n\n  interface BlockedArtist {\n    id: string;\n    name: string;\n    category: string;\n    severity: string;\n  }\n\n\n  let searchQuery = '';\n  let searchResults: SearchArtist[] = [];\n  let isSearching = false;\n  let searchTimeout: ReturnType<typeof setTimeout>;\n\n  let categoryLists: CategoryList[] = [];\n  let isLoadingCategories = true;\n  let expandedCategoryId: string | null = null;\n  let categoryArtists: BlockedArtist[] = [];\n  let isLoadingCategoryArtists = false;\n\n  let blockedArtists: BlockedArtist[] = [];\n  let isLoadingBlocked = false;\n\n  let dnpList: Set<string> = new Set();\n\n  // Excepted artists - individually unblocked while categories remain subscribed\n  let exceptedArtists: Set<string> = new Set();\n\n  // Load exceptions from localStorage on init\n  function loadExceptions() {\n    try {\n      const stored = localStorage.getItem('exceptedArtists');\n      if (stored) {\n        exceptedArtists = new Set(JSON.parse(stored));\n      }\n    } catch (e) {\n      console.error('Failed to load exceptions:', e);\n    }\n  }\n\n  // Save exceptions to localStorage\n  function saveExceptions() {\n    try {\n      localStorage.setItem('exceptedArtists', JSON.stringify([...exceptedArtists]));\n    } catch (e) {\n      console.error('Failed to save exceptions:', e);\n    }\n  }\n\n  // Deduplicated blocked artists, excluding excepted ones\n  $: uniqueBlockedArtists = blockedArtists.reduce((acc, artist) => {\n    // Skip if already added or if excepted\n    if (!acc.some(a => a.id === artist.id) && !exceptedArtists.has(artist.id)) {\n      acc.push(artist);\n    }\n    return acc;\n  }, [] as BlockedArtist[]);\n\n  // Get excepted artists that would be blocked by current categories\n  $: exceptedFromCategories = blockedArtists.filter(a => exceptedArtists.has(a.id))\n    .reduce((acc, artist) => {\n      if (!acc.some(a => a.id === artist.id)) {\n        acc.push(artist);\n      }\n      return acc;\n    }, [] as BlockedArtist[]);\n\n  // Category-specific colors for visual differentiation\n  const categoryColors: Record<string, { icon: string; bg: string }> = {\n    domestic_violence: { icon: '#F43F5E', bg: 'rgba(244, 63, 94, 0.15)' },\n    sexual_misconduct: { icon: '#EC4899', bg: 'rgba(236, 72, 153, 0.15)' },\n    certified_creeper: { icon: '#8B5CF6', bg: 'rgba(139, 92, 246, 0.15)' },\n    hate_speech: { icon: '#A855F7', bg: 'rgba(168, 85, 247, 0.15)' },\n    racism: { icon: '#F97316', bg: 'rgba(249, 115, 22, 0.15)' },\n    antisemitism: { icon: '#EAB308', bg: 'rgba(234, 179, 8, 0.15)' },\n    financial_crimes: { icon: '#10B981', bg: 'rgba(16, 185, 129, 0.15)' },\n    substance_abuse: { icon: '#06B6D4', bg: 'rgba(6, 182, 212, 0.15)' },\n    violence: { icon: '#EF4444', bg: 'rgba(239, 68, 68, 0.15)' },\n    default: { icon: '#6B7280', bg: 'rgba(107, 114, 128, 0.15)' }\n  };\n\n  function getCategoryColor(categoryId: string): { icon: string; bg: string } {\n    return categoryColors[categoryId] || categoryColors.default;\n  }\n\n  function formatCategoryName(id: string): string {\n    return id.split('_').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');\n  }\n\n  function getSeverityStyle(severity: string): { bg: string; text: string; label: string } {\n    switch (severity) {\n      case 'egregious':\n        return { bg: 'bg-rose-500/20', text: 'text-rose-300', label: 'Egregious' };\n      case 'severe':\n        return { bg: 'bg-orange-500/20', text: 'text-orange-300', label: 'Severe' };\n      case 'moderate':\n        return { bg: 'bg-yellow-500/20', text: 'text-yellow-300', label: 'Moderate' };\n      default:\n        return { bg: 'bg-zinc-500/20', text: 'text-zinc-300', label: 'Minor' };\n    }\n  }\n\n  onMount(async () => {\n    loadExceptions();\n    await Promise.all([\n      loadCategories(),\n      loadBlockedArtists(),\n      loadDnpList(),\n    ]);\n  });\n\n  async function loadCategories() {\n    isLoadingCategories = true;\n    try {\n      const result = await apiClient.get<CategoryList[]>('/api/v1/categories');\n      if (result.success && result.data) {\n        categoryLists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load categories:', e);\n    } finally {\n      isLoadingCategories = false;\n    }\n  }\n\n  async function loadBlockedArtists() {\n    isLoadingBlocked = true;\n    try {\n      const result = await apiClient.get<BlockedArtist[]>('/api/v1/categories/blocked-artists');\n      if (result.success && result.data) {\n        blockedArtists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load blocked artists:', e);\n    } finally {\n      isLoadingBlocked = false;\n    }\n  }\n\n  async function loadDnpList() {\n    try {\n      const result = await apiClient.get<Array<{artist_id: string}>>('/api/v1/dnp/list');\n      if (result.success && result.data) {\n        dnpList = new Set(result.data.map(item => item.artist_id));\n      }\n    } catch (e) {\n      console.error('Failed to load DNP list:', e);\n    }\n  }\n\n  function handleSearchInput() {\n    clearTimeout(searchTimeout);\n    if (!searchQuery.trim()) {\n      searchResults = [];\n      isSearching = false;\n      return;\n    }\n    isSearching = true;\n    searchTimeout = setTimeout(async () => {\n      try {\n        const result = await apiClient.get<SearchResponse>(`/api/v1/dnp/search?q=${encodeURIComponent(searchQuery.trim())}&limit=20`);\n        if (result.success && result.data?.artists) {\n          searchResults = result.data.artists;\n        } else {\n          searchResults = [];\n        }\n      } catch (e) {\n        console.error('Search error:', e);\n        searchResults = [];\n      } finally {\n        isSearching = false;\n      }\n    }, 300);\n  }\n\n  async function toggleCategory(categoryId: string) {\n    if (expandedCategoryId === categoryId) {\n      expandedCategoryId = null;\n      categoryArtists = [];\n    } else {\n      expandedCategoryId = categoryId;\n      await loadCategoryArtists(categoryId);\n    }\n  }\n\n  async function loadCategoryArtists(categoryId: string) {\n    isLoadingCategoryArtists = true;\n    try {\n      const result = await apiClient.get<{artists: BlockedArtist[]}>(`/api/v1/offenses/query?category=${categoryId}`);\n      if (result.success && result.data?.artists) {\n        categoryArtists = result.data.artists;\n      } else {\n        categoryArtists = [];\n      }\n    } catch (e) {\n      categoryArtists = [];\n    } finally {\n      isLoadingCategoryArtists = false;\n    }\n  }\n\n  async function toggleCategorySubscription(category: CategoryList, event: MouseEvent) {\n    event.stopPropagation();\n    const wasSubscribed = category.subscribed;\n    categoryLists = categoryLists.map(c =>\n      c.id === category.id ? { ...c, subscribed: !wasSubscribed } : c\n    );\n    try {\n      if (wasSubscribed) {\n        await apiClient.delete(`/api/v1/categories/${category.id}/subscribe`);\n      } else {\n        await apiClient.post(`/api/v1/categories/${category.id}/subscribe`);\n      }\n      await loadBlockedArtists();\n\n      // Trigger enforcement notification for category action\n      const platforms = getConnectedPlatforms();\n      if (platforms.length > 0) {\n        const action = wasSubscribed ? 'unblock' : 'block';\n        blockingStore.addToast({\n          type: 'info',\n          message: `${action === 'block' ? 'Blocking' : 'Unblocking'} ${category.artist_count} artists from ${formatCategoryName(category.id)}...`,\n          dismissible: false,\n          progress: 0,\n        });\n\n        // Simulate bulk enforcement (in production this would be a batch API call)\n        await new Promise(resolve => setTimeout(resolve, 500 + category.artist_count * 20));\n\n        blockingStore.addToast({\n          type: 'success',\n          message: `${action === 'block' ? 'Blocked' : 'Unblocked'} ${formatCategoryName(category.id)} category (${category.artist_count} artists)`,\n          dismissible: true,\n          duration: 5000,\n        });\n      }\n    } catch (e) {\n      categoryLists = categoryLists.map(c =>\n        c.id === category.id ? { ...c, subscribed: wasSubscribed } : c\n      );\n    }\n  }\n\n  async function goToArtist(artistId: string, artistName: string) {\n    navigateToArtist(artistId);\n  }\n\n  async function unblockArtist(artistId: string, event: MouseEvent | KeyboardEvent, artistName?: string) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    // Get artist name for progress display\n    const name = artistName || blockedArtists.find(a => a.id === artistId)?.name || 'Artist';\n\n    // Start enforcement simulation for unblock\n    simulateEnforcement(artistId, name, 'unblock');\n\n    // Add to exceptions - artist will be excluded from category blocks\n    exceptedArtists.add(artistId);\n    exceptedArtists = exceptedArtists; // Trigger reactivity\n    saveExceptions();\n\n    // Also try to remove from individual DNP list if they were manually added\n    try {\n      await apiClient.delete(`/api/v1/dnp/list/${artistId}`);\n      dnpList.delete(artistId);\n      dnpList = dnpList;\n    } catch (e) {\n      // Ignore - they might only be blocked via category\n    }\n  }\n\n  function reblockArtist(artistId: string, event: MouseEvent | KeyboardEvent, artistName?: string) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    // Get artist name for progress display\n    const name = artistName || blockedArtists.find(a => a.id === artistId)?.name || 'Artist';\n\n    // Start enforcement simulation for block\n    simulateEnforcement(artistId, name, 'block');\n\n    // Remove from exceptions - artist will be blocked again by their categories\n    exceptedArtists.delete(artistId);\n    exceptedArtists = exceptedArtists; // Trigger reactivity\n    saveExceptions();\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      if (searchResults.length > 0) {\n        searchResults = [];\n        searchQuery = '';\n      }\n    }\n  }\n\n  // Get list of connected platforms\n  function getConnectedPlatforms(): Platform[] {\n    const platforms: Platform[] = [];\n    if ($spotifyConnection?.status === 'active') platforms.push('spotify');\n    if ($appleMusicConnection?.status === 'active') platforms.push('apple_music');\n    return platforms;\n  }\n\n  // Simulate enforcement with progress (in production this would call actual APIs)\n  async function simulateEnforcement(artistId: string, artistName: string, action: 'block' | 'unblock') {\n    const platforms = getConnectedPlatforms();\n    if (platforms.length === 0) return;\n\n    // Start the operation\n    blockingStore.startOperation(artistId, artistName, action, platforms);\n\n    // Simulate each platform enforcement with delays\n    for (const platform of platforms) {\n      blockingStore.updatePlatformStatus(artistId, platform, 'in_progress');\n\n      // Simulate API call delay (300-800ms per platform)\n      await new Promise(resolve => setTimeout(resolve, 300 + Math.random() * 500));\n\n      // Simulate success (90% success rate for demo)\n      const success = Math.random() > 0.1;\n      blockingStore.updatePlatformStatus(\n        artistId,\n        platform,\n        success ? 'completed' : 'failed',\n        success ? undefined : 'API error'\n      );\n    }\n\n    // Complete the operation\n    blockingStore.completeOperation(artistId);\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n\n<div class=\"max-w-6xl mx-auto px-6 py-8\">\n  <!-- Hero Search Section -->\n  <section class=\"mb-12\">\n    <h1 class=\"text-4xl md:text-5xl font-bold text-white mb-3\">Clean Your Feed</h1>\n    <p class=\"text-zinc-300 text-lg mb-8\">Search and block artists with documented misconduct</p>\n\n    <div class=\"relative max-w-2xl\">\n      <div class=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 z-10\">\n        {#if isSearching}\n          <div class=\"w-5 h-5 border-2 border-zinc-600 border-t-white rounded-full animate-spin\"></div>\n        {:else}\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n        {/if}\n      </div>\n      <input\n        type=\"text\"\n        bind:value={searchQuery}\n        on:input={handleSearchInput}\n        placeholder=\"Search any artist...\"\n        class=\"w-full pl-12 pr-4 py-4 rounded-full bg-zinc-900 border border-zinc-700 text-white placeholder-neutral-500 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-all\"\n      />\n\n      <!-- Search Results Dropdown -->\n      {#if searchResults.length > 0 || (searchQuery.length > 1 && !isSearching)}\n        <div class=\"absolute top-full left-0 right-0 mt-2 rounded-2xl bg-zinc-900 border border-zinc-700 overflow-hidden shadow-xl z-20\">\n          {#if searchResults.length > 0}\n            <div class=\"max-h-80 overflow-y-auto\">\n              {#each searchResults as artist, i}\n                <button\n                  type=\"button\"\n                  class=\"w-full flex items-center gap-3 px-4 py-3 text-left transition-all hover:bg-zinc-800 {i !== searchResults.length - 1 ? 'border-b border-zinc-800' : ''}\"\n                  on:click={() => goToArtist(artist.id, artist.canonical_name)}\n                >\n                  <div class=\"flex-1 min-w-0\">\n                    <div class=\"flex items-center gap-2\">\n                      <span class=\"font-medium text-white\">{artist.canonical_name}</span>\n                      {#if artist.has_offenses}\n                        <span class=\"flex-shrink-0 px-2 py-0.5 text-xs font-medium rounded-full bg-rose-500/20 text-rose-400\">\n                          {artist.offense_count} offense{artist.offense_count !== 1 ? 's' : ''}\n                        </span>\n                      {/if}\n                    </div>\n                    {#if artist.genres && artist.genres.length > 0}\n                      <p class=\"text-sm text-zinc-400 truncate\">{artist.genres.slice(0, 2).join(', ')}</p>\n                    {/if}\n                  </div>\n                  <svg class=\"w-5 h-5 text-zinc-500 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              {/each}\n            </div>\n          {:else}\n            <div class=\"px-4 py-6 text-center\">\n              <p class=\"text-zinc-400\">No artists found for \"<span class=\"text-white\">{searchQuery}</span>\"</p>\n            </div>\n          {/if}\n        </div>\n      {/if}\n    </div>\n  </section>\n\n  <!-- Categories -->\n  <section class=\"mb-8\">\n    <h2 class=\"text-lg font-semibold text-white mb-4\">Block by Category</h2>\n\n    {#if isLoadingCategories}\n      <div class=\"flex justify-center py-12\">\n        <div class=\"w-8 h-8 border-2 border-zinc-700 border-t-white rounded-full animate-spin\"></div>\n      </div>\n    {:else}\n      <!-- Category Cards - Grid layout for consistent 2+ rows -->\n      <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3\">\n        {#each categoryLists as category}\n          {@const catColor = getCategoryColor(category.id)}\n          {@const isExpanded = expandedCategoryId === category.id}\n          <div\n            class=\"flex items-center gap-2 px-3 py-2.5 rounded-xl transition-all font-medium\"\n            style=\"background: {isExpanded ? '#3f3f46' : '#27272a'}; border: 2px solid {category.subscribed ? catColor.icon : isExpanded ? '#fff' : '#3f3f46'}; color: white;\"\n          >\n            <!-- Toggle -->\n            <button\n              type=\"button\"\n              class=\"flex-shrink-0 flex items-center justify-center transition-all\"\n              on:click={(e) => { e.stopPropagation(); toggleCategorySubscription(category, e); }}\n              title=\"{category.subscribed ? 'Unblock' : 'Block'} all {formatCategoryName(category.id)} artists\"\n            >\n              {#if category.subscribed}\n                <svg class=\"w-4 h-4\" style=\"color: {catColor.icon};\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n                </svg>\n              {:else}\n                <svg class=\"w-4 h-4 text-zinc-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v12m6-6H6\"/>\n                </svg>\n              {/if}\n            </button>\n\n            <!-- Category Name - Click to expand -->\n            <button\n              type=\"button\"\n              class=\"flex-1 flex items-center justify-between gap-2 min-w-0 text-left\"\n              on:click={() => toggleCategory(category.id)}\n              title=\"View {formatCategoryName(category.id)} artists\"\n            >\n              <span class=\"truncate text-sm\">{formatCategoryName(category.id)}</span>\n              <span class=\"flex-shrink-0 text-xs opacity-50 tabular-nums\">{category.artist_count}</span>\n            </button>\n          </div>\n        {/each}\n      </div>\n\n      <!-- Expanded Category Panel -->\n      {#if expandedCategoryId}\n        {@const catColor = getCategoryColor(expandedCategoryId)}\n        {@const selectedCategory = categoryLists.find(c => c.id === expandedCategoryId)}\n        {@const exceptedInCategory = categoryArtists.filter(a => exceptedArtists.has(a.id))}\n        {@const blockedInCategory = categoryArtists.filter(a => !exceptedArtists.has(a.id))}\n        <div class=\"mt-4 rounded-2xl overflow-hidden\" style=\"background: #18181b; border: 2px solid {catColor.icon};\">\n          <!-- Header -->\n          <div class=\"px-5 py-4\" style=\"background: {catColor.icon};\">\n            <div class=\"flex items-center justify-between\">\n              <div>\n                <h3 class=\"text-xl font-bold text-white\">{formatCategoryName(expandedCategoryId)}</h3>\n                <p class=\"text-white/80 text-sm mt-1\">\n                  {#if selectedCategory?.subscribed}\n                    {blockedInCategory.length} blocked\n                    {#if exceptedInCategory.length > 0}\n                      <span class=\"opacity-70\"> {exceptedInCategory.length} excepted</span>\n                    {/if}\n                  {:else}\n                    {categoryArtists.length} artists available\n                  {/if}\n                </p>\n              </div>\n              <button\n                type=\"button\"\n                on:click={() => { expandedCategoryId = null; categoryArtists = []; }}\n                class=\"p-2 rounded-full text-white hover:bg-black/20\"\n              >\n                <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <!-- Action Buttons -->\n            <div class=\"flex flex-wrap items-center gap-2 mt-3\">\n              {#if selectedCategory}\n                <button\n                  type=\"button\"\n                  class=\"px-4 py-2 rounded-full text-sm font-semibold transition-all\"\n                  style=\"background: {selectedCategory.subscribed ? 'rgba(0,0,0,0.3)' : 'white'}; color: {selectedCategory.subscribed ? 'white' : catColor.icon};\"\n                  on:click={(e) => toggleCategorySubscription(selectedCategory, e)}\n                >\n                  {selectedCategory.subscribed ? 'Unsubscribe' : 'Block All'}\n                </button>\n              {/if}\n              {#if exceptedInCategory.length > 0 && selectedCategory?.subscribed}\n                <button\n                  type=\"button\"\n                  class=\"px-4 py-2 rounded-full text-sm font-semibold transition-all\"\n                  style=\"background: rgba(255,255,255,0.2); color: white;\"\n                  on:click={() => {\n                    exceptedInCategory.forEach(a => exceptedArtists.delete(a.id));\n                    exceptedArtists = exceptedArtists;\n                    saveExceptions();\n                  }}\n                >\n                  Re-block All ({exceptedInCategory.length})\n                </button>\n              {/if}\n            </div>\n          </div>\n\n          <!-- Artists Grid -->\n          <div class=\"max-h-96 overflow-y-auto p-5\">\n            {#if isLoadingCategoryArtists}\n              <div class=\"flex justify-center py-8\">\n                <div class=\"w-6 h-6 border-2 border-zinc-600 border-t-white rounded-full animate-spin\"></div>\n              </div>\n            {:else if categoryArtists.length > 0}\n              <!-- Blocked Artists -->\n              {#if blockedInCategory.length > 0 && selectedCategory?.subscribed}\n                <div class=\"mb-4\">\n                  <p class=\"text-xs uppercase tracking-wider text-zinc-400 mb-3\">Blocked</p>\n                  <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                    {#each blockedInCategory as artist}\n                      {@const sev = getSeverityStyle(artist.severity)}\n                      <div\n                        class=\"group relative p-3 rounded-xl text-left transition-all hover:scale-[1.02]\"\n                        style=\"background: rgba(0,0,0,0.3);\"\n                      >\n                        <button\n                          type=\"button\"\n                          class=\"w-full text-left\"\n                          on:click={() => goToArtist(artist.id, artist.name)}\n                        >\n                          <div class=\"flex items-center gap-1.5\">\n                            <p class=\"font-medium text-white text-sm truncate\">{artist.name}</p>\n                            <EnforcementBadges artistId={artist.id} compact={true} />\n                          </div>\n                          <p class=\"text-xs mt-1\" style=\"color: {artist.severity === 'egregious' ? '#fecaca' : artist.severity === 'severe' ? '#fed7aa' : artist.severity === 'moderate' ? '#fef08a' : '#a1a1aa'};\">\n                            {sev.label}\n                          </p>\n                        </button>\n                        <button\n                          type=\"button\"\n                          class=\"absolute top-2 right-2 p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\"\n                          style=\"background: rgba(0,0,0,0.5); color: #a1a1aa;\"\n                          on:click={(e) => unblockArtist(artist.id, e, artist.name)}\n                          title=\"Unblock this artist\"\n                        >\n                          <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                      </div>\n                    {/each}\n                  </div>\n                </div>\n              {/if}\n\n              <!-- Excepted Artists -->\n              {#if exceptedInCategory.length > 0 && selectedCategory?.subscribed}\n                <div class=\"pt-4\" style=\"border-top: 1px solid #3f3f46;\">\n                  <p class=\"text-xs uppercase tracking-wider text-zinc-500 mb-3\">Not Blocked (Excepted)</p>\n                  <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                    {#each exceptedInCategory as artist}\n                      <div\n                        class=\"group relative p-3 rounded-xl text-left transition-all\"\n                        style=\"background: rgba(0,0,0,0.15); border: 1px dashed #52525b;\"\n                      >\n                        <button\n                          type=\"button\"\n                          class=\"w-full text-left\"\n                          on:click={() => goToArtist(artist.id, artist.name)}\n                        >\n                          <p class=\"font-medium text-zinc-400 text-sm truncate\">{artist.name}</p>\n                          <p class=\"text-xs mt-1 text-zinc-500\">Excepted</p>\n                        </button>\n                        <button\n                          type=\"button\"\n                          class=\"absolute top-2 right-2 px-2 py-0.5 rounded text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity\"\n                          style=\"background: {catColor.icon}; color: white;\"\n                          on:click={(e) => reblockArtist(artist.id, e, artist.name)}\n                          title=\"Re-block this artist\"\n                        >\n                          Block\n                        </button>\n                      </div>\n                    {/each}\n                  </div>\n                </div>\n              {/if}\n\n              <!-- Not Subscribed - Show all artists -->\n              {#if !selectedCategory?.subscribed}\n                <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                  {#each categoryArtists as artist}\n                    {@const sev = getSeverityStyle(artist.severity)}\n                    <button\n                      type=\"button\"\n                      class=\"p-3 rounded-xl text-left transition-all hover:scale-[1.02]\"\n                      style=\"background: rgba(0,0,0,0.3);\"\n                      on:click={() => goToArtist(artist.id, artist.name)}\n                    >\n                      <p class=\"font-medium text-white text-sm truncate\">{artist.name}</p>\n                      <p class=\"text-xs mt-1\" style=\"color: {artist.severity === 'egregious' ? '#fecaca' : artist.severity === 'severe' ? '#fed7aa' : artist.severity === 'moderate' ? '#fef08a' : '#a1a1aa'};\">\n                        {sev.label}\n                      </p>\n                    </button>\n                  {/each}\n                </div>\n              {/if}\n            {:else}\n              <p class=\"text-center text-zinc-400 py-8\">No artists in this category yet</p>\n            {/if}\n          </div>\n        </div>\n      {/if}\n    {/if}\n  </section>\n\n  <!-- Your Blocked Artists -->\n  <section class=\"mb-8\">\n    <h2 class=\"text-lg font-semibold text-white mb-4\">\n      Your Blocked Artists\n      {#if uniqueBlockedArtists.length > 0}\n        <span class=\"text-zinc-400 font-normal\">({uniqueBlockedArtists.length})</span>\n      {/if}\n    </h2>\n\n    {#if isLoadingBlocked}\n      <div class=\"flex justify-center py-8\">\n        <div class=\"w-6 h-6 border-2 border-zinc-700 border-t-white rounded-full animate-spin\"></div>\n      </div>\n    {:else if uniqueBlockedArtists.length === 0}\n      <div class=\"text-center py-6 px-4 rounded-2xl bg-zinc-900 border border-zinc-800\">\n        <p class=\"text-zinc-300\">No artists blocked yet</p>\n        <p class=\"text-zinc-400 text-sm mt-1\">Toggle categories above to start blocking</p>\n      </div>\n    {:else}\n      <div class=\"flex flex-wrap gap-2\">\n        {#each uniqueBlockedArtists as artist}\n          <button\n            type=\"button\"\n            class=\"group flex items-center gap-1.5 pl-3 pr-2 py-1.5 rounded-full transition-all hover:bg-zinc-700/50\"\n            style=\"background: transparent; border: 1px solid #52525b;\"\n            data-testid=\"blocked-artist-chip\"\n            on:click={() => goToArtist(artist.id, artist.name)}\n            title=\"View artist profile\"\n          >\n            <span\n              class=\"text-sm font-medium\"\n              style=\"color: #e4e4e7;\"\n              data-testid=\"blocked-artist-name\"\n            >\n              {artist.name}\n            </span>\n            <!-- Enforcement badges -->\n            <EnforcementBadges artistId={artist.id} compact={true} />\n            <span\n              role=\"button\"\n              tabindex=\"0\"\n              class=\"flex items-center justify-center w-4 h-4 rounded-full opacity-40 hover:opacity-100 hover:bg-zinc-600 transition-all\"\n              style=\"color: #a1a1aa;\"\n              on:click={(e) => unblockArtist(artist.id, e, artist.name)}\n              on:keydown={(e) => e.key === 'Enter' && unblockArtist(artist.id, e, artist.name)}\n              title=\"Remove from blocklist\"\n              data-testid=\"unblock-artist-button\"\n            >\n              <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.5\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </span>\n          </button>\n        {/each}\n      </div>\n    {/if}\n\n  </section>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { currentUser, authActions } from '../stores/auth';\n  import { navigateTo } from '../utils/simple-router';\n  import { apiClient } from '../utils/api-client';\n\n  interface ConnectedAccount {\n    provider: string;\n    provider_user_id: string;\n    email?: string;\n    display_name?: string;\n    linked_at: string;\n  }\n\n  let isLoggingOut = false;\n  let connectedAccounts: ConnectedAccount[] = [];\n  let isLoadingConnections = true;\n  let connectingProvider: string | null = null;\n  let connectionError: string | null = null;\n\n  let blockFeatured = true;\n  let blockProducers = false;\n  let notifications = true;\n\n  onMount(async () => {\n    await loadConnections();\n  });\n\n  async function loadConnections() {\n    isLoadingConnections = true;\n    try {\n      const result = await apiClient.get<ConnectedAccount[]>('/api/v1/auth/oauth/accounts');\n      if (result.success && result.data) {\n        connectedAccounts = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load connections:', e);\n    } finally {\n      isLoadingConnections = false;\n    }\n  }\n\n  function isConnected(provider: string): boolean {\n    return connectedAccounts.some(a => a.provider === provider);\n  }\n\n  async function initiateOAuth(provider: string) {\n    connectingProvider = provider;\n    connectionError = null;\n    try {\n      const result = await apiClient.post<{ auth_url: string }>(`/api/v1/auth/oauth/${provider}/link`);\n      if (result.success && result.data?.auth_url) {\n        window.location.href = result.data.auth_url;\n      } else {\n        connectionError = 'Failed to initiate connection';\n      }\n    } catch (e) {\n      connectionError = 'Failed to connect. Please try again.';\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function disconnectService(provider: string) {\n    connectingProvider = provider;\n    try {\n      const result = await apiClient.delete(`/api/v1/auth/oauth/${provider}/unlink`);\n      if (result.success) {\n        connectedAccounts = connectedAccounts.filter(a => a.provider !== provider);\n      }\n    } catch (e) {\n      console.error('Disconnect failed:', e);\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function handleLogout() {\n    isLoggingOut = true;\n    try {\n      await authActions.logout();\n      window.location.href = '/';\n    } catch (e) {\n      isLoggingOut = false;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen\" style=\"background: #18181b;\">\n  <div class=\"max-w-2xl mx-auto px-4 py-8\">\n    <!-- Header -->\n    <div class=\"flex items-center gap-4 mb-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700 transition-colors\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n      </button>\n      <h1 class=\"text-2xl font-bold text-white\">Settings</h1>\n    </div>\n\n    <div class=\"space-y-6\">\n      <!-- Account -->\n      <section class=\"rounded-xl overflow-hidden\" style=\"background: #27272a; border: 2px solid #52525b;\">\n        <div class=\"px-5 py-4\" style=\"border-bottom: 1px solid #52525b;\">\n          <h2 class=\"font-semibold text-white\">Account</h2>\n        </div>\n        <div class=\"p-5\">\n          <p class=\"text-sm text-zinc-400\">Email</p>\n          <p class=\"mt-1 font-medium text-white\">{$currentUser?.email || 'Not signed in'}</p>\n        </div>\n      </section>\n\n      <!-- Music Services -->\n      <section class=\"rounded-xl overflow-hidden\" style=\"background: #27272a; border: 2px solid #52525b;\">\n        <div class=\"px-5 py-4\" style=\"border-bottom: 1px solid #52525b;\">\n          <h2 class=\"font-semibold text-white\">Music Services</h2>\n          <p class=\"text-sm text-zinc-400 mt-1\">Connect your streaming accounts to sync your blocklist</p>\n        </div>\n\n        {#if connectionError}\n          <div class=\"mx-5 mt-4 p-4 rounded-lg\" style=\"background: rgba(244, 63, 94, 0.15); border: 1px solid rgba(244, 63, 94, 0.4);\">\n            <p class=\"text-sm text-rose-300\">{connectionError}</p>\n          </div>\n        {/if}\n\n        <div>\n          <!-- Spotify -->\n          <div class=\"p-5 flex items-center justify-between\" style=\"border-bottom: 1px solid #3f3f46;\">\n            <div class=\"flex items-center gap-4\">\n              <div class=\"w-12 h-12 bg-[#1DB954] rounded-full flex items-center justify-center\">\n                <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n                  <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z\"/>\n                </svg>\n              </div>\n              <div>\n                <p class=\"font-medium text-white\">Spotify</p>\n                {#if isLoadingConnections}\n                  <p class=\"text-sm text-zinc-400\">Loading...</p>\n                {:else if isConnected('spotify')}\n                  <p class=\"text-sm font-medium text-green-400\">Connected</p>\n                {:else}\n                  <p class=\"text-sm text-zinc-400\">Not connected</p>\n                {/if}\n              </div>\n            </div>\n            {#if isConnected('spotify')}\n              <button\n                type=\"button\"\n                on:click={() => disconnectService('spotify')}\n                disabled={connectingProvider === 'spotify'}\n                class=\"px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-zinc-600 transition-colors disabled:opacity-50\"\n                style=\"background: #3f3f46; border: 1px solid #52525b;\"\n              >\n                {connectingProvider === 'spotify' ? 'Disconnecting...' : 'Disconnect'}\n              </button>\n            {:else}\n              <button\n                type=\"button\"\n                on:click={() => initiateOAuth('spotify')}\n                disabled={connectingProvider === 'spotify'}\n                class=\"px-4 py-2 bg-[#1DB954] text-white rounded-lg text-sm font-medium hover:bg-[#1ed760] transition-colors disabled:opacity-50\"\n              >\n                {connectingProvider === 'spotify' ? 'Connecting...' : 'Connect'}\n              </button>\n            {/if}\n          </div>\n\n          <!-- Apple Music -->\n          <div class=\"p-5 flex items-center justify-between\">\n            <div class=\"flex items-center gap-4\">\n              <div class=\"w-12 h-12 bg-gradient-to-br from-[#FA2D48] to-[#A833B9] rounded-full flex items-center justify-center\">\n                <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n                  <path d=\"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.785-.476-2.144-1.32-.238-.56-.223-1.136-.017-1.7.303-.825.96-1.277 1.743-1.49.294-.08.595-.13.893-.18.323-.054.65-.1.973-.157.274-.048.47-.202.53-.486a.707.707 0 00.017-.146c.002-1.633.002-3.265.002-4.898v-.07l-.06-.01c-2.097.4-4.194.8-6.29 1.202-.014.002-.032.014-.037.026-.006.016-.003.037-.003.056v7.36c0 .418-.052.832-.227 1.218-.282.622-.76 1.02-1.416 1.207-.313.09-.634.138-.96.166-.906.08-1.732-.4-2.134-1.203-.268-.534-.278-1.1-.096-1.66.267-.817.864-1.304 1.64-1.55.376-.12.763-.185 1.148-.25.278-.047.558-.088.832-.145.317-.065.522-.25.58-.574a.504.504 0 00.007-.115v-8.41c0-.25.042-.493.15-.72.183-.385.486-.62.882-.728.17-.047.346-.073.522-.11 2.55-.526 5.1-1.05 7.65-1.573.093-.02.19-.03.285-.03.316.004.528.2.613.5.032.113.044.233.044.35v5.9z\"/>\n                </svg>\n              </div>\n              <div>\n                <p class=\"font-medium text-white\">Apple Music</p>\n                {#if isLoadingConnections}\n                  <p class=\"text-sm text-zinc-400\">Loading...</p>\n                {:else if isConnected('apple')}\n                  <p class=\"text-sm font-medium text-green-400\">Connected</p>\n                {:else}\n                  <p class=\"text-sm text-zinc-400\">Not connected</p>\n                {/if}\n              </div>\n            </div>\n            {#if isConnected('apple')}\n              <button\n                type=\"button\"\n                on:click={() => disconnectService('apple')}\n                disabled={connectingProvider === 'apple'}\n                class=\"px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-zinc-600 transition-colors disabled:opacity-50\"\n                style=\"background: #3f3f46; border: 1px solid #52525b;\"\n              >\n                {connectingProvider === 'apple' ? 'Disconnecting...' : 'Disconnect'}\n              </button>\n            {:else}\n              <button\n                type=\"button\"\n                on:click={() => initiateOAuth('apple')}\n                disabled={connectingProvider === 'apple'}\n                class=\"px-4 py-2 bg-gradient-to-r from-[#FA2D48] to-[#A833B9] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-opacity disabled:opacity-50\"\n              >\n                {connectingProvider === 'apple' ? 'Connecting...' : 'Connect'}\n              </button>\n            {/if}\n          </div>\n        </div>\n      </section>\n\n      <!-- Preferences -->\n      <section class=\"rounded-xl overflow-hidden\" style=\"background: #27272a; border: 2px solid #52525b;\">\n        <div class=\"px-5 py-4\" style=\"border-bottom: 1px solid #52525b;\">\n          <h2 class=\"font-semibold text-white\">Preferences</h2>\n        </div>\n        <div>\n          <div class=\"p-5 flex items-center justify-between\" style=\"border-bottom: 1px solid #3f3f46;\">\n            <div>\n              <p class=\"font-medium text-white\">Block featured artists</p>\n              <p class=\"text-sm text-zinc-400 mt-0.5\">Also block songs where artist is featured</p>\n            </div>\n            <button\n              type=\"button\"\n              on:click={() => blockFeatured = !blockFeatured}\n              class=\"relative w-11 h-6 rounded-full transition-colors\"\n              style=\"background: {blockFeatured ? '#f43f5e' : '#3f3f46'};\"\n            >\n              <span\n                class=\"absolute top-0.5 w-5 h-5 bg-zinc-800 rounded-full shadow transition-transform\"\n                style=\"left: {blockFeatured ? '22px' : '2px'};\"\n              ></span>\n            </button>\n          </div>\n          <div class=\"p-5 flex items-center justify-between\" style=\"border-bottom: 1px solid #3f3f46;\">\n            <div>\n              <p class=\"font-medium text-white\">Block producer credits</p>\n              <p class=\"text-sm text-zinc-400 mt-0.5\">Block songs produced by blocked artists</p>\n            </div>\n            <button\n              type=\"button\"\n              on:click={() => blockProducers = !blockProducers}\n              class=\"relative w-11 h-6 rounded-full transition-colors\"\n              style=\"background: {blockProducers ? '#f43f5e' : '#3f3f46'};\"\n            >\n              <span\n                class=\"absolute top-0.5 w-5 h-5 bg-zinc-800 rounded-full shadow transition-transform\"\n                style=\"left: {blockProducers ? '22px' : '2px'};\"\n              ></span>\n            </button>\n          </div>\n          <div class=\"p-5 flex items-center justify-between\">\n            <div>\n              <p class=\"font-medium text-white\">News notifications</p>\n              <p class=\"text-sm text-zinc-400 mt-0.5\">Get notified when new artists are added</p>\n            </div>\n            <button\n              type=\"button\"\n              on:click={() => notifications = !notifications}\n              class=\"relative w-11 h-6 rounded-full transition-colors\"\n              style=\"background: {notifications ? '#f43f5e' : '#3f3f46'};\"\n            >\n              <span\n                class=\"absolute top-0.5 w-5 h-5 bg-zinc-800 rounded-full shadow transition-transform\"\n                style=\"left: {notifications ? '22px' : '2px'};\"\n              ></span>\n            </button>\n          </div>\n        </div>\n      </section>\n\n      <!-- Account Actions -->\n      <section class=\"rounded-xl overflow-hidden\" style=\"background: #27272a; border: 2px solid #52525b;\">\n        <div class=\"px-5 py-4\" style=\"border-bottom: 1px solid #52525b;\">\n          <h2 class=\"font-semibold text-white\">Account Actions</h2>\n        </div>\n        <div class=\"p-5 space-y-3\">\n          <button\n            type=\"button\"\n            on:click={handleLogout}\n            disabled={isLoggingOut}\n            class=\"w-full px-4 py-3 text-white rounded-lg text-sm font-medium hover:bg-zinc-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50\"\n            style=\"background: #3f3f46; border: 1px solid #52525b;\"\n          >\n            {#if isLoggingOut}\n              <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              <span>Signing out...</span>\n            {:else}\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n              </svg>\n              <span>Sign out</span>\n            {/if}\n          </button>\n          <button\n            type=\"button\"\n            class=\"w-full px-4 py-3 rounded-lg text-sm font-medium transition-colors text-rose-400 hover:bg-rose-500/20\"\n            style=\"background: rgba(244, 63, 94, 0.15); border: 1px solid rgba(244, 63, 94, 0.4);\"\n          >\n            Delete account\n          </button>\n        </div>\n      </section>\n\n      <p class=\"text-center text-sm text-zinc-400\">\n        No Drake in the House v1.0.0\n      </p>\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo } from '../utils/simple-router';\n\n  let status: 'loading' | 'success' | 'error' = 'loading';\n  let errorMessage = '';\n  let provider = '';\n\n  onMount(async () => {\n    // Parse URL parameters\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n    const state = params.get('state');\n    const error = params.get('error');\n    const errorDescription = params.get('error_description');\n\n    // Extract provider from path (e.g., /auth/callback/spotify)\n    const pathParts = window.location.pathname.split('/');\n    provider = pathParts[pathParts.length - 1] || 'unknown';\n\n    // Handle OAuth errors\n    if (error) {\n      status = 'error';\n      errorMessage = errorDescription || error || 'Authentication was cancelled or denied';\n      return;\n    }\n\n    if (!code || !state) {\n      status = 'error';\n      errorMessage = 'Missing authentication parameters';\n      return;\n    }\n\n    try {\n      // Complete the OAuth link flow\n      // Include redirect_uri to match the backend's OAuthCallbackRequest\n      const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/link-callback`, {\n        code,\n        state,\n        redirect_uri: window.location.origin + window.location.pathname\n      });\n\n      if (result.success) {\n        status = 'success';\n        // Redirect to settings after a brief moment\n        setTimeout(() => {\n          navigateTo('settings');\n        }, 1500);\n      } else {\n        status = 'error';\n        errorMessage = result.message || 'Failed to link account';\n      }\n    } catch (e) {\n      status = 'error';\n      errorMessage = e instanceof Error ? e.message : 'An unexpected error occurred';\n    }\n  });\n\n  function goToSettings() {\n    navigateTo('settings');\n  }\n\n  function goHome() {\n    navigateTo('home');\n  }\n\n  function getProviderName(p: string): string {\n    switch (p) {\n      case 'spotify': return 'Spotify';\n      case 'apple': return 'Apple Music';\n      case 'google': return 'Google';\n      case 'github': return 'GitHub';\n      default: return p;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen text-white flex items-center justify-center p-4\" style=\"background: #27272a;\">\n  <div class=\"rounded-xl p-8 max-w-md w-full text-center\" style=\"background: #3f3f46; border: 1px solid #52525b;\">\n    {#if status === 'loading'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2\">Connecting {getProviderName(provider)}</h1>\n      <p class=\"text-zinc-400\">Please wait while we complete the connection...</p>\n    {:else if status === 'success'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-green-400\">Connected!</h1>\n      <p class=\"text-zinc-400 mb-6\">Your {getProviderName(provider)} account has been linked successfully.</p>\n      <button\n        on:click={goToSettings}\n        class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n      >\n        Go to Settings\n      </button>\n    {:else}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-red-400\">Connection Failed</h1>\n      <p class=\"text-zinc-400 mb-6\">{errorMessage}</p>\n      <div class=\"flex gap-3 justify-center\">\n        <button\n          on:click={goToSettings}\n          class=\"px-6 py-3 rounded-lg font-medium transition-colors\" style=\"background: #3f3f46; border: 1px solid #52525b;\"\n        >\n          Try Again\n        </button>\n        <button\n          on:click={goHome}\n          class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n        >\n          Go Home\n        </button>\n      </div>\n    {/if}\n  </div>\n</div>\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    status: [],\n    runs: [],\n    currentRun: null,\n    health: null,\n    canonicalArtists: [],\n    isLoading: false,\n    isTriggering: false,\n    error: null,\n};\n// Store\nexport const syncStore = writable(initialState);\n// Derived stores\nexport const isAnySyncRunning = derived(syncStore, ($sync) => $sync.status.some(s => s.status === 'running'));\nexport const platformsStatus = derived(syncStore, ($sync) => $sync.status);\nexport const recentRuns = derived(syncStore, ($sync) => $sync.runs.slice(0, 10));\n// Actions\nexport const syncActions = {\n    fetchStatus: async () => {\n        syncStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/sync/status');\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    status: result.data.platforms,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch sync status',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    triggerSync: async (request) => {\n        syncStore.update(s => ({ ...s, isTriggering: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/sync/trigger', request);\n            if (result.success && result.data) {\n                syncStore.update(s => ({ ...s, isTriggering: false }));\n                // Refresh status after triggering\n                await syncActions.fetchStatus();\n                await syncActions.fetchRuns();\n                return { success: true, runId: result.data.run_id };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isTriggering: false,\n                    error: result.message || 'Failed to trigger sync',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isTriggering: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRuns: async (limit = 20) => {\n        syncStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/runs?limit=${limit}`);\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    runs: result.data.runs,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch sync runs',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRun: async (runId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/runs/${runId}`);\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    currentRun: result.data,\n                }));\n                return { success: true, run: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    cancelRun: async (runId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', `/api/v1/sync/runs/${runId}/cancel`);\n            if (result.success) {\n                await syncActions.fetchRuns();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/sync/health');\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    health: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    searchArtists: async (query) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/search?q=${encodeURIComponent(query)}`);\n            if (result.success && result.data) {\n                return { success: true, artists: result.data.artists };\n            }\n            else {\n                return { success: false, message: result.message, artists: [] };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message, artists: [] };\n        }\n    },\n    clearError: () => {\n        syncStore.update(s => ({ ...s, error: null }));\n    },\n};\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { syncStore, syncActions, isAnySyncRunning, platformsStatus, recentRuns } from '../stores/sync';\n  import type { TriggerSyncRequest } from '../stores/sync';\n  import { navigateTo } from '../utils/simple-router';\n\n  let selectedPlatforms: string[] = [];\n  let syncType: 'full' | 'incremental' = 'incremental';\n  let priority: 'low' | 'normal' | 'high' | 'critical' = 'normal';\n  let showTriggerModal = false;\n\n  const platforms = [\n    { id: 'spotify', name: 'Spotify', icon: '' },\n    { id: 'apple', name: 'Apple Music', icon: '' },\n    { id: 'tidal', name: 'Tidal', icon: '' },\n    { id: 'youtube', name: 'YouTube Music', icon: '' },\n    { id: 'deezer', name: 'Deezer', icon: '' },\n  ];\n\n  onMount(async () => {\n    await Promise.all([\n      syncActions.fetchStatus(),\n      syncActions.fetchRuns(),\n      syncActions.fetchHealth(),\n    ]);\n  });\n\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'running': return 'bg-blue-500/20 text-blue-400';\n      case 'completed': return 'bg-green-500/20 text-green-400';\n      case 'error': case 'failed': return 'bg-red-500/20 text-red-400';\n      case 'cancelled': return 'bg-zinc-500/20 text-zinc-300';\n      default: return 'bg-zinc-500/20 text-zinc-300';\n    }\n  }\n\n  function getStatusIcon(status: string): string {\n    switch (status) {\n      case 'running': return '';\n      case 'completed': return '';\n      case 'error': case 'failed': return '';\n      case 'cancelled': return '';\n      default: return '';\n    }\n  }\n\n  function formatDuration(ms?: number): string {\n    if (!ms) return '-';\n    if (ms < 1000) return `${ms}ms`;\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n    return `${(ms / 60000).toFixed(1)}m`;\n  }\n\n  function formatDate(dateStr?: string): string {\n    if (!dateStr) return 'Never';\n    const date = new Date(dateStr);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n\n    if (diff < 60000) return 'Just now';\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n    return date.toLocaleDateString();\n  }\n\n  function openTriggerModal() {\n    selectedPlatforms = [];\n    syncType = 'incremental';\n    priority = 'normal';\n    showTriggerModal = true;\n  }\n\n  function closeTriggerModal() {\n    showTriggerModal = false;\n  }\n\n  function togglePlatform(platformId: string) {\n    if (selectedPlatforms.includes(platformId)) {\n      selectedPlatforms = selectedPlatforms.filter(p => p !== platformId);\n    } else {\n      selectedPlatforms = [...selectedPlatforms, platformId];\n    }\n  }\n\n  async function handleTriggerSync() {\n    if (selectedPlatforms.length === 0) return;\n\n    const request: TriggerSyncRequest = {\n      platforms: selectedPlatforms,\n      sync_type: syncType,\n      priority,\n    };\n\n    const result = await syncActions.triggerSync(request);\n    if (result.success) {\n      closeTriggerModal();\n    }\n  }\n\n  async function handleCancelRun(runId: string) {\n    await syncActions.cancelRun(runId);\n  }\n\n  $: healthStatus = $syncStore.health?.overall_status ?? 'unknown';\n  $: healthColor = healthStatus === 'healthy' ? 'text-green-600' :\n                   healthStatus === 'degraded' ? 'text-yellow-600' : 'text-red-600';\n</script>\n\n<div class=\"min-h-screen\" style=\"background: linear-gradient(to bottom, #27272a, #18181b);\">\n  <!-- Header -->\n  <div class=\"bg-zinc-900\" style=\"border-bottom: 1px solid #52525b;\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-white mb-2\">\n            Catalog Sync\n          </h1>\n          <p class=\"text-lg text-zinc-400\">\n            Synchronize artist catalogs across streaming platforms.\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          on:click={openTriggerModal}\n          disabled={$isAnySyncRunning || $syncStore.isTriggering}\n          class=\"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n        >\n          {#if $syncStore.isTriggering}\n            <span class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></span>\n            Starting...\n          {:else}\n            <span></span> Trigger Sync\n          {/if}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Health Status -->\n    {#if $syncStore.health}\n      <div class=\"bg-zinc-900 rounded-xl p-4 shadow-sm mb-6\" style=\"border: 1px solid #52525b;\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center gap-3\">\n            <span class=\"text-2xl\">\n              {healthStatus === 'healthy' ? '' : healthStatus === 'degraded' ? '' : ''}\n            </span>\n            <div>\n              <span class=\"font-medium text-white\">Overall Health:</span>\n              <span class=\"{healthColor} font-semibold ml-2 capitalize\">{healthStatus}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-4 text-sm text-zinc-400\">\n            {#each $syncStore.health.platforms as platform}\n              <div class=\"flex items-center gap-1\">\n                <span class={platform.is_healthy ? 'text-green-500' : 'text-red-500'}>\n                  {platform.is_healthy ? '' : ''}\n                </span>\n                <span class=\"capitalize\">{platform.platform}</span>\n              </div>\n            {/each}\n          </div>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Error display -->\n    {#if $syncStore.error}\n      <div class=\"bg-red-50 border border-red-200 rounded-xl p-4 mb-6\">\n        <div class=\"flex items-center gap-2 text-red-700\">\n          <span></span>\n          <span>{$syncStore.error}</span>\n          <button type=\"button\" on:click={syncActions.clearError} class=\"ml-auto text-red-500 hover:text-red-700\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Platform Status Grid -->\n    <div class=\"mb-8\">\n      <h2 class=\"text-xl font-semibold text-white mb-4\">Platform Status</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {#each platforms as platform}\n          {@const status = $platformsStatus.find(s => s.platform === platform.id)}\n          <div class=\"bg-zinc-900 rounded-xl p-5 shadow-sm\" style=\"border: 1px solid #52525b;\">\n            <div class=\"flex items-start justify-between mb-3\">\n              <div class=\"flex items-center gap-3\">\n                <span class=\"text-2xl\">{platform.icon}</span>\n                <div>\n                  <div class=\"font-medium text-white\">{platform.name}</div>\n                  {#if status}\n                    <span class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium {getStatusColor(status.status)}\">\n                      {getStatusIcon(status.status)} {status.status}\n                    </span>\n                  {:else}\n                    <span class=\"text-xs text-zinc-300\">Not synced</span>\n                  {/if}\n                </div>\n              </div>\n            </div>\n            {#if status}\n              <div class=\"space-y-1 text-sm text-zinc-400\">\n                <div class=\"flex justify-between\">\n                  <span>Artists:</span>\n                  <span class=\"font-medium\">{status.artists_count?.toLocaleString() ?? 0}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span>Last sync:</span>\n                  <span class=\"font-medium\">{formatDate(status.last_sync)}</span>\n                </div>\n              </div>\n              {#if status.error_message}\n                <div class=\"mt-2 text-xs text-red-600 bg-red-50 rounded p-2\">\n                  {status.error_message}\n                </div>\n              {/if}\n            {/if}\n          </div>\n        {/each}\n      </div>\n    </div>\n\n    <!-- Recent Sync Runs -->\n    <div>\n      <div class=\"flex items-center justify-between mb-4\">\n        <h2 class=\"text-xl font-semibold text-white\">Recent Sync Runs</h2>\n        <button\n          type=\"button\"\n          on:click={() => syncActions.fetchRuns()}\n          class=\"text-indigo-600 hover:text-indigo-700 text-sm font-medium flex items-center gap-1\"\n        >\n          <span></span> Refresh\n        </button>\n      </div>\n\n      {#if $syncStore.isLoading}\n        <div class=\"flex justify-center py-12\">\n          <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n        </div>\n      {:else if $recentRuns.length === 0}\n        <div class=\"rounded-xl p-8 text-center\" style=\"background: #3f3f46;\">\n          <span class=\"text-4xl mb-3 block\"></span>\n          <p class=\"text-zinc-300\">No sync runs yet. Trigger your first sync above.</p>\n        </div>\n      {:else}\n        <div class=\"bg-zinc-900 rounded-xl shadow-sm overflow-hidden\" style=\"border: 1px solid #52525b;\">\n          <table class=\"w-full\">\n            <thead style=\"background: #3f3f46; border-bottom: 1px solid #52525b;\">\n              <tr>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Platform</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Type</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Status</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Artists</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Duration</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Started</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-zinc-400 uppercase\">Actions</th>\n              </tr>\n            </thead>\n            <tbody style=\"border-top: 1px solid #52525b;\">\n              {#each $recentRuns as run}\n                <tr class=\"hover:bg-zinc-800\">\n                  <td class=\"px-4 py-3\">\n                    <span class=\"capitalize font-medium\">{run.platform}</span>\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    <span class=\"px-2 py-0.5 rounded text-xs {run.sync_type === 'full' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'}\">\n                      {run.sync_type}\n                    </span>\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    <span class=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium {getStatusColor(run.status)}\">\n                      {getStatusIcon(run.status)} {run.status}\n                    </span>\n                  </td>\n                  <td class=\"px-4 py-3 text-zinc-300\">\n                    {run.artists_processed.toLocaleString()}\n                    {#if run.errors_count > 0}\n                      <span class=\"text-red-500 ml-1\">({run.errors_count} errors)</span>\n                    {/if}\n                  </td>\n                  <td class=\"px-4 py-3 text-zinc-300\">\n                    {formatDuration(run.duration_ms)}\n                  </td>\n                  <td class=\"px-4 py-3 text-zinc-300\">\n                    {formatDate(run.started_at)}\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    {#if run.status === 'running' || run.status === 'pending'}\n                      <button\n                        type=\"button\"\n                        on:click={() => handleCancelRun(run.id)}\n                        class=\"text-red-600 hover:text-red-700 text-sm font-medium\"\n                      >\n                        Cancel\n                      </button>\n                    {:else}\n                      <button\n                        type=\"button\"\n                        on:click={() => syncActions.fetchRun(run.id)}\n                        class=\"text-indigo-600 hover:text-indigo-700 text-sm font-medium\"\n                      >\n                        Details\n                      </button>\n                    {/if}\n                  </td>\n                </tr>\n              {/each}\n            </tbody>\n          </table>\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<!-- Trigger Sync Modal -->\n{#if showTriggerModal}\n  <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\" on:click={closeTriggerModal} role=\"dialog\" aria-modal=\"true\">\n    <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n    <div class=\"bg-zinc-900 rounded-2xl max-w-lg w-full p-6 shadow-xl\" on:click|stopPropagation role=\"document\">\n      <div class=\"flex items-center mb-6\">\n        <div class=\"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center text-2xl mr-4\">\n          \n        </div>\n        <div>\n          <h3 class=\"text-xl font-bold text-white\">Trigger Catalog Sync</h3>\n          <p class=\"text-zinc-400\">Select platforms and sync options</p>\n        </div>\n      </div>\n\n      <!-- Platform Selection -->\n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium text-white mb-3\">Platforms</label>\n        <div class=\"grid grid-cols-2 gap-2\">\n          {#each platforms as platform}\n            <button\n              type=\"button\"\n              on:click={() => togglePlatform(platform.id)}\n              class=\"p-3 rounded-xl border-2 transition-all text-left flex items-center gap-2 text-zinc-300 {\n                selectedPlatforms.includes(platform.id)\n                  ? 'border-indigo-500 bg-indigo-900'\n                  : 'border-zinc-600 hover:border-zinc-500'\n              }\"\n            >\n              <span class=\"text-xl\">{platform.icon}</span>\n              <span class=\"font-medium\">{platform.name}</span>\n            </button>\n          {/each}\n        </div>\n      </div>\n\n      <!-- Sync Type -->\n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium text-white mb-3\">Sync Type</label>\n        <div class=\"grid grid-cols-2 gap-2\">\n          <button\n            type=\"button\"\n            on:click={() => syncType = 'incremental'}\n            class=\"p-3 rounded-xl border-2 transition-all text-left text-zinc-300 {\n              syncType === 'incremental' ? 'border-indigo-500 bg-indigo-900' : 'border-zinc-600 hover:border-zinc-500'\n            }\"\n          >\n            <div class=\"font-medium\">Incremental</div>\n            <div class=\"text-xs text-zinc-400\">Only new/changed artists</div>\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => syncType = 'full'}\n            class=\"p-3 rounded-xl border-2 transition-all text-left text-zinc-300 {\n              syncType === 'full' ? 'border-indigo-500 bg-indigo-900' : 'border-zinc-600 hover:border-zinc-500'\n            }\"\n          >\n            <div class=\"font-medium\">Full</div>\n            <div class=\"text-xs text-zinc-400\">Complete catalog refresh</div>\n          </button>\n        </div>\n      </div>\n\n      <!-- Priority -->\n      <div class=\"mb-6\">\n        <label for=\"priority\" class=\"block text-sm font-medium text-white mb-2\">Priority</label>\n        <select\n          id=\"priority\"\n          bind:value={priority}\n          class=\"w-full px-4 py-3 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-zinc-300 bg-zinc-800\"\n          style=\"border: 1px solid #52525b;\"\n        >\n          <option value=\"low\">Low</option>\n          <option value=\"normal\">Normal</option>\n          <option value=\"high\">High</option>\n          <option value=\"critical\">Critical</option>\n        </select>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex gap-3\">\n        <button\n          type=\"button\"\n          on:click={closeTriggerModal}\n          class=\"flex-1 px-4 py-3 text-white rounded-xl hover:bg-zinc-700 font-medium transition-colors\"\n          style=\"border: 1px solid #52525b;\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          on:click={handleTriggerSync}\n          disabled={selectedPlatforms.length === 0 || $syncStore.isTriggering}\n          class=\"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {#if $syncStore.isTriggering}\n            Starting...\n          {:else}\n            Start Sync\n          {/if}\n        </button>\n      </div>\n    </div>\n  </div>\n{/if}\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    dashboard: null,\n    userStats: null,\n    systemHealth: null,\n    trends: {\n        summary: null,\n        artists: [],\n        platforms: [],\n    },\n    reportTypes: [],\n    reports: [],\n    currentReport: null,\n    // Trouble scores\n    troubleLeaderboard: [],\n    tierDistribution: null,\n    selectedArtistScore: null,\n    // Revenue\n    revenueDistribution: null,\n    topArtistsByRevenue: [],\n    problematicArtistRevenue: [],\n    payoutRates: [],\n    // Category Revenue (Simulated)\n    globalCategoryRevenue: null,\n    offenseCategories: [],\n    selectedCategoryRevenue: null,\n    artistDiscographyRevenue: null,\n    isLoading: false,\n    error: null,\n};\n// Store\nexport const analyticsStore = writable(initialState);\n// Derived stores\nexport const isSystemHealthy = derived(analyticsStore, ($analytics) => $analytics.systemHealth?.overall === 'healthy');\nexport const risingArtists = derived(analyticsStore, ($analytics) => $analytics.trends.artists.filter(a => a.trend === 'rising'));\nexport const fallingArtists = derived(analyticsStore, ($analytics) => $analytics.trends.artists.filter(a => a.trend === 'falling'));\n// Actions\nexport const analyticsActions = {\n    fetchDashboard: async (timeRange = 'last7days') => {\n        analyticsStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/dashboard?time_range=${timeRange}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    dashboard: result.data,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                analyticsStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch dashboard',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            analyticsStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchUserStats: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/dashboard/user-stats');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    userStats: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchSystemHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/health');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    systemHealth: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTrendSummary: async (periodDays = 7) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends?period_days=${periodDays}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        summary: result.data,\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRisingArtists: async (limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends/rising?limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        artists: [\n                            ...s.trends.artists.filter(a => a.trend !== 'rising'),\n                            ...result.data.artists.map(a => ({ ...a, trend: 'rising' })),\n                        ],\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchFallingArtists: async (limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends/falling?limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        artists: [\n                            ...s.trends.artists.filter(a => a.trend !== 'falling'),\n                            ...result.data.artists.map(a => ({ ...a, trend: 'falling' })),\n                        ],\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchReportTypes: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/reports/types');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    reportTypes: result.data.report_types,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    generateReport: async (request) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/analytics/reports', request);\n            if (result.success && result.data) {\n                return { success: true, reportId: result.data.report_id };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchReportStatus: async (reportId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/reports/${reportId}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    currentReport: result.data,\n                }));\n                return { success: true, report: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    clearError: () => {\n        analyticsStore.update(s => ({ ...s, error: null }));\n    },\n    // Trouble Score Actions\n    fetchTroubleLeaderboard: async (minTier, limit = 20, offset = 0) => {\n        try {\n            const params = new URLSearchParams({ limit: limit.toString(), offset: offset.toString() });\n            if (minTier)\n                params.append('min_tier', minTier);\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trouble-scores/leaderboard?${params}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    troubleLeaderboard: result.data.entries,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTierDistribution: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/trouble-scores/distribution');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    tierDistribution: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchArtistTroubleScore: async (artistId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trouble-scores/${artistId}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    selectedArtistScore: result.data,\n                }));\n                return { success: true, score: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    // Revenue Actions\n    fetchRevenueDistribution: async (days = 30, platform) => {\n        try {\n            const params = new URLSearchParams({ days: days.toString() });\n            if (platform)\n                params.append('platform', platform);\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/distribution?${params}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    revenueDistribution: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTopArtistsByRevenue: async (days = 30, limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/top-artists?days=${days}&limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    topArtistsByRevenue: result.data.artists,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchProblematicArtistRevenue: async (days = 30, minTier = 'moderate', limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/problematic?days=${days}&min_tier=${minTier}&limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    problematicArtistRevenue: result.data.artists,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchPayoutRates: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/revenue/payout-rates');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    payoutRates: result.data.rates,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchArtistRevenue: async (artistId, days = 30) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/artist/${artistId}?days=${days}`);\n            if (result.success && result.data) {\n                return { success: true, breakdown: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    // Category Revenue Actions (Simulated by Offense Category)\n    fetchGlobalCategoryRevenue: async () => {\n        analyticsStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/category-revenue');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    globalCategoryRevenue: result.data,\n                    isLoading: false,\n                }));\n                return { success: true, data: result.data };\n            }\n            else {\n                analyticsStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch category revenue',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            analyticsStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchOffenseCategories: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/category-revenue/categories');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    offenseCategories: result.data.categories,\n                }));\n                return { success: true, categories: result.data.categories };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchCategoryRevenue: async (category, topN = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/category-revenue/${category}?top_n=${topN}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    selectedCategoryRevenue: result.data,\n                }));\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchArtistDiscographyRevenue: async (artistId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/category-revenue/artist/${artistId}/discography`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    artistDiscographyRevenue: result.data,\n                }));\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchUserCategoryExposure: async (days = 30) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/category-revenue/user/exposure?days=${days}`);\n            if (result.success && result.data) {\n                return { success: true, categories: result.data.categories };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    clearCategoryRevenue: () => {\n        analyticsStore.update(s => ({\n            ...s,\n            globalCategoryRevenue: null,\n            selectedCategoryRevenue: null,\n            artistDiscographyRevenue: null,\n        }));\n    },\n};\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import {\n    analyticsStore,\n    analyticsActions,\n    type GlobalCategoryRevenue,\n    type CategoryRevenue,\n    type CategoryArtistRevenue,\n  } from '../stores/analytics';\n\n  // Props\n  export let showDetails: boolean = true;\n  export let maxCategories: number = 12;\n  export let onArtistClick: ((artistId: string) => void) | null = null;\n\n  // Local state\n  let isLoading = false;\n  let error: string | null = null;\n  let selectedCategory: string | null = null;\n  let categoryDetails: CategoryRevenue | null = null;\n\n  // Reactive data from store\n  $: globalRevenue = $analyticsStore.globalCategoryRevenue;\n\n  // Category colors for visual consistency\n  const categoryColors: Record<string, string> = {\n    sexual_misconduct: 'bg-rose-600',\n    domestic_violence: 'bg-red-600',\n    child_abuse: 'bg-red-800',\n    hate_speech: 'bg-orange-600',\n    racism: 'bg-orange-700',\n    antisemitism: 'bg-amber-700',\n    homophobia: 'bg-amber-600',\n    violent_crime: 'bg-red-500',\n    drug_trafficking: 'bg-purple-600',\n    fraud: 'bg-blue-600',\n    animal_abuse: 'bg-emerald-600',\n    certified_creeper: 'bg-pink-600',\n    other: 'bg-zinc-500',\n  };\n\n  function getCategoryColor(category: string): string {\n    return categoryColors[category] || 'bg-zinc-500';\n  }\n\n  function formatCurrency(value: string | number): string {\n    const num = typeof value === 'string' ? parseFloat(value) : value;\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(num);\n  }\n\n  function formatNumber(value: number): string {\n    return new Intl.NumberFormat('en-US', {\n      notation: 'compact',\n      compactDisplay: 'short',\n    }).format(value);\n  }\n\n  async function loadData() {\n    isLoading = true;\n    error = null;\n\n    const result = await analyticsActions.fetchGlobalCategoryRevenue();\n\n    if (!result.success) {\n      error = result.message || 'Failed to load category revenue data';\n    }\n\n    isLoading = false;\n  }\n\n  async function selectCategory(category: string) {\n    if (selectedCategory === category) {\n      selectedCategory = null;\n      categoryDetails = null;\n      return;\n    }\n\n    selectedCategory = category;\n    const result = await analyticsActions.fetchCategoryRevenue(category, 10);\n\n    if (result.success && result.data) {\n      categoryDetails = result.data;\n    }\n  }\n\n  function handleArtistClick(artistId: string) {\n    if (onArtistClick) {\n      onArtistClick(artistId);\n    }\n  }\n\n  onMount(() => {\n    loadData();\n  });\n</script>\n\n<div class=\"category-revenue-breakdown\" data-testid=\"category-revenue-breakdown\">\n  <!-- Header -->\n  <div class=\"flex items-center justify-between mb-4\">\n    <h3 class=\"text-lg font-semibold text-zinc-100\">Revenue by Offense Category</h3>\n    <button\n      on:click={loadData}\n      disabled={isLoading}\n      class=\"text-sm text-zinc-400 hover:text-zinc-200 disabled:opacity-50\"\n      data-testid=\"refresh-button\"\n    >\n      {isLoading ? 'Loading...' : 'Refresh'}\n    </button>\n  </div>\n\n  {#if error}\n    <div class=\"bg-red-900/20 border border-red-800 rounded-lg p-4 text-red-400\" data-testid=\"error-message\">\n      {error}\n    </div>\n  {:else if isLoading && !globalRevenue}\n    <div class=\"flex items-center justify-center py-8\" data-testid=\"loading-spinner\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-zinc-400\"></div>\n    </div>\n  {:else if globalRevenue}\n    <!-- Summary Cards -->\n    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\" data-testid=\"summary-cards\">\n      <div class=\"bg-zinc-800 rounded-lg p-4\">\n        <div class=\"text-sm text-zinc-400\">Total Simulated Revenue</div>\n        <div class=\"text-xl font-bold text-zinc-100\" data-testid=\"total-revenue\">\n          {formatCurrency(globalRevenue.total_simulated_revenue)}\n        </div>\n        <div class=\"text-xs text-zinc-500\">per month</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-lg p-4\">\n        <div class=\"text-sm text-zinc-400\">Problematic Artists</div>\n        <div class=\"text-xl font-bold text-red-400\" data-testid=\"problematic-revenue\">\n          {formatCurrency(globalRevenue.problematic_artist_revenue)}\n        </div>\n        <div class=\"text-xs text-zinc-500\">{globalRevenue.problematic_percentage.toFixed(1)}% of total</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-lg p-4\">\n        <div class=\"text-sm text-zinc-400\">Clean Artists</div>\n        <div class=\"text-xl font-bold text-emerald-400\" data-testid=\"clean-revenue\">\n          {formatCurrency(globalRevenue.clean_artist_revenue)}\n        </div>\n        <div class=\"text-xs text-zinc-500\">{(100 - globalRevenue.problematic_percentage).toFixed(1)}% of total</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-lg p-4\">\n        <div class=\"text-sm text-zinc-400\">Artists with Offenses</div>\n        <div class=\"text-xl font-bold text-zinc-100\" data-testid=\"artist-count\">\n          {globalRevenue.total_artists_with_offenses}\n        </div>\n        <div class=\"text-xs text-zinc-500\">documented</div>\n      </div>\n    </div>\n\n    <!-- Category Breakdown Bar -->\n    <div class=\"mb-6\">\n      <div class=\"text-sm text-zinc-400 mb-2\">Revenue Distribution by Category</div>\n      <div class=\"h-6 rounded-full overflow-hidden flex bg-zinc-700\" data-testid=\"category-bar\">\n        {#each globalRevenue.by_category.slice(0, maxCategories) as category}\n          {#if category.percentage_of_total > 0.5}\n            <div\n              class=\"{getCategoryColor(category.category)} cursor-pointer hover:opacity-80 transition-opacity\"\n              style=\"width: {category.percentage_of_total}%\"\n              title=\"{category.display_name}: {formatCurrency(category.simulated_revenue)} ({category.percentage_of_total.toFixed(1)}%)\"\n              on:click={() => selectCategory(category.category)}\n              on:keypress={(e) => e.key === 'Enter' && selectCategory(category.category)}\n              role=\"button\"\n              tabindex=\"0\"\n              data-testid=\"category-segment-{category.category}\"\n            />\n          {/if}\n        {/each}\n      </div>\n    </div>\n\n    <!-- Category List -->\n    {#if showDetails}\n      <div class=\"space-y-2\" data-testid=\"category-list\">\n        {#each globalRevenue.by_category.slice(0, maxCategories) as category}\n          <button\n            class=\"w-full text-left bg-zinc-800 rounded-lg p-3 hover:bg-zinc-700 transition-colors\n                   {selectedCategory === category.category ? 'ring-2 ring-zinc-500' : ''}\"\n            on:click={() => selectCategory(category.category)}\n            data-testid=\"category-item-{category.category}\"\n          >\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center gap-3\">\n                <div class=\"w-3 h-3 rounded-full {getCategoryColor(category.category)}\"></div>\n                <span class=\"text-zinc-200\">{category.display_name}</span>\n                <span class=\"text-xs text-zinc-500\">({category.artist_count} artists)</span>\n              </div>\n              <div class=\"text-right\">\n                <div class=\"text-zinc-100 font-medium\">{formatCurrency(category.simulated_revenue)}</div>\n                <div class=\"text-xs text-zinc-500\">{category.percentage_of_total.toFixed(1)}%</div>\n              </div>\n            </div>\n\n            <!-- Expanded Category Details -->\n            {#if selectedCategory === category.category && categoryDetails}\n              <div class=\"mt-3 pt-3 border-t border-zinc-700\" data-testid=\"category-details\">\n                <div class=\"text-sm text-zinc-400 mb-2\">Top Artists in {category.display_name}</div>\n                <div class=\"space-y-2\">\n                  {#each categoryDetails.top_artists as artist}\n                    <div\n                      class=\"flex items-center justify-between py-1 px-2 rounded hover:bg-zinc-600 cursor-pointer\"\n                      on:click|stopPropagation={() => handleArtistClick(artist.artist_id)}\n                      on:keypress={(e) => e.key === 'Enter' && handleArtistClick(artist.artist_id)}\n                      role=\"button\"\n                      tabindex=\"0\"\n                      data-testid=\"artist-item-{artist.artist_id}\"\n                    >\n                      <div>\n                        <span class=\"text-zinc-200\">{artist.artist_name}</span>\n                        <span class=\"text-xs text-zinc-500 ml-2\">\n                          {artist.offense_count} offense{artist.offense_count !== 1 ? 's' : ''}\n                        </span>\n                      </div>\n                      <div class=\"text-sm text-zinc-300\">\n                        {formatCurrency(artist.simulated_revenue)}\n                      </div>\n                    </div>\n                  {/each}\n                </div>\n              </div>\n            {/if}\n          </button>\n        {/each}\n      </div>\n    {/if}\n\n    <!-- Footer -->\n    <div class=\"mt-4 text-xs text-zinc-500 text-center\" data-testid=\"footer-note\">\n      Revenue figures are simulated based on average streaming payouts (~$0.004/stream)\n    </div>\n  {:else}\n    <div class=\"text-center py-8 text-zinc-500\" data-testid=\"no-data\">\n      No category revenue data available\n    </div>\n  {/if}\n</div>\n\n<style>\n  .category-revenue-breakdown {\n    background-color: #18181b;\n    border-radius: 0.75rem;\n    padding: 1.5rem;\n  }\n</style>\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\n// === STORE ===\nconst initialState = {\n    profile: null,\n    isLoading: false,\n    error: null,\n    isLoadingEvidence: false,\n    isLoadingMetrics: false,\n    isLoadingCollaborators: false,\n};\nexport const artistStore = writable(initialState);\n// Derived stores\nexport const artistProfile = derived(artistStore, ($store) => $store.profile);\nexport const artistOffenses = derived(artistStore, ($store) => $store.profile?.offenses || []);\nexport const artistCollaborators = derived(artistStore, ($store) => $store.profile?.collaborators || []);\nexport const artistMetrics = derived(artistStore, ($store) => $store.profile?.streaming_metrics);\n// === ACTIONS ===\nexport const artistActions = {\n    fetchProfile: async (artistId) => {\n        artistStore.update(state => ({ ...state, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.get(`/api/v1/artists/${artistId}/profile`);\n            if (result.success && result.data) {\n                artistStore.update(state => ({\n                    ...state,\n                    profile: result.data,\n                    isLoading: false,\n                }));\n                return { success: true, data: result.data };\n            }\n            else {\n                artistStore.update(state => ({\n                    ...state,\n                    error: result.message || 'Failed to fetch artist profile',\n                    isLoading: false,\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            artistStore.update(state => ({\n                ...state,\n                error: error.message || 'Network error',\n                isLoading: false,\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchOffenses: async (artistId) => {\n        artistStore.update(state => ({ ...state, isLoadingEvidence: true }));\n        try {\n            const result = await apiClient.get(`/api/v1/offenses/query?artist_id=${artistId}`);\n            if (result.success && result.data) {\n                artistStore.update(state => ({\n                    ...state,\n                    profile: state.profile ? {\n                        ...state.profile,\n                        offenses: result.data.offenses || []\n                    } : null,\n                    isLoadingEvidence: false,\n                }));\n                return { success: true, data: result.data.offenses };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            artistStore.update(state => ({ ...state, isLoadingEvidence: false }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchStreamingMetrics: async (artistId) => {\n        artistStore.update(state => ({ ...state, isLoadingMetrics: true }));\n        try {\n            const result = await apiClient.get(`/api/v1/artists/${artistId}/analytics`);\n            if (result.success && result.data) {\n                artistStore.update(state => ({\n                    ...state,\n                    profile: state.profile ? {\n                        ...state.profile,\n                        streaming_metrics: result.data\n                    } : null,\n                    isLoadingMetrics: false,\n                }));\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            artistStore.update(state => ({ ...state, isLoadingMetrics: false }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchCollaborators: async (artistId) => {\n        artistStore.update(state => ({ ...state, isLoadingCollaborators: true }));\n        try {\n            const result = await apiClient.get(`/api/v1/graph/artists/${artistId}/collaborators`);\n            if (result.success && result.data) {\n                artistStore.update(state => ({\n                    ...state,\n                    profile: state.profile ? {\n                        ...state.profile,\n                        collaborators: result.data.collaborators || []\n                    } : null,\n                    isLoadingCollaborators: false,\n                }));\n                return { success: true, data: result.data.collaborators };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            artistStore.update(state => ({ ...state, isLoadingCollaborators: false }));\n            return { success: false, message: error.message };\n        }\n    },\n    submitEvidence: async (offenseId, evidence) => {\n        try {\n            const result = await apiClient.post(`/api/v1/offenses/${offenseId}/evidence`, evidence);\n            return { success: result.success, message: result.message };\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    reportError: async (artistId, description, category) => {\n        try {\n            const result = await apiClient.post('/api/v1/offenses/report-error', {\n                artist_id: artistId,\n                description,\n                category,\n            });\n            return { success: result.success, message: result.message };\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    clearProfile: () => {\n        artistStore.set(initialState);\n    },\n    clearError: () => {\n        artistStore.update(state => ({ ...state, error: null }));\n    },\n};\n// === HELPER FUNCTIONS ===\nexport function getStatusColor(status) {\n    switch (status) {\n        case 'flagged':\n            return { bg: '#DC2626', text: '#FFFFFF', border: '#EF4444' };\n        case 'certified_creeper':\n            return { bg: '#DB2777', text: '#FFFFFF', border: '#EC4899' }; // Pink for certified creeper\n        case 'clean':\n            return { bg: '#10B981', text: '#FFFFFF', border: '#34D399' };\n        default:\n            return { bg: '#6B7280', text: '#FFFFFF', border: '#9CA3AF' };\n    }\n}\nexport function getStatusLabel(status) {\n    switch (status) {\n        case 'flagged':\n            return 'Flagged';\n        case 'certified_creeper':\n            return 'Certified Creeper';\n        case 'clean':\n            return 'Clean';\n        default:\n            return 'Unknown';\n    }\n}\nexport function getConfidenceIcon(level) {\n    switch (level) {\n        case 'high':\n            return ''; // 3 bars filled\n        case 'medium':\n            return ''; // 2 bars filled\n        case 'low':\n            return ''; // 1 bar filled\n        default:\n            return '';\n    }\n}\nexport function getConfidenceLabel(level) {\n    switch (level) {\n        case 'high':\n            return 'High Confidence';\n        case 'medium':\n            return 'Medium Confidence';\n        case 'low':\n            return 'Low Confidence';\n        default:\n            return 'Unknown';\n    }\n}\nexport function getSourceTierLabel(tier) {\n    switch (tier) {\n        case 'tier_a':\n            return {\n                label: 'Tier A',\n                description: 'Primary Records (Court dockets, judgments, official filings)',\n                color: '#10B981'\n            };\n        case 'tier_b':\n            return {\n                label: 'Tier B',\n                description: 'Reputable Secondary (Major news, investigative journalism)',\n                color: '#3B82F6'\n            };\n        case 'tier_c':\n            return {\n                label: 'Tier C',\n                description: 'Corroborated Reports (Multiple independent sources)',\n                color: '#F59E0B'\n            };\n        case 'tier_d':\n            return {\n                label: 'Tier D',\n                description: 'Unverified / Single Source',\n                color: '#EF4444'\n            };\n        default:\n            return {\n                label: 'Unknown',\n                description: 'Source reliability unknown',\n                color: '#6B7280'\n            };\n    }\n}\nexport function getProceduralStateLabel(state) {\n    const labels = {\n        alleged: 'Alleged',\n        arrested: 'Arrested',\n        charged: 'Charged',\n        trial_ongoing: 'Trial Ongoing',\n        convicted: 'Convicted',\n        sentenced: 'Sentenced',\n        appeal_pending: 'Appeal Pending',\n        case_dismissed: 'Case Dismissed',\n        record_sealed: 'Record Sealed',\n        expunged: 'Expunged',\n    };\n    return labels[state] || state;\n}\nexport function getEvidenceStrengthLabel(strength) {\n    switch (strength) {\n        case 'strong':\n            return { label: 'Strong', color: '#10B981' };\n        case 'moderate':\n            return { label: 'Moderate', color: '#F59E0B' };\n        case 'weak':\n            return { label: 'Weak', color: '#EF4444' };\n        default:\n            return { label: 'Unknown', color: '#6B7280' };\n    }\n}\n// Category colors matching the design system\nexport const CATEGORY_COLORS = {\n    violence_physical_harm: { icon: '#DC2626', bg: 'rgba(220, 38, 38, 0.15)', name: 'Violence & Physical Harm' },\n    sexual_misconduct: { icon: '#DB2777', bg: 'rgba(219, 39, 119, 0.15)', name: 'Sexual Misconduct' },\n    exploitation_abuse: { icon: '#9333EA', bg: 'rgba(147, 51, 234, 0.15)', name: 'Exploitation & Abuse' },\n    hate_extremism: { icon: '#7C3AED', bg: 'rgba(124, 58, 237, 0.15)', name: 'Hate & Extremism' },\n    fraud_financial: { icon: '#059669', bg: 'rgba(5, 150, 105, 0.15)', name: 'Fraud & Financial Crime' },\n    weapons_organized_crime: { icon: '#B91C1C', bg: 'rgba(185, 28, 28, 0.15)', name: 'Weapons & Organized Crime' },\n    harassment_coercion: { icon: '#EA580C', bg: 'rgba(234, 88, 12, 0.15)', name: 'Harassment & Coercion' },\n    substance_trafficking: { icon: '#0891B2', bg: 'rgba(8, 145, 178, 0.15)', name: 'Substance & Trafficking' },\n    legal_proceedings: { icon: '#4B5563', bg: 'rgba(75, 85, 99, 0.15)', name: 'Legal Proceedings' },\n    reputational_risk: { icon: '#6B7280', bg: 'rgba(107, 114, 128, 0.15)', name: 'Reputational Risk (Non-Criminal)' },\n};\nexport function getCategoryColor(categoryId) {\n    return CATEGORY_COLORS[categoryId] || { icon: '#6B7280', bg: 'rgba(107, 114, 128, 0.15)', name: categoryId };\n}\n","<script lang=\"ts\">\n  export let variant: 'text' | 'circular' | 'rectangular' | 'card' = 'text';\n  export let width: string = '100%';\n  export let height: string | undefined = undefined;\n  export let lines: number = 1;\n  export let animate: boolean = true;\n\n  // Respect reduced motion preference\n  const prefersReducedMotion = typeof window !== 'undefined'\n    ? window.matchMedia('(prefers-reduced-motion: reduce)').matches\n    : false;\n\n  $: shouldAnimate = animate && !prefersReducedMotion;\n</script>\n\n{#if variant === 'text'}\n  <div class=\"space-y-2\" style=\"width: {width};\">\n    {#each Array(lines) as _, i}\n      <div\n        class=\"rounded h-4 {shouldAnimate ? 'animate-pulse' : ''}\"\n        style=\"background: #3f3f46; width: {i === lines - 1 && lines > 1 ? '75%' : '100%'};\"\n      ></div>\n    {/each}\n  </div>\n{:else if variant === 'circular'}\n  <div\n    class=\"rounded-full {shouldAnimate ? 'animate-pulse' : ''}\"\n    style=\"background: #3f3f46; width: {width}; height: {height || width};\"\n  ></div>\n{:else if variant === 'rectangular'}\n  <div\n    class=\"rounded-lg {shouldAnimate ? 'animate-pulse' : ''}\"\n    style=\"background: #3f3f46; width: {width}; height: {height || '100px'};\"\n  ></div>\n{:else if variant === 'card'}\n  <div\n    class=\"rounded-xl p-4 {animate ? '' : ''}\"\n    style=\"background: #27272a; border: 1px solid #52525b;\"\n  >\n    <div class=\"flex gap-4\">\n      <div\n        class=\"rounded-lg flex-shrink-0 {shouldAnimate ? 'animate-pulse' : ''}\"\n        style=\"background: #3f3f46; width: 80px; height: 80px;\"\n      ></div>\n      <div class=\"flex-1 space-y-3\">\n        <div\n          class=\"h-5 rounded {shouldAnimate ? 'animate-pulse' : ''}\"\n          style=\"background: #3f3f46; width: 60%;\"\n        ></div>\n        <div\n          class=\"h-4 rounded {shouldAnimate ? 'animate-pulse' : ''}\"\n          style=\"background: #52525b; width: 40%;\"\n        ></div>\n        <div\n          class=\"h-3 rounded {shouldAnimate ? 'animate-pulse' : ''}\"\n          style=\"background: #52525b; width: 80%;\"\n        ></div>\n      </div>\n    </div>\n  </div>\n{/if}\n\n<style>\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n\n  .animate-pulse {\n    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n</style>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import {\n    analyticsStore,\n    analyticsActions,\n    isSystemHealthy,\n    risingArtists,\n    fallingArtists\n  } from '../stores/analytics';\n  import type { ReportRequest, TroubleTier } from '../stores/analytics';\n  import { syncStore, syncActions, isAnySyncRunning } from '../stores/sync';\n  import { navigateTo } from '../utils/simple-router';\n  import CategoryRevenueBreakdown from './CategoryRevenueBreakdown.svelte';\n  import { Skeleton } from './ui';\n\n  // Tab state\n  type Tab = 'overview' | 'revenue' | 'sync';\n  let activeTab: Tab = 'overview';\n\n  // Overview state\n  let selectedTimeRange = 'last7days';\n  let selectedPeriodDays = 7;\n  let showReportModal = false;\n  let reportType = 'user_activity';\n  let reportFormat: 'json' | 'csv' | 'parquet' | 'html' = 'json';\n  let includeDetails = true;\n\n  // Revenue state\n  let revenueDays = 30;\n  let selectedMinTier: TroubleTier = 'moderate';\n\n  // Sync state\n  let syncPlatforms: string[] = ['deezer'];\n  let syncType: 'full' | 'incremental' = 'incremental';\n  let syncPriority: 'low' | 'normal' | 'high' | 'critical' = 'normal';\n\n  const timeRanges = [\n    { value: 'last24h', label: 'Last 24 Hours', days: 1 },\n    { value: 'last7days', label: 'Last 7 Days', days: 7 },\n    { value: 'last30days', label: 'Last 30 Days', days: 30 },\n    { value: 'last90days', label: 'Last 90 Days', days: 90 },\n  ];\n\n  const periodOptions = [\n    { value: 7, label: 'Last 7 Days' },\n    { value: 30, label: 'Last 30 Days' },\n    { value: 90, label: 'Last 90 Days' },\n    { value: 365, label: 'Last Year' },\n  ];\n\n  const tierOptions: { value: TroubleTier; label: string }[] = [\n    { value: 'moderate', label: 'Moderate+' },\n    { value: 'high', label: 'High+' },\n    { value: 'critical', label: 'Critical Only' },\n  ];\n\n  const platformList = [\n    { id: 'deezer', name: 'Deezer', icon: '', alwaysAvailable: true },\n    { id: 'spotify', name: 'Spotify', icon: '', alwaysAvailable: false },\n    { id: 'apple_music', name: 'Apple Music', icon: '', alwaysAvailable: false },\n    { id: 'tidal', name: 'Tidal', icon: '', alwaysAvailable: false },\n    { id: 'youtube_music', name: 'YouTube Music', icon: '', alwaysAvailable: false },\n  ];\n\n  onMount(async () => {\n    // Load overview data\n    await Promise.all([\n      analyticsActions.fetchDashboard(selectedTimeRange),\n      analyticsActions.fetchUserStats(),\n      analyticsActions.fetchSystemHealth(),\n      analyticsActions.fetchTrendSummary(selectedPeriodDays),\n      analyticsActions.fetchRisingArtists(),\n      analyticsActions.fetchFallingArtists(),\n      analyticsActions.fetchReportTypes(),\n    ]);\n  });\n\n  async function loadRevenueData() {\n    await Promise.all([\n      analyticsActions.fetchRevenueDistribution(revenueDays),\n      analyticsActions.fetchProblematicArtistRevenue(revenueDays, selectedMinTier, 10),\n      analyticsActions.fetchTierDistribution(),\n      analyticsActions.fetchPayoutRates(),\n    ]);\n  }\n\n  async function loadSyncData() {\n    await Promise.all([\n      syncActions.fetchStatus(),\n      syncActions.fetchRuns(),\n      syncActions.fetchHealth(),\n    ]);\n  }\n\n  async function handleTabChange(tab: Tab) {\n    activeTab = tab;\n    if (tab === 'revenue') {\n      await loadRevenueData();\n    } else if (tab === 'sync') {\n      await loadSyncData();\n    }\n  }\n\n  async function handleTimeRangeChange() {\n    const range = timeRanges.find(r => r.value === selectedTimeRange);\n    if (range) {\n      selectedPeriodDays = range.days;\n      await Promise.all([\n        analyticsActions.fetchDashboard(selectedTimeRange),\n        analyticsActions.fetchTrendSummary(selectedPeriodDays),\n      ]);\n    }\n  }\n\n  async function handleRevenuePeriodChange() {\n    await analyticsActions.fetchRevenueDistribution(revenueDays);\n    await analyticsActions.fetchProblematicArtistRevenue(revenueDays, selectedMinTier, 10);\n  }\n\n  async function handleTierChange() {\n    await analyticsActions.fetchProblematicArtistRevenue(revenueDays, selectedMinTier, 10);\n  }\n\n  async function handleTriggerSync() {\n    await syncActions.triggerSync({\n      platforms: syncPlatforms,\n      sync_type: syncType,\n      priority: syncPriority,\n    });\n  }\n\n  function openReportModal() {\n    showReportModal = true;\n  }\n\n  function closeReportModal() {\n    showReportModal = false;\n  }\n\n  async function handleGenerateReport() {\n    const request: ReportRequest = {\n      report_type: reportType,\n      format: reportFormat,\n      time_range: selectedTimeRange,\n      include_details: includeDetails,\n    };\n\n    const result = await analyticsActions.generateReport(request);\n    if (result.success && result.reportId) {\n      pollReportStatus(result.reportId);\n      closeReportModal();\n    }\n  }\n\n  async function pollReportStatus(reportId: string) {\n    const result = await analyticsActions.fetchReportStatus(reportId);\n    if (result.success && result.report) {\n      if (result.report.status === 'pending' || result.report.status === 'processing') {\n        setTimeout(() => pollReportStatus(reportId), 2000);\n      }\n    }\n  }\n\n  function formatNumber(num: number | undefined): string {\n    if (num === undefined) return '0';\n    if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n    return num.toString();\n  }\n\n  function formatCurrency(value: string | undefined): string {\n    if (!value) return '$0.00';\n    const num = parseFloat(value);\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 4,\n    }).format(num);\n  }\n\n  function getTrendIcon(trend: 'up' | 'down' | 'stable' | 'rising' | 'falling'): string {\n    switch (trend) {\n      case 'up': case 'rising': return '';\n      case 'down': case 'falling': return '';\n      default: return '';\n    }\n  }\n\n  function getTrendColor(trend: 'up' | 'down' | 'stable' | 'rising' | 'falling'): string {\n    switch (trend) {\n      case 'up': case 'rising': return 'text-green-600';\n      case 'down': case 'falling': return 'text-red-600';\n      default: return 'text-zinc-300';\n    }\n  }\n\n  function getHealthIcon(healthy: boolean): string {\n    return healthy ? '' : '';\n  }\n\n  function getHealthColor(healthy: boolean): string {\n    return healthy ? 'text-green-600' : 'text-red-600';\n  }\n\n  function getTierColor(tier: TroubleTier | undefined): string {\n    switch (tier) {\n      case 'critical': return 'bg-red-600';\n      case 'high': return 'bg-orange-500';\n      case 'moderate': return 'bg-yellow-500';\n      case 'low': return 'bg-green-500';\n      default: return 'bg-zinc-400';\n    }\n  }\n\n  function getTierBgColor(tier: TroubleTier | undefined): string {\n    switch (tier) {\n      case 'critical': return 'bg-red-900/30 border-red-700';\n      case 'high': return 'bg-orange-900/30 border-orange-700';\n      case 'moderate': return 'bg-yellow-900/30 border-yellow-700';\n      case 'low': return 'bg-green-900/30 border-green-700';\n      default: return 'bg-zinc-800 border-zinc-600';\n    }\n  }\n\n  function getTierLabel(tier: TroubleTier | undefined): string {\n    if (!tier) return 'Unknown';\n    return tier.charAt(0).toUpperCase() + tier.slice(1);\n  }\n\n  function getSyncStatusIcon(status: string): string {\n    switch (status) {\n      case 'running': return '';\n      case 'completed': return '';\n      case 'error': case 'failed': return '';\n      default: return '';\n    }\n  }\n\n  function togglePlatform(platformId: string) {\n    if (syncPlatforms.includes(platformId)) {\n      syncPlatforms = syncPlatforms.filter(p => p !== platformId);\n    } else {\n      syncPlatforms = [...syncPlatforms, platformId];\n    }\n  }\n\n  $: dashboard = $analyticsStore.dashboard;\n  $: userStats = $analyticsStore.userStats;\n  $: systemHealth = $analyticsStore.systemHealth;\n  $: trendSummary = $analyticsStore.trends.summary;\n  $: distribution = $analyticsStore.revenueDistribution;\n  $: problematicArtists = $analyticsStore.problematicArtistRevenue;\n  $: tierDist = $analyticsStore.tierDistribution;\n  $: rates = $analyticsStore.payoutRates;\n</script>\n\n<div class=\"min-h-screen py-6\">\n  <!-- Header -->\n  <div class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mb-8\">\n    <div class=\"flex items-center justify-between\">\n      <div>\n        <h1 class=\"text-3xl font-bold text-white mb-2\">\n          Analytics Dashboard\n        </h1>\n        <p class=\"text-lg text-zinc-400\">\n          Monitor system health, revenue impact, and catalog sync.\n        </p>\n      </div>\n      <div>\n        {#if activeTab === 'overview'}\n          <div class=\"flex items-center gap-4\">\n            <select\n              bind:value={selectedTimeRange}\n              on:change={handleTimeRangeChange}\n              class=\"px-4 py-2 rounded-lg text-white bg-zinc-700 border border-zinc-600\"\n            >\n              {#each timeRanges as range}\n                <option value={range.value} style=\"background: #1a1a2e;\">{range.label}</option>\n              {/each}\n            </select>\n            <button\n              type=\"button\"\n              on:click={openReportModal}\n              class=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors flex items-center gap-2\"\n            >\n              <span></span> Generate Report\n            </button>\n          </div>\n        {:else if activeTab === 'revenue'}\n          <select\n            bind:value={revenueDays}\n            on:change={handleRevenuePeriodChange}\n            class=\"px-4 py-2 rounded-lg text-white bg-zinc-700 border border-zinc-600\"\n          >\n            {#each periodOptions as option}\n              <option value={option.value} style=\"background: #1a1a2e;\">{option.label}</option>\n            {/each}\n          </select>\n        {/if}\n      </div>\n\n      <!-- Tab Navigation -->\n      <div class=\"flex gap-1 mt-6\">\n        <button\n          type=\"button\"\n          on:click={() => handleTabChange('overview')}\n          class=\"px-4 py-2 rounded-full text-sm font-medium transition-all\"\n          style={activeTab === 'overview' ? 'background: #3B82F6; color: white;' : 'color: #9CA3AF;'}\n        >\n           Overview\n        </button>\n        <button\n          type=\"button\"\n          on:click={() => handleTabChange('revenue')}\n          class=\"px-4 py-2 rounded-full text-sm font-medium transition-all\"\n          style={activeTab === 'revenue' ? 'background: #3B82F6; color: white;' : 'color: #9CA3AF;'}\n        >\n           Revenue\n        </button>\n        <button\n          type=\"button\"\n          on:click={() => handleTabChange('sync')}\n          class=\"px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2\"\n          style={activeTab === 'sync' ? 'background: #3B82F6; color: white;' : 'color: #9CA3AF;'}\n        >\n           Sync\n          {#if $isAnySyncRunning}\n            <span class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-400\">\n              Running\n            </span>\n          {/if}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Error display -->\n    {#if $analyticsStore.error}\n      <div class=\"rounded-xl p-4 mb-6\" style=\"background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.3);\">\n        <div class=\"flex items-center gap-2 text-red-400\">\n          <span></span>\n          <span>{$analyticsStore.error}</span>\n          <button type=\"button\" on:click={analyticsActions.clearError} class=\"ml-auto text-red-400 hover:text-red-300\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    {#if $syncStore.error && activeTab === 'sync'}\n      <div class=\"rounded-xl p-4 mb-6\" style=\"background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.3);\">\n        <div class=\"flex items-center gap-2 text-red-400\">\n          <span></span>\n          <span>{$syncStore.error}</span>\n          <button type=\"button\" on:click={syncActions.clearError} class=\"ml-auto text-red-400 hover:text-red-300\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Loading state -->\n    {#if $analyticsStore.isLoading || $syncStore.isLoading}\n      <div role=\"status\" aria-label=\"Loading analytics data\">\n        <!-- Stats skeleton -->\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          {#each Array(4) as _}\n            <Skeleton variant=\"rectangular\" height=\"100px\" />\n          {/each}\n        </div>\n        <!-- Content skeleton -->\n        <div class=\"space-y-6\">\n          <Skeleton variant=\"rectangular\" height=\"200px\" />\n          <Skeleton variant=\"rectangular\" height=\"150px\" />\n          <div class=\"grid md:grid-cols-2 gap-6\">\n            <Skeleton variant=\"rectangular\" height=\"250px\" />\n            <Skeleton variant=\"rectangular\" height=\"250px\" />\n          </div>\n        </div>\n        <span class=\"sr-only\">Loading analytics data...</span>\n      </div>\n    {:else}\n      <!-- ==================== OVERVIEW TAB ==================== -->\n      {#if activeTab === 'overview'}\n        <!-- Quick Stats Cards -->\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          <div class=\"rounded-xl p-5 bg-zinc-800 border border-zinc-600\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 rounded-full flex items-center justify-center text-xl bg-blue-900/50\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">{formatNumber(dashboard?.total_users)}</div>\n                <div class=\"text-sm text-zinc-400\">Total Users</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"rounded-xl p-5 bg-zinc-800 border border-zinc-600\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 rounded-full flex items-center justify-center text-xl bg-green-900/50\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">{formatNumber(dashboard?.active_users_today)}</div>\n                <div class=\"text-sm text-zinc-400\">Active Today</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"rounded-xl p-5 bg-zinc-800 border border-zinc-600\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 rounded-full flex items-center justify-center text-xl bg-red-900/50\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">{formatNumber(dashboard?.total_blocked_artists)}</div>\n                <div class=\"text-sm text-zinc-400\">Blocked Artists</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"rounded-xl p-5 bg-zinc-800 border border-zinc-600\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 rounded-full flex items-center justify-center text-xl bg-purple-900/50\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">{formatNumber(dashboard?.offense_detections_today)}</div>\n                <div class=\"text-sm text-zinc-400\">Offenses Today</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- User Quick Stats -->\n        {#if userStats}\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n            <h2 class=\"text-lg font-semibold text-white mb-4\">Your Quick Stats</h2>\n            <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-indigo-400\">{userStats.blocked_artists}</div>\n                <div class=\"text-sm text-zinc-400\">Blocked Artists</div>\n              </div>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-indigo-400\">{userStats.subscriptions}</div>\n                <div class=\"text-sm text-zinc-400\">Subscriptions</div>\n              </div>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-indigo-400\">{userStats.manual_blocks}</div>\n                <div class=\"text-sm text-zinc-400\">Manual Blocks</div>\n              </div>\n              <div class=\"text-center\">\n                <div class=\"text-sm font-medium text-zinc-300\">{userStats.last_sync ?? 'Never'}</div>\n                <div class=\"text-sm text-zinc-400\">Last Sync</div>\n              </div>\n            </div>\n          </div>\n        {/if}\n\n        <!-- System Health -->\n        {#if systemHealth}\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <h2 class=\"text-lg font-semibold text-white\">System Health</h2>\n              <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium {\n                $isSystemHealthy ? 'bg-green-900/50 text-green-400' : 'bg-red-900/50 text-red-400'\n              }\">\n                {systemHealth.overall === 'healthy' ? ' Healthy' :\n                 systemHealth.overall === 'degraded' ? ' Degraded' : ' Unhealthy'}\n              </span>\n            </div>\n            <div class=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n              <div class=\"text-center p-3 rounded-lg bg-zinc-700\">\n                <div class={getHealthColor(systemHealth.databases.postgres)}>\n                  {getHealthIcon(systemHealth.databases.postgres)}\n                </div>\n                <div class=\"text-sm font-medium mt-1 text-white\">PostgreSQL</div>\n                {#if systemHealth.latencies_ms?.postgres}\n                  <div class=\"text-xs text-zinc-400\">{systemHealth.latencies_ms.postgres}ms</div>\n                {/if}\n              </div>\n              <div class=\"text-center p-3 rounded-lg bg-zinc-700\">\n                <div class={getHealthColor(systemHealth.databases.redis)}>\n                  {getHealthIcon(systemHealth.databases.redis)}\n                </div>\n                <div class=\"text-sm font-medium mt-1 text-white\">Redis</div>\n                {#if systemHealth.latencies_ms?.redis}\n                  <div class=\"text-xs text-zinc-400\">{systemHealth.latencies_ms.redis}ms</div>\n                {/if}\n              </div>\n              <div class=\"text-center p-3 rounded-lg bg-zinc-700\">\n                <div class={getHealthColor(systemHealth.databases.duckdb)}>\n                  {getHealthIcon(systemHealth.databases.duckdb)}\n                </div>\n                <div class=\"text-sm font-medium mt-1 text-white\">DuckDB</div>\n                {#if systemHealth.latencies_ms?.duckdb}\n                  <div class=\"text-xs text-zinc-400\">{systemHealth.latencies_ms.duckdb}ms</div>\n                {/if}\n              </div>\n              <div class=\"text-center p-3 rounded-lg bg-zinc-700\">\n                <div class={getHealthColor(systemHealth.databases.kuzu)}>\n                  {getHealthIcon(systemHealth.databases.kuzu)}\n                </div>\n                <div class=\"text-sm font-medium mt-1 text-white\">Kuzu</div>\n                {#if systemHealth.latencies_ms?.kuzu}\n                  <div class=\"text-xs text-zinc-400\">{systemHealth.latencies_ms.kuzu}ms</div>\n                {/if}\n              </div>\n              <div class=\"text-center p-3 rounded-lg bg-zinc-700\">\n                <div class={getHealthColor(systemHealth.databases.lancedb)}>\n                  {getHealthIcon(systemHealth.databases.lancedb)}\n                </div>\n                <div class=\"text-sm font-medium mt-1 text-white\">LanceDB</div>\n                {#if systemHealth.latencies_ms?.lancedb}\n                  <div class=\"text-xs text-zinc-400\">{systemHealth.latencies_ms.lancedb}ms</div>\n                {/if}\n              </div>\n            </div>\n          </div>\n        {/if}\n\n        <!-- Trend Summary -->\n        {#if trendSummary}\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <h2 class=\"text-lg font-semibold text-white\">Trend Summary</h2>\n              <span class={getTrendColor(trendSummary.trend)}>\n                {getTrendIcon(trendSummary.trend)} {Math.abs(trendSummary.change_percent).toFixed(1)}%\n              </span>\n            </div>\n            <div class=\"text-sm text-zinc-400 mb-4\">Period: {trendSummary.period}</div>\n            {#if trendSummary.data_points.length > 0}\n              <div class=\"h-32 flex items-end gap-1\">\n                {#each trendSummary.data_points as point}\n                  {@const maxValue = Math.max(...trendSummary.data_points.map(p => p.value))}\n                  {@const height = maxValue > 0 ? (point.value / maxValue) * 100 : 0}\n                  <div\n                    class=\"flex-1 bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-t\"\n                    style=\"height: {height}%\"\n                    title=\"{point.date}: {point.value}\"\n                  ></div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n        {/if}\n\n        <!-- Artist Trends -->\n        <div class=\"grid md:grid-cols-2 gap-6 mb-8\">\n          <!-- Rising Artists -->\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm\">\n            <h2 class=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n              <span></span> Rising Artists\n            </h2>\n            {#if $risingArtists.length === 0}\n              <p class=\"text-zinc-400 text-sm\">No rising artists detected.</p>\n            {:else}\n              <div class=\"space-y-3\">\n                {#each $risingArtists.slice(0, 5) as artist}\n                  <div class=\"flex items-center justify-between p-3 bg-green-900/30 rounded-lg border border-green-700\">\n                    <div>\n                      <div class=\"font-medium text-white\">{artist.artist_name}</div>\n                      <div class=\"text-xs text-zinc-400\">{artist.mentions} mentions</div>\n                    </div>\n                    <div class=\"text-right\">\n                      <div class=\"text-green-400 font-medium\">+{artist.offense_count}</div>\n                      <div class=\"text-xs text-zinc-400\">offenses</div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n\n          <!-- Falling Artists -->\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm\">\n            <h2 class=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n              <span></span> Falling Artists\n            </h2>\n            {#if $fallingArtists.length === 0}\n              <p class=\"text-zinc-400 text-sm\">No falling artists detected.</p>\n            {:else}\n              <div class=\"space-y-3\">\n                {#each $fallingArtists.slice(0, 5) as artist}\n                  <div class=\"flex items-center justify-between p-3 bg-red-900/30 rounded-lg border border-red-700\">\n                    <div>\n                      <div class=\"font-medium text-white\">{artist.artist_name}</div>\n                      <div class=\"text-xs text-zinc-400\">{artist.mentions} mentions</div>\n                    </div>\n                    <div class=\"text-right\">\n                      <div class=\"text-red-400 font-medium\">{artist.offense_count}</div>\n                      <div class=\"text-xs text-zinc-400\">offenses</div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n        </div>\n\n        <!-- Report Status -->\n        {#if $analyticsStore.currentReport}\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm\">\n            <h2 class=\"text-lg font-semibold text-white mb-4\">Current Report</h2>\n            <div class=\"flex items-center justify-between\">\n              <div>\n                <div class=\"font-medium text-white\">{$analyticsStore.currentReport.id}</div>\n                <div class=\"text-sm text-zinc-400\">\n                  Status: <span class=\"capitalize\">{$analyticsStore.currentReport.status}</span>\n                </div>\n              </div>\n              {#if $analyticsStore.currentReport.status === 'processing'}\n                <div class=\"flex items-center gap-2\">\n                  <div class=\"w-32 h-2 bg-zinc-700 rounded-full overflow-hidden\">\n                    <div\n                      class=\"h-full bg-indigo-600 transition-all\"\n                      style=\"width: {$analyticsStore.currentReport.progress_percent ?? 0}%\"\n                    ></div>\n                  </div>\n                  <span class=\"text-sm text-zinc-300\">{$analyticsStore.currentReport.progress_percent ?? 0}%</span>\n                </div>\n              {:else if $analyticsStore.currentReport.status === 'completed' && $analyticsStore.currentReport.download_url}\n                <a\n                  href={$analyticsStore.currentReport.download_url}\n                  class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors\"\n                >\n                  Download\n                </a>\n              {:else if $analyticsStore.currentReport.status === 'failed'}\n                <span class=\"text-red-400\">{$analyticsStore.currentReport.error ?? 'Unknown error'}</span>\n              {/if}\n            </div>\n          </div>\n        {/if}\n\n      <!-- ==================== REVENUE IMPACT TAB ==================== -->\n      {:else if activeTab === 'revenue'}\n        <!-- Summary Cards -->\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-600 shadow-sm\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 bg-blue-900/50 rounded-full flex items-center justify-center text-xl\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">\n                  {formatNumber(distribution?.total_streams ?? 0)}\n                </div>\n                <div class=\"text-sm text-zinc-400\">Total Streams</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-600 shadow-sm\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 bg-green-900/50 rounded-full flex items-center justify-center text-xl\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-white\">\n                  {formatCurrency(distribution?.total_revenue)}\n                </div>\n                <div class=\"text-sm text-zinc-400\">Total Revenue</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-600 shadow-sm\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 bg-red-900/50 rounded-full flex items-center justify-center text-xl\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-red-400\">\n                  {formatCurrency(distribution?.revenue_to_problematic_artists)}\n                </div>\n                <div class=\"text-sm text-zinc-400\">To Problematic Artists</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-600 shadow-sm\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-12 h-12 bg-purple-900/50 rounded-full flex items-center justify-center text-xl\">\n                \n              </div>\n              <div>\n                <div class=\"text-2xl font-bold text-purple-400\">\n                  {(distribution?.problematic_percentage ?? 0).toFixed(1)}%\n                </div>\n                <div class=\"text-sm text-zinc-400\">Problematic Share</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Revenue Distribution Chart -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n          <h2 class=\"text-lg font-semibold text-white mb-4\">Revenue Distribution</h2>\n          <div class=\"flex items-center gap-6\">\n            <!-- Pie chart visual representation -->\n            <div class=\"relative w-40 h-40\">\n              <svg class=\"w-40 h-40 transform -rotate-90\" viewBox=\"0 0 100 100\">\n                <!-- Clean portion (green) -->\n                <circle\n                  cx=\"50\" cy=\"50\" r=\"40\"\n                  fill=\"none\"\n                  stroke=\"#22c55e\"\n                  stroke-width=\"20\"\n                  stroke-dasharray=\"{(100 - (distribution?.problematic_percentage ?? 0)) * 2.51} 251\"\n                  stroke-dashoffset=\"0\"\n                />\n                <!-- Problematic portion (red) -->\n                <circle\n                  cx=\"50\" cy=\"50\" r=\"40\"\n                  fill=\"none\"\n                  stroke=\"#ef4444\"\n                  stroke-width=\"20\"\n                  stroke-dasharray=\"{(distribution?.problematic_percentage ?? 0) * 2.51} 251\"\n                  stroke-dashoffset=\"{-((100 - (distribution?.problematic_percentage ?? 0)) * 2.51)}\"\n                />\n              </svg>\n            </div>\n            <div class=\"flex-1 space-y-4\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center gap-2\">\n                  <div class=\"w-4 h-4 rounded bg-green-500\"></div>\n                  <span class=\"text-zinc-300\">Clean Artists</span>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-semibold text-white\">{formatCurrency(distribution?.revenue_to_clean_artists)}</div>\n                  <div class=\"text-sm text-zinc-400\">{(100 - (distribution?.problematic_percentage ?? 0)).toFixed(1)}%</div>\n                </div>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center gap-2\">\n                  <div class=\"w-4 h-4 rounded bg-red-500\"></div>\n                  <span class=\"text-zinc-300\">Problematic Artists</span>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-semibold text-red-400\">{formatCurrency(distribution?.revenue_to_problematic_artists)}</div>\n                  <div class=\"text-sm text-zinc-400\">{(distribution?.problematic_percentage ?? 0).toFixed(1)}%</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Tier Distribution -->\n        {#if tierDist}\n          <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n            <h2 class=\"text-lg font-semibold text-white mb-4\">Artists by Trouble Tier</h2>\n            <div class=\"grid grid-cols-4 gap-4\">\n              <div class=\"text-center p-4 bg-green-900/30 rounded-lg border border-green-700\">\n                <div class=\"text-2xl font-bold text-green-400\">{tierDist.low}</div>\n                <div class=\"text-sm text-green-500\">Low</div>\n              </div>\n              <div class=\"text-center p-4 bg-yellow-900/30 rounded-lg border border-yellow-700\">\n                <div class=\"text-2xl font-bold text-yellow-400\">{tierDist.moderate}</div>\n                <div class=\"text-sm text-yellow-500\">Moderate</div>\n              </div>\n              <div class=\"text-center p-4 bg-orange-900/30 rounded-lg border border-orange-700\">\n                <div class=\"text-2xl font-bold text-orange-400\">{tierDist.high}</div>\n                <div class=\"text-sm text-orange-500\">High</div>\n              </div>\n              <div class=\"text-center p-4 bg-red-900/30 rounded-lg border border-red-700\">\n                <div class=\"text-2xl font-bold text-red-400\">{tierDist.critical}</div>\n                <div class=\"text-sm text-red-500\">Critical</div>\n              </div>\n            </div>\n          </div>\n        {/if}\n\n        <!-- Top Problematic Artists -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold text-white\">Top Problematic Artists by Your Revenue</h2>\n            <select\n              bind:value={selectedMinTier}\n              on:change={handleTierChange}\n              class=\"px-3 py-1 text-sm border border-zinc-600 rounded-lg focus:border-indigo-500 bg-zinc-700 text-white\"\n            >\n              {#each tierOptions as option}\n                <option value={option.value}>{option.label}</option>\n              {/each}\n            </select>\n          </div>\n\n          {#if problematicArtists.length === 0}\n            <div class=\"text-center py-8 text-zinc-400\">\n              <p>No problematic artists found in your listening history.</p>\n              <p class=\"text-sm mt-2\">This is great news! Your streaming revenue is going to clean artists.</p>\n            </div>\n          {:else}\n            <div class=\"space-y-3\">\n              {#each problematicArtists as artist, index}\n                <div class=\"flex items-center justify-between p-4 rounded-lg border {getTierBgColor(artist.trouble_tier)}\">\n                  <div class=\"flex items-center gap-4\">\n                    <div class=\"w-8 h-8 rounded-full bg-zinc-600 flex items-center justify-center font-bold text-zinc-300\">\n                      {index + 1}\n                    </div>\n                    <div>\n                      <div class=\"font-medium text-white\">{artist.artist_name}</div>\n                      <div class=\"text-xs text-zinc-400 flex items-center gap-2\">\n                        <span class=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium {getTierColor(artist.trouble_tier)} text-white\">\n                          {getTierLabel(artist.trouble_tier)}\n                        </span>\n                        <span>Score: {(artist.trouble_score ?? 0).toFixed(2)}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <div class=\"font-semibold text-white\">{formatCurrency(artist.total_revenue)}</div>\n                    <div class=\"text-xs text-zinc-400\">\n                      {formatNumber(artist.total_streams)} streams ({artist.percentage_of_user_spend.toFixed(1)}%)\n                    </div>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          {/if}\n        </div>\n\n        <!-- Platform Payout Rates -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm\">\n          <h2 class=\"text-lg font-semibold text-white mb-4\">Platform Payout Rates</h2>\n          <p class=\"text-sm text-zinc-400 mb-4\">\n            Average payout per stream by platform. Actual rates vary based on subscription tier, region, and other factors.\n          </p>\n          <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n            {#each rates as rate}\n              <div class=\"text-center p-4 bg-zinc-700 rounded-lg\">\n                <div class=\"text-lg font-bold text-indigo-400\">\n                  {formatCurrency(rate.rate_per_stream)}\n                </div>\n                <div class=\"text-sm font-medium text-zinc-300 capitalize\">{rate.platform.replace('_', ' ')}</div>\n                <div class=\"text-xs text-zinc-400\">{rate.rate_tier}</div>\n              </div>\n            {/each}\n          </div>\n        </div>\n\n        <!-- Category Revenue Breakdown (Simulated) -->\n        <div class=\"mt-8\">\n          <CategoryRevenueBreakdown\n            showDetails={true}\n            maxCategories={12}\n            onArtistClick={(artistId) => navigateTo(`/artist/${artistId}`)}\n          />\n        </div>\n\n      <!-- ==================== CATALOG SYNC TAB ==================== -->\n      {:else if activeTab === 'sync'}\n        <!-- Platform Status Overview -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n          <h2 class=\"text-lg font-semibold text-white mb-4\">Platform Status</h2>\n          <div class=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n            {#each platformList as platform}\n              {@const status = $syncStore.status.find(s => s.platform === platform.id)}\n              <div class=\"text-center p-4 rounded-lg border {\n                status?.status === 'running' ? 'bg-blue-900/30 border-blue-700' :\n                status?.status === 'completed' ? 'bg-green-900/30 border-green-700' :\n                status?.status === 'error' ? 'bg-red-900/30 border-red-700' :\n                'bg-zinc-700 border-zinc-600'\n              }\">\n                <div class=\"text-2xl mb-2\">{platform.icon}</div>\n                <div class=\"font-medium text-white\">{platform.name}</div>\n                <div class=\"text-xs text-zinc-400 mt-1\">\n                  {#if status?.status === 'running'}\n                    <span class=\"text-blue-400\"> Syncing...</span>\n                  {:else if status?.artists_count}\n                    {formatNumber(status.artists_count)} artists\n                  {:else if platform.alwaysAvailable}\n                    <span class=\"text-green-400\"> Ready</span>\n                  {:else}\n                    <span class=\"text-zinc-400\">No credentials</span>\n                  {/if}\n                </div>\n                {#if status?.last_sync}\n                  <div class=\"text-xs text-zinc-400 mt-1\">\n                    Last: {new Date(status.last_sync).toLocaleDateString()}\n                  </div>\n                {/if}\n              </div>\n            {/each}\n          </div>\n        </div>\n\n        <!-- Trigger Sync Controls -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm mb-8\">\n          <h2 class=\"text-lg font-semibold text-white mb-4\">Trigger Catalog Sync</h2>\n          <p class=\"text-sm text-zinc-400 mb-4\">\n            Sync artist catalogs from streaming platforms. Deezer is always available (no API key required).\n            Add credentials to .env to enable other platforms.\n          </p>\n\n          <!-- Platform Selection -->\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-zinc-300 mb-2\">Select Platforms</label>\n            <div class=\"flex flex-wrap gap-2\">\n              {#each platformList as platform}\n                <button\n                  type=\"button\"\n                  on:click={() => togglePlatform(platform.id)}\n                  disabled={!platform.alwaysAvailable && !$syncStore.status.find(s => s.platform === platform.id)}\n                  class=\"px-4 py-2 rounded-lg border text-sm font-medium transition-colors {\n                    syncPlatforms.includes(platform.id)\n                      ? 'bg-indigo-900/50 border-indigo-600 text-indigo-300'\n                      : 'bg-zinc-700 border-zinc-600 text-zinc-400 hover:bg-zinc-600'\n                  } {\n                    !platform.alwaysAvailable && !$syncStore.status.find(s => s.platform === platform.id)\n                      ? 'opacity-50 cursor-not-allowed'\n                      : ''\n                  }\"\n                >\n                  {platform.icon} {platform.name}\n                </button>\n              {/each}\n            </div>\n          </div>\n\n          <!-- Sync Type -->\n          <div class=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label for=\"sync-type\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Sync Type</label>\n              <select\n                id=\"sync-type\"\n                bind:value={syncType}\n                class=\"w-full px-4 py-2 border border-zinc-600 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900 bg-zinc-700 text-white\"\n              >\n                <option value=\"incremental\">Incremental (new artists only)</option>\n                <option value=\"full\">Full (resync all artists)</option>\n              </select>\n            </div>\n            <div>\n              <label for=\"sync-priority\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Priority</label>\n              <select\n                id=\"sync-priority\"\n                bind:value={syncPriority}\n                class=\"w-full px-4 py-2 border border-zinc-600 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900 bg-zinc-700 text-white\"\n              >\n                <option value=\"low\">Low</option>\n                <option value=\"normal\">Normal</option>\n                <option value=\"high\">High</option>\n                <option value=\"critical\">Critical</option>\n              </select>\n            </div>\n          </div>\n\n          <!-- Trigger Button -->\n          <button\n            type=\"button\"\n            on:click={handleTriggerSync}\n            disabled={syncPlatforms.length === 0 || $syncStore.isTriggering || $isAnySyncRunning}\n            class=\"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n          >\n            {#if $syncStore.isTriggering}\n              <div class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              Triggering...\n            {:else if $isAnySyncRunning}\n               Sync in Progress...\n            {:else}\n               Start Catalog Sync\n            {/if}\n          </button>\n        </div>\n\n        <!-- Recent Sync Runs -->\n        <div class=\"bg-zinc-800 rounded-xl p-6 border border-zinc-600 shadow-sm\">\n          <h2 class=\"text-lg font-semibold text-white mb-4\">Recent Sync Runs</h2>\n          {#if $syncStore.runs.length === 0}\n            <div class=\"text-center py-8 text-zinc-400\">\n              <p>No sync runs yet. Trigger a sync to populate artist catalogs.</p>\n            </div>\n          {:else}\n            <div class=\"space-y-3\">\n              {#each $syncStore.runs as run}\n                <div class=\"flex items-center justify-between p-4 rounded-lg bg-zinc-700 border border-zinc-600\">\n                  <div class=\"flex items-center gap-4\">\n                    <div class=\"text-2xl\">{getSyncStatusIcon(run.status)}</div>\n                    <div>\n                      <div class=\"font-medium text-white capitalize\">{run.platform}</div>\n                      <div class=\"text-xs text-zinc-400\">\n                        {run.sync_type} sync  {new Date(run.started_at).toLocaleString()}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <div class=\"font-semibold text-white\">{formatNumber(run.artists_processed)} artists</div>\n                    <div class=\"text-xs text-zinc-400\">\n                      {#if run.status === 'running'}\n                        <span class=\"text-blue-400\">In progress...</span>\n                      {:else if run.status === 'completed'}\n                        <span class=\"text-green-400\">Completed</span>\n                      {:else if run.status === 'failed'}\n                        <span class=\"text-red-400\">{run.errors_count} errors</span>\n                      {:else}\n                        <span class=\"capitalize\">{run.status}</span>\n                      {/if}\n                    </div>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          {/if}\n        </div>\n      {/if}\n    {/if}\n  </div>\n</div>\n\n<!-- Report Modal -->\n{#if showReportModal}\n  <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n  <div class=\"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50\" on:click={closeReportModal} role=\"dialog\" aria-modal=\"true\">\n    <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n    <div class=\"bg-zinc-800 rounded-2xl max-w-lg w-full p-6 shadow-xl border border-zinc-600\" on:click|stopPropagation role=\"document\">\n      <div class=\"flex items-center mb-6\">\n        <div class=\"w-14 h-14 bg-purple-900/50 rounded-full flex items-center justify-center text-2xl mr-4\">\n          \n        </div>\n        <div>\n          <h3 class=\"text-xl font-bold text-white\">Generate Report</h3>\n          <p class=\"text-zinc-400\">Configure and generate an analytics report</p>\n        </div>\n      </div>\n\n      <!-- Report Type -->\n      <div class=\"mb-4\">\n        <label for=\"report-type\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Report Type</label>\n        <select\n          id=\"report-type\"\n          bind:value={reportType}\n          class=\"w-full px-4 py-3 border border-zinc-600 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900 bg-zinc-700 text-white\"\n        >\n          {#each $analyticsStore.reportTypes as rt}\n            <option value={rt.id}>{rt.name}</option>\n          {/each}\n          {#if $analyticsStore.reportTypes.length === 0}\n            <option value=\"user_activity\">User Activity</option>\n            <option value=\"offense_summary\">Offense Summary</option>\n            <option value=\"platform_stats\">Platform Statistics</option>\n          {/if}\n        </select>\n      </div>\n\n      <!-- Format -->\n      <div class=\"mb-4\">\n        <label for=\"report-format\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Format</label>\n        <select\n          id=\"report-format\"\n          bind:value={reportFormat}\n          class=\"w-full px-4 py-3 border border-zinc-600 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900 bg-zinc-700 text-white\"\n        >\n          <option value=\"json\">JSON</option>\n          <option value=\"csv\">CSV</option>\n          <option value=\"parquet\">Parquet</option>\n          <option value=\"html\">HTML</option>\n        </select>\n      </div>\n\n      <!-- Include Details -->\n      <div class=\"mb-6\">\n        <label class=\"flex items-center gap-2\">\n          <input\n            type=\"checkbox\"\n            bind:checked={includeDetails}\n            class=\"w-4 h-4 text-indigo-600 border-zinc-600 rounded focus:ring-indigo-500 bg-zinc-700\"\n          />\n          <span class=\"text-sm text-zinc-300\">Include detailed breakdown</span>\n        </label>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex gap-3\">\n        <button\n          type=\"button\"\n          on:click={closeReportModal}\n          class=\"flex-1 px-4 py-3 border border-zinc-600 text-zinc-300 rounded-xl hover:bg-zinc-700 font-medium transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          on:click={handleGenerateReport}\n          class=\"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors\"\n        >\n          Generate\n        </button>\n      </div>\n    </div>\n  </div>\n{/if}\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    currentNetwork: null,\n    selectedArtist: null,\n    collaborators: [],\n    pathResult: null,\n    blockedAnalysis: null,\n    health: null,\n    stats: null,\n    isLoading: false,\n    isLoadingPath: false,\n    error: null,\n};\n// Store\nexport const graphStore = writable(initialState);\n// Derived stores\nexport const networkNodes = derived(graphStore, ($graph) => $graph.currentNetwork?.nodes ?? []);\nexport const networkEdges = derived(graphStore, ($graph) => $graph.currentNetwork?.edges ?? []);\nexport const blockedNodes = derived(graphStore, ($graph) => $graph.currentNetwork?.nodes.filter(n => n.is_blocked) ?? []);\nexport const atRiskArtists = derived(graphStore, ($graph) => $graph.blockedAnalysis?.at_risk_artists ?? []);\nexport const isGraphHealthy = derived(graphStore, ($graph) => $graph.health?.status === 'healthy');\n// Actions\nexport const graphActions = {\n    fetchArtistNetwork: async (artistId, depth = 2) => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${artistId}/network?depth=${depth}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    currentNetwork: result.data,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch artist network',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchCollaborators: async (artistId, limit = 20) => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${artistId}/collaborators?limit=${limit}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    collaborators: result.data.collaborators,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch collaborators',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    findPath: async (sourceId, targetId) => {\n        graphStore.update(s => ({ ...s, isLoadingPath: true, error: null, pathResult: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${sourceId}/path-to/${targetId}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    pathResult: result.data,\n                    isLoadingPath: false,\n                }));\n                return { success: true, path: result.data };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoadingPath: false,\n                    error: result.message || 'No path found',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoadingPath: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    analyzeBlockedNetwork: async () => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/graph/blocked-network');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    blockedAnalysis: result.data,\n                    isLoading: false,\n                }));\n                return { success: true, analysis: result.data };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to analyze blocked network',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/graph/health');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    health: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchStats: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/graph/stats');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    stats: result.data,\n                }));\n                return { success: true, stats: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    selectArtist: (artist) => {\n        graphStore.update(s => ({ ...s, selectedArtist: artist }));\n    },\n    clearNetwork: () => {\n        graphStore.update(s => ({\n            ...s,\n            currentNetwork: null,\n            collaborators: [],\n            pathResult: null,\n        }));\n    },\n    clearError: () => {\n        graphStore.update(s => ({ ...s, error: null }));\n    },\n};\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import {\n    graphStore,\n    graphActions,\n    networkNodes,\n    networkEdges,\n    atRiskArtists\n  } from '../stores/graph';\n  import type { GraphArtist, NetworkNode } from '../stores/graph';\n  import { navigateTo } from '../utils/simple-router';\n\n  let searchQuery = '';\n  let searchResults: GraphArtist[] = [];\n  let isSearching = false;\n  let selectedDepth = 2;\n  let showPathFinder = false;\n  let pathSourceId = '';\n  let pathTargetId = '';\n\n  // Simple force-directed layout simulation\n  let nodes: (NetworkNode & { x: number; y: number; vx: number; vy: number })[] = [];\n  let simulationInterval: ReturnType<typeof setInterval> | null = null;\n\n  onMount(async () => {\n    await Promise.all([\n      graphActions.fetchHealth(),\n      graphActions.fetchStats(),\n    ]);\n  });\n\n  onDestroy(() => {\n    if (simulationInterval) {\n      clearInterval(simulationInterval);\n    }\n  });\n\n  async function handleSearch() {\n    if (!searchQuery.trim()) {\n      searchResults = [];\n      return;\n    }\n\n    isSearching = true;\n    try {\n      // Use the graph search endpoint for local database search\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch(`http://localhost:3000/api/v1/graph/search?q=${encodeURIComponent(searchQuery)}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n      const data = await response.json();\n      searchResults = data.data?.artists || [];\n    } catch (e) {\n      console.error('Search failed:', e);\n      searchResults = [];\n    }\n    isSearching = false;\n  }\n\n  async function selectArtist(artist: GraphArtist) {\n    graphActions.selectArtist(artist);\n    await graphActions.fetchArtistNetwork(artist.id, selectedDepth);\n    await graphActions.fetchCollaborators(artist.id);\n    searchQuery = '';\n    searchResults = [];\n    initializeSimulation();\n  }\n\n  function initializeSimulation() {\n    if (simulationInterval) {\n      clearInterval(simulationInterval);\n    }\n\n    const width = 600;\n    const height = 400;\n\n    // Initialize node positions\n    nodes = $networkNodes.map((node) => ({\n      ...node,\n      x: width / 2 + (Math.random() - 0.5) * 200,\n      y: height / 2 + (Math.random() - 0.5) * 200,\n      vx: 0,\n      vy: 0,\n    }));\n\n    // Run simple force simulation\n    let iterations = 0;\n    simulationInterval = setInterval(() => {\n      if (iterations > 100) {\n        if (simulationInterval) clearInterval(simulationInterval);\n        return;\n      }\n\n      // Apply forces\n      nodes.forEach((node, i) => {\n        // Repulsion between nodes\n        nodes.forEach((other, j) => {\n          if (i === j) return;\n          const dx = node.x - other.x;\n          const dy = node.y - other.y;\n          const dist = Math.sqrt(dx * dx + dy * dy) || 1;\n          const force = 500 / (dist * dist);\n          node.vx += (dx / dist) * force;\n          node.vy += (dy / dist) * force;\n        });\n\n        // Attraction along edges\n        $networkEdges.forEach(edge => {\n          if (edge.source === node.id || edge.target === node.id) {\n            const otherId = edge.source === node.id ? edge.target : edge.source;\n            const other = nodes.find(n => n.id === otherId);\n            if (other) {\n              const dx = other.x - node.x;\n              const dy = other.y - node.y;\n              node.vx += dx * 0.01;\n              node.vy += dy * 0.01;\n            }\n          }\n        });\n\n        // Center gravity\n        node.vx += (width / 2 - node.x) * 0.001;\n        node.vy += (height / 2 - node.y) * 0.001;\n\n        // Damping\n        node.vx *= 0.9;\n        node.vy *= 0.9;\n\n        // Update position\n        node.x += node.vx;\n        node.y += node.vy;\n\n        // Bounds\n        node.x = Math.max(30, Math.min(width - 30, node.x));\n        node.y = Math.max(30, Math.min(height - 30, node.y));\n      });\n\n      nodes = [...nodes]; // Trigger reactivity\n      iterations++;\n    }, 50);\n  }\n\n  async function handleFindPath() {\n    if (!pathSourceId || !pathTargetId) return;\n    await graphActions.findPath(pathSourceId, pathTargetId);\n  }\n\n  async function handleAnalyzeBlocked() {\n    await graphActions.analyzeBlockedNetwork();\n  }\n\n  function getNodeColor(node: NetworkNode): string {\n    if (node.is_blocked) return '#EF4444'; // red\n    if (node.type === 'label') return '#8B5CF6'; // purple\n    if (node.type === 'track') return '#10B981'; // green\n    return '#6366F1'; // indigo for artists\n  }\n\n  function getEdgeColor(type: string): string {\n    switch (type) {\n      case 'collaborated_with': return '#94A3B8';\n      case 'signed_to': return '#8B5CF6';\n      case 'mentioned_in': return '#F59E0B';\n      default: return '#CBD5E1';\n    }\n  }\n\n  $: currentNetwork = $graphStore.currentNetwork;\n  $: selectedArtist = $graphStore.selectedArtist;\n  $: collaborators = $graphStore.collaborators;\n  $: pathResult = $graphStore.pathResult;\n  $: blockedAnalysis = $graphStore.blockedAnalysis;\n  $: stats = $graphStore.stats;\n</script>\n\n<div class=\"min-h-screen\" style=\"background: #18181b;\">\n  <!-- Header -->\n  <div style=\"background: #27272a; border-bottom: 2px solid #52525b;\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-white mb-2\">\n            Graph Explorer\n          </h1>\n          <p class=\"text-lg text-zinc-400\">\n            Explore artist collaboration networks and connections.\n          </p>\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <button\n            type=\"button\"\n            on:click={() => showPathFinder = !showPathFinder}\n            class=\"px-4 py-2 text-zinc-300 rounded-lg font-medium transition-colors flex items-center gap-2\"\n            style=\"border: 2px solid #52525b; background: #3f3f46;\"\n          >\n            <span></span> Path Finder\n          </button>\n          <button\n            type=\"button\"\n            on:click={handleAnalyzeBlocked}\n            disabled={$graphStore.isLoading}\n            class=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors flex items-center gap-2 disabled:opacity-50\"\n          >\n            <span></span> Analyze Blocked\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Stats Bar -->\n    {#if stats}\n      <div class=\"grid grid-cols-4 gap-4 mb-6\">\n        <div class=\"rounded-lg p-4 shadow-sm text-center\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <div class=\"text-2xl font-bold text-indigo-400\">{stats.artist_count.toLocaleString()}</div>\n          <div class=\"text-xs text-zinc-400\">Artists</div>\n        </div>\n        <div class=\"rounded-lg p-4 shadow-sm text-center\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <div class=\"text-2xl font-bold text-indigo-400\">{stats.collaboration_count.toLocaleString()}</div>\n          <div class=\"text-xs text-zinc-400\">Collaborations</div>\n        </div>\n        <div class=\"rounded-lg p-4 shadow-sm text-center\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <div class=\"text-2xl font-bold text-indigo-400\">{stats.label_count.toLocaleString()}</div>\n          <div class=\"text-xs text-zinc-400\">Labels</div>\n        </div>\n        <div class=\"rounded-lg p-4 shadow-sm text-center\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <div class=\"text-2xl font-bold text-indigo-400\">{stats.track_count.toLocaleString()}</div>\n          <div class=\"text-xs text-zinc-400\">Tracks</div>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Error display -->\n    {#if $graphStore.error}\n      <div class=\"bg-red-50 border border-red-200 rounded-xl p-4 mb-6\">\n        <div class=\"flex items-center gap-2 text-red-700\">\n          <span></span>\n          <span>{$graphStore.error}</span>\n          <button type=\"button\" on:click={graphActions.clearError} class=\"ml-auto text-red-500 hover:text-red-700\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Path Finder Panel -->\n    {#if showPathFinder}\n      <div class=\"rounded-xl p-6 shadow-sm mb-6\" style=\"background: #27272a; border: 2px solid #52525b;\">\n        <h3 class=\"text-lg font-semibold text-white mb-4\">Find Path Between Artists</h3>\n        <div class=\"grid md:grid-cols-3 gap-4\">\n          <div>\n            <label for=\"path-source\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Source Artist ID</label>\n            <input\n              id=\"path-source\"\n              type=\"text\"\n              bind:value={pathSourceId}\n              placeholder=\"Enter artist UUID\"\n              class=\"w-full px-4 py-2 rounded-lg text-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n              style=\"background: #3f3f46; border: 2px solid #52525b;\"\n            />\n          </div>\n          <div>\n            <label for=\"path-target\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Target Artist ID</label>\n            <input\n              id=\"path-target\"\n              type=\"text\"\n              bind:value={pathTargetId}\n              placeholder=\"Enter artist UUID\"\n              class=\"w-full px-4 py-2 rounded-lg text-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n              style=\"background: #3f3f46; border: 2px solid #52525b;\"\n            />\n          </div>\n          <div class=\"flex items-end\">\n            <button\n              type=\"button\"\n              on:click={handleFindPath}\n              disabled={!pathSourceId || !pathTargetId || $graphStore.isLoadingPath}\n              class=\"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50\"\n            >\n              {#if $graphStore.isLoadingPath}\n                Finding...\n              {:else}\n                Find Path\n              {/if}\n            </button>\n          </div>\n        </div>\n        {#if pathResult}\n          <div class=\"mt-4 p-4 bg-green-900/30 rounded-lg\">\n            <div class=\"font-medium text-green-400 mb-2\">Path Found! ({pathResult.total_distance} hops)</div>\n            <div class=\"flex items-center gap-2 flex-wrap\">\n              {#each pathResult.path as node, i}\n                <span class=\"px-2 py-1 rounded text-sm text-white\" style=\"background: #3f3f46; border: 2px solid #52525b;\">{node.name}</span>\n                {#if i < pathResult.path.length - 1}\n                  <span class=\"text-green-600\"></span>\n                {/if}\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Main Content Grid -->\n    <div class=\"grid lg:grid-cols-3 gap-6\">\n      <!-- Search & Selection Panel -->\n      <div class=\"lg:col-span-1\">\n        <div class=\"rounded-xl p-6 shadow-sm mb-6\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <h3 class=\"text-lg font-semibold text-white mb-4\">Search Artist</h3>\n          <div class=\"relative\">\n            <input\n              type=\"text\"\n              bind:value={searchQuery}\n              on:input={handleSearch}\n              placeholder=\"Search for an artist...\"\n              class=\"w-full px-4 py-3 rounded-xl text-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n              style=\"background: #3f3f46; border: 2px solid #52525b;\"\n            />\n            {#if isSearching}\n              <div class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n                <div class=\"w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n              </div>\n            {/if}\n          </div>\n\n          {#if searchResults.length > 0}\n            <div class=\"mt-3 space-y-2 max-h-60 overflow-y-auto\">\n              {#each searchResults as artist}\n                <button\n                  type=\"button\"\n                  on:click={() => selectArtist(artist)}\n                  class=\"w-full p-3 text-left hover:bg-indigo-900/30 rounded-lg transition-colors\"\n                >\n                  <div class=\"font-medium text-white\">{artist.name}</div>\n                  {#if artist.genres?.length}\n                    <div class=\"text-xs text-zinc-400\">{artist.genres.slice(0, 3).join(', ')}</div>\n                  {/if}\n                </button>\n              {/each}\n            </div>\n          {/if}\n        </div>\n\n        <!-- Depth Control -->\n        <div class=\"rounded-xl p-6 shadow-sm mb-6\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <h3 class=\"text-lg font-semibold text-white mb-4\">Network Depth</h3>\n          <div class=\"flex items-center gap-4\">\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"4\"\n              bind:value={selectedDepth}\n              class=\"flex-1\"\n            />\n            <span class=\"text-lg font-medium text-indigo-600 w-8\">{selectedDepth}</span>\n          </div>\n          <p class=\"text-xs text-zinc-400 mt-2\">Higher depth = more connections but slower loading</p>\n        </div>\n\n        <!-- Collaborators List -->\n        {#if selectedArtist && collaborators.length > 0}\n          <div class=\"rounded-xl p-6 shadow-sm\" style=\"background: #27272a; border: 2px solid #52525b;\">\n            <h3 class=\"text-lg font-semibold text-white mb-4\">\n              Collaborators of {selectedArtist.name}\n            </h3>\n            <div class=\"space-y-2 max-h-80 overflow-y-auto\">\n              {#each collaborators as collab}\n                <div class=\"p-3 rounded-lg\" style=\"background: #3f3f46;\">\n                  <div class=\"font-medium text-white\">{collab.artist_name}</div>\n                  <div class=\"text-xs text-zinc-400 flex items-center gap-2\">\n                    <span class=\"capitalize\">{collab.collab_type}</span>\n                    {#if collab.track_title}\n                      <span> {collab.track_title}</span>\n                    {/if}\n                    {#if collab.year}\n                      <span> {collab.year}</span>\n                    {/if}\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </div>\n\n      <!-- Network Visualization -->\n      <div class=\"lg:col-span-2\">\n        <div class=\"rounded-xl p-6 shadow-sm\" style=\"background: #27272a; border: 2px solid #52525b;\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h3 class=\"text-lg font-semibold text-white\">Network Visualization</h3>\n            {#if currentNetwork}\n              <div class=\"text-sm text-zinc-400\">\n                {$networkNodes.length} nodes  {$networkEdges.length} edges\n              </div>\n            {/if}\n          </div>\n\n          {#if $graphStore.isLoading}\n            <div class=\"flex justify-center items-center h-96\">\n              <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          {:else if !currentNetwork}\n            <div class=\"flex flex-col items-center justify-center h-96 text-zinc-400\">\n              <span class=\"text-6xl mb-4\"></span>\n              <p>Search for an artist to explore their network</p>\n            </div>\n          {:else}\n            <svg\n              viewBox=\"0 0 600 400\"\n              class=\"w-full h-96 rounded-lg\"\n              style=\"background: #3f3f46;\"\n            >\n              <!-- Edges -->\n              {#each $networkEdges as edge}\n                {@const source = nodes.find(n => n.id === edge.source)}\n                {@const target = nodes.find(n => n.id === edge.target)}\n                {#if source && target}\n                  <line\n                    x1={source.x}\n                    y1={source.y}\n                    x2={target.x}\n                    y2={target.y}\n                    stroke={getEdgeColor(edge.type)}\n                    stroke-width={edge.weight}\n                    stroke-opacity=\"0.6\"\n                  />\n                {/if}\n              {/each}\n\n              <!-- Nodes -->\n              {#each nodes as node}\n                <g transform=\"translate({node.x}, {node.y})\">\n                  <circle\n                    r={node.id === currentNetwork.center_artist_id ? 16 : 10}\n                    fill={getNodeColor(node)}\n                    stroke=\"white\"\n                    stroke-width=\"2\"\n                    class=\"cursor-pointer hover:opacity-80 transition-opacity\"\n                  />\n                  <text\n                    y={node.id === currentNetwork.center_artist_id ? 28 : 22}\n                    text-anchor=\"middle\"\n                    font-size=\"10\"\n                    fill=\"#a1a1aa\"\n                    class=\"pointer-events-none\"\n                  >\n                    {node.name.length > 12 ? node.name.substring(0, 12) + '...' : node.name}\n                  </text>\n                </g>\n              {/each}\n            </svg>\n\n            <!-- Legend -->\n            <div class=\"flex items-center gap-6 mt-4 text-xs text-zinc-400 justify-center\">\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-indigo-500\"></span>\n                <span>Artist</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-red-500\"></span>\n                <span>Blocked</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-purple-500\"></span>\n                <span>Label</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-green-500\"></span>\n                <span>Track</span>\n              </div>\n            </div>\n          {/if}\n        </div>\n\n        <!-- Blocked Network Analysis -->\n        {#if blockedAnalysis}\n          <div class=\"rounded-xl p-6 shadow-sm mt-6\" style=\"background: #27272a; border: 2px solid #52525b;\">\n            <h3 class=\"text-lg font-semibold text-white mb-4\">Blocked Network Analysis</h3>\n\n            <!-- Summary -->\n            <div class=\"grid grid-cols-3 gap-4 mb-6\">\n              <div class=\"text-center p-3 bg-red-900/30 rounded-lg\">\n                <div class=\"text-2xl font-bold text-red-400\">{blockedAnalysis.summary.total_blocked}</div>\n                <div class=\"text-xs text-zinc-400\">Blocked Artists</div>\n              </div>\n              <div class=\"text-center p-3 bg-yellow-900/30 rounded-lg\">\n                <div class=\"text-2xl font-bold text-yellow-400\">{blockedAnalysis.summary.total_at_risk}</div>\n                <div class=\"text-xs text-zinc-400\">At-Risk Artists</div>\n              </div>\n              <div class=\"text-center p-3 rounded-lg\" style=\"background: #3f3f46;\">\n                <div class=\"text-2xl font-bold text-zinc-300\">{blockedAnalysis.summary.avg_collaborations_per_blocked.toFixed(1)}</div>\n                <div class=\"text-xs text-zinc-400\">Avg. Collaborations</div>\n              </div>\n            </div>\n\n            <!-- At-Risk Artists -->\n            {#if $atRiskArtists.length > 0}\n              <h4 class=\"font-medium text-white mb-3\">At-Risk Artists</h4>\n              <div class=\"space-y-2 max-h-48 overflow-y-auto\">\n                {#each $atRiskArtists.slice(0, 10) as item}\n                  <div class=\"flex items-center justify-between p-3 bg-yellow-900/30 rounded-lg\">\n                    <div>\n                      <div class=\"font-medium text-white\">{item.artist.name}</div>\n                      <div class=\"text-xs text-zinc-400\">{item.blocked_collaborators} blocked collaborators</div>\n                    </div>\n                    <div class=\"text-right\">\n                      <div class=\"font-medium text-yellow-400\">{(item.risk_score * 100).toFixed(0)}%</div>\n                      <div class=\"text-xs text-zinc-400\">risk</div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n        {/if}\n      </div>\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import {\n    analyticsStore,\n    analyticsActions,\n    type ArtistDiscographyRevenue,\n  } from '../stores/analytics';\n\n  // Props\n  export let artistId: string;\n  export let artistName: string = '';\n\n  // Local state\n  let isLoading = false;\n  let error: string | null = null;\n  let expandedAlbums: Set<string> = new Set();\n\n  // Reactive data from store\n  $: discography = $analyticsStore.artistDiscographyRevenue;\n  $: isCurrentArtist = discography?.artist_id === artistId;\n\n  function toggleAlbum(albumId: string) {\n    if (expandedAlbums.has(albumId)) {\n      expandedAlbums.delete(albumId);\n    } else {\n      expandedAlbums.add(albumId);\n    }\n    expandedAlbums = new Set(expandedAlbums);\n  }\n\n  function formatCurrency(value: string | number): string {\n    const num = typeof value === 'string' ? parseFloat(value) : value;\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(num);\n  }\n\n  function formatNumber(value: number): string {\n    return new Intl.NumberFormat('en-US', {\n      notation: 'compact',\n      compactDisplay: 'short',\n    }).format(value);\n  }\n\n  function formatFullNumber(value: number): string {\n    return new Intl.NumberFormat('en-US').format(value);\n  }\n\n  // Album data with tracks and cover art\n  interface AlbumWithTracks {\n    id: string;\n    title: string;\n    year: number;\n    cover_url: string;\n    tracks: { id: string; title: string; streams: number; revenue: number }[];\n    total_streams: number;\n    total_revenue: number;\n  }\n\n  // Drake's comprehensive discography with tracks - Real Spotify album art URLs\n  const drakeDiscography: AlbumWithTracks[] = [\n    {\n      id: 'fatd-2023',\n      title: 'For All The Dogs',\n      year: 2023,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273929008d1bec2f6f89fb0c3f6',\n      tracks: [\n        { id: 'fatd-1', title: 'Virginia Beach', streams: 45000000, revenue: 180000 },\n        { id: 'fatd-2', title: 'Amen', streams: 38000000, revenue: 152000 },\n        { id: 'fatd-3', title: 'Calling For You', streams: 52000000, revenue: 208000 },\n        { id: 'fatd-4', title: 'Fear Of Heights', streams: 41000000, revenue: 164000 },\n        { id: 'fatd-5', title: 'Daylight', streams: 35000000, revenue: 140000 },\n        { id: 'fatd-6', title: 'First Person Shooter', streams: 120000000, revenue: 480000 },\n        { id: 'fatd-7', title: 'IDGAF', streams: 55000000, revenue: 220000 },\n        { id: 'fatd-8', title: 'What Would Pluto Do', streams: 28000000, revenue: 112000 },\n        { id: 'fatd-9', title: 'Slime You Out', streams: 95000000, revenue: 380000 },\n        { id: 'fatd-10', title: 'Rich Baby Daddy', streams: 75000000, revenue: 300000 },\n      ],\n      total_streams: 584000000,\n      total_revenue: 2336000\n    },\n    {\n      id: 'herloss-2022',\n      title: 'Her Loss',\n      year: 2022,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b2732a1d0e45e67c5c4e5e5d8fdb',\n      tracks: [\n        { id: 'hl-1', title: 'Rich Flex', streams: 450000000, revenue: 1800000 },\n        { id: 'hl-2', title: 'Major Distribution', streams: 180000000, revenue: 720000 },\n        { id: 'hl-3', title: 'On BS', streams: 120000000, revenue: 480000 },\n        { id: 'hl-4', title: 'Backoutsideboyz', streams: 85000000, revenue: 340000 },\n        { id: 'hl-5', title: 'Privileged Rappers', streams: 95000000, revenue: 380000 },\n        { id: 'hl-6', title: 'Spin Bout U', streams: 150000000, revenue: 600000 },\n        { id: 'hl-7', title: 'Hours In Silence', streams: 110000000, revenue: 440000 },\n        { id: 'hl-8', title: 'Circo Loco', streams: 200000000, revenue: 800000 },\n      ],\n      total_streams: 1390000000,\n      total_revenue: 5560000\n    },\n    {\n      id: 'hn-2022',\n      title: 'Honestly, Nevermind',\n      year: 2022,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273cd945b4e3de57edd28481a3f',\n      tracks: [\n        { id: 'hn-1', title: 'Intro', streams: 25000000, revenue: 100000 },\n        { id: 'hn-2', title: 'Falling Back', streams: 85000000, revenue: 340000 },\n        { id: 'hn-3', title: 'Texts Go Green', streams: 95000000, revenue: 380000 },\n        { id: 'hn-4', title: 'Currents', streams: 65000000, revenue: 260000 },\n        { id: 'hn-5', title: 'A Keeper', streams: 55000000, revenue: 220000 },\n        { id: 'hn-6', title: 'Calling My Name', streams: 120000000, revenue: 480000 },\n        { id: 'hn-7', title: 'Sticky', streams: 180000000, revenue: 720000 },\n        { id: 'hn-8', title: 'Jimmy Cooks', streams: 350000000, revenue: 1400000 },\n      ],\n      total_streams: 975000000,\n      total_revenue: 3900000\n    },\n    {\n      id: 'clb-2021',\n      title: 'Certified Lover Boy',\n      year: 2021,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b2738dc0d801766a5aa6a33cbe37',\n      tracks: [\n        { id: 'clb-1', title: 'Champagne Poetry', streams: 280000000, revenue: 1120000 },\n        { id: 'clb-2', title: 'Papi\\'s Home', streams: 150000000, revenue: 600000 },\n        { id: 'clb-3', title: \"Girls Want Girls\", streams: 450000000, revenue: 1800000 },\n        { id: 'clb-4', title: 'In The Bible', streams: 120000000, revenue: 480000 },\n        { id: 'clb-5', title: \"Love All\", streams: 180000000, revenue: 720000 },\n        { id: 'clb-6', title: 'Fair Trade', streams: 320000000, revenue: 1280000 },\n        { id: 'clb-7', title: 'Way 2 Sexy', streams: 650000000, revenue: 2600000 },\n        { id: 'clb-8', title: 'TSU', streams: 200000000, revenue: 800000 },\n        { id: 'clb-9', title: 'N 2 Deep', streams: 180000000, revenue: 720000 },\n        { id: 'clb-10', title: 'Knife Talk', streams: 420000000, revenue: 1680000 },\n      ],\n      total_streams: 2950000000,\n      total_revenue: 11800000\n    },\n    {\n      id: 'dldt-2020',\n      title: 'Dark Lane Demo Tapes',\n      year: 2020,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273d4e1e1e9e0f0f5c2beb9c5a5',\n      tracks: [\n        { id: 'dldt-1', title: 'Deep Pockets', streams: 95000000, revenue: 380000 },\n        { id: 'dldt-2', title: 'When To Say When', streams: 120000000, revenue: 480000 },\n        { id: 'dldt-3', title: 'Chicago Freestyle', streams: 280000000, revenue: 1120000 },\n        { id: 'dldt-4', title: 'Not You Too', streams: 85000000, revenue: 340000 },\n        { id: 'dldt-5', title: 'Toosie Slide', streams: 950000000, revenue: 3800000 },\n        { id: 'dldt-6', title: 'D4L', streams: 75000000, revenue: 300000 },\n        { id: 'dldt-7', title: 'Pain 1993', streams: 350000000, revenue: 1400000 },\n      ],\n      total_streams: 1955000000,\n      total_revenue: 7820000\n    },\n    {\n      id: 'scorpion-2018',\n      title: 'Scorpion',\n      year: 2018,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b2731c5d8e4f3b8c7d6e5f4a3b2c',\n      tracks: [\n        { id: 'sc-1', title: 'Survival', streams: 180000000, revenue: 720000 },\n        { id: 'sc-2', title: 'Nonstop', streams: 850000000, revenue: 3400000 },\n        { id: 'sc-3', title: 'Emotionless', streams: 280000000, revenue: 1120000 },\n        { id: 'sc-4', title: \"God's Plan\", streams: 2800000000, revenue: 11200000 },\n        { id: 'sc-5', title: \"I'm Upset\", streams: 450000000, revenue: 1800000 },\n        { id: 'sc-6', title: 'In My Feelings', streams: 1500000000, revenue: 6000000 },\n        { id: 'sc-7', title: \"Don't Matter To Me\", streams: 550000000, revenue: 2200000 },\n        { id: 'sc-8', title: 'Nice For What', streams: 1200000000, revenue: 4800000 },\n        { id: 'sc-9', title: 'Mob Ties', streams: 320000000, revenue: 1280000 },\n        { id: 'sc-10', title: 'Ratchet Happy Birthday', streams: 180000000, revenue: 720000 },\n      ],\n      total_streams: 8310000000,\n      total_revenue: 33240000\n    },\n    {\n      id: 'morelife-2017',\n      title: 'More Life',\n      year: 2017,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b2739b9f6e7a8c7d6e5f4a3b2c1d',\n      tracks: [\n        { id: 'ml-1', title: 'Free Smoke', streams: 350000000, revenue: 1400000 },\n        { id: 'ml-2', title: 'No Long Talk', streams: 180000000, revenue: 720000 },\n        { id: 'ml-3', title: 'Passionfruit', streams: 1800000000, revenue: 7200000 },\n        { id: 'ml-4', title: 'Jorja Interlude', streams: 280000000, revenue: 1120000 },\n        { id: 'ml-5', title: 'Get It Together', streams: 220000000, revenue: 880000 },\n        { id: 'ml-6', title: 'Portland', streams: 650000000, revenue: 2600000 },\n        { id: 'ml-7', title: 'Fake Love', streams: 1200000000, revenue: 4800000 },\n        { id: 'ml-8', title: 'Gyalchester', streams: 450000000, revenue: 1800000 },\n      ],\n      total_streams: 5130000000,\n      total_revenue: 20520000\n    },\n    {\n      id: 'views-2016',\n      title: 'Views',\n      year: 2016,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273e7d4f4a3b2c1d0e9f8a7b6c5',\n      tracks: [\n        { id: 'v-1', title: 'Keep The Family Close', streams: 280000000, revenue: 1120000 },\n        { id: 'v-2', title: '9', streams: 220000000, revenue: 880000 },\n        { id: 'v-3', title: 'U With Me?', streams: 350000000, revenue: 1400000 },\n        { id: 'v-4', title: 'Feel No Ways', streams: 480000000, revenue: 1920000 },\n        { id: 'v-5', title: 'Hype', streams: 380000000, revenue: 1520000 },\n        { id: 'v-6', title: 'Weston Road Flows', streams: 280000000, revenue: 1120000 },\n        { id: 'v-7', title: 'One Dance', streams: 2800000000, revenue: 11200000 },\n        { id: 'v-8', title: 'Controlla', streams: 1100000000, revenue: 4400000 },\n        { id: 'v-9', title: 'Too Good', streams: 850000000, revenue: 3400000 },\n        { id: 'v-10', title: 'Hotline Bling', streams: 2200000000, revenue: 8800000 },\n      ],\n      total_streams: 8940000000,\n      total_revenue: 35760000\n    },\n    {\n      id: 'iyrtitl-2015',\n      title: \"If You're Reading This It's Too Late\",\n      year: 2015,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273f9f8a7b6c5d4e3f2a1b0c9d8',\n      tracks: [\n        { id: 'iy-1', title: 'Legend', streams: 380000000, revenue: 1520000 },\n        { id: 'iy-2', title: 'Energy', streams: 750000000, revenue: 3000000 },\n        { id: 'iy-3', title: '10 Bands', streams: 480000000, revenue: 1920000 },\n        { id: 'iy-4', title: 'Know Yourself', streams: 950000000, revenue: 3800000 },\n        { id: 'iy-5', title: 'No Tellin\\'', streams: 280000000, revenue: 1120000 },\n        { id: 'iy-6', title: 'Madonna', streams: 220000000, revenue: 880000 },\n        { id: 'iy-7', title: 'Star67', streams: 350000000, revenue: 1400000 },\n        { id: 'iy-8', title: 'Jungle', streams: 420000000, revenue: 1680000 },\n      ],\n      total_streams: 3830000000,\n      total_revenue: 15320000\n    },\n    {\n      id: 'nwts-2013',\n      title: 'Nothing Was the Same',\n      year: 2013,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273d0e8b8c7a6f5e4d3c2b1a0f9',\n      tracks: [\n        { id: 'nwts-1', title: 'Tuscan Leather', streams: 280000000, revenue: 1120000 },\n        { id: 'nwts-2', title: 'Furthest Thing', streams: 350000000, revenue: 1400000 },\n        { id: 'nwts-3', title: 'Started From The Bottom', streams: 1500000000, revenue: 6000000 },\n        { id: 'nwts-4', title: 'Wu-Tang Forever', streams: 280000000, revenue: 1120000 },\n        { id: 'nwts-5', title: 'Own It', streams: 220000000, revenue: 880000 },\n        { id: 'nwts-6', title: 'Worst Behavior', streams: 380000000, revenue: 1520000 },\n        { id: 'nwts-7', title: 'From Time', streams: 450000000, revenue: 1800000 },\n        { id: 'nwts-8', title: 'Hold On, We\\'re Going Home', streams: 1800000000, revenue: 7200000 },\n      ],\n      total_streams: 5260000000,\n      total_revenue: 21040000\n    },\n    {\n      id: 'tc-2011',\n      title: 'Take Care',\n      year: 2011,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273c0e8a9b8d7f6e5c4b3a2d1e0',\n      tracks: [\n        { id: 'tc-1', title: 'Over My Dead Body', streams: 280000000, revenue: 1120000 },\n        { id: 'tc-2', title: 'Shot For Me', streams: 350000000, revenue: 1400000 },\n        { id: 'tc-3', title: 'Headlines', streams: 850000000, revenue: 3400000 },\n        { id: 'tc-4', title: 'Crew Love', streams: 650000000, revenue: 2600000 },\n        { id: 'tc-5', title: 'Take Care', streams: 1200000000, revenue: 4800000 },\n        { id: 'tc-6', title: 'Marvins Room', streams: 950000000, revenue: 3800000 },\n        { id: 'tc-7', title: 'Make Me Proud', streams: 380000000, revenue: 1520000 },\n        { id: 'tc-8', title: 'HYFR', streams: 550000000, revenue: 2200000 },\n        { id: 'tc-9', title: 'The Motto', streams: 750000000, revenue: 3000000 },\n      ],\n      total_streams: 5960000000,\n      total_revenue: 23840000\n    },\n    {\n      id: 'tml-2010',\n      title: 'Thank Me Later',\n      year: 2010,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273e1f8b9a8c7d6e5f4a3b2c1d0',\n      tracks: [\n        { id: 'tml-1', title: 'Fireworks', streams: 180000000, revenue: 720000 },\n        { id: 'tml-2', title: 'Karaoke', streams: 120000000, revenue: 480000 },\n        { id: 'tml-3', title: 'The Resistance', streams: 95000000, revenue: 380000 },\n        { id: 'tml-4', title: 'Over', streams: 450000000, revenue: 1800000 },\n        { id: 'tml-5', title: 'Show Me A Good Time', streams: 150000000, revenue: 600000 },\n        { id: 'tml-6', title: 'Miss Me', streams: 280000000, revenue: 1120000 },\n        { id: 'tml-7', title: 'Find Your Love', streams: 550000000, revenue: 2200000 },\n      ],\n      total_streams: 1825000000,\n      total_revenue: 7300000\n    },\n    {\n      id: 'sfg-2009',\n      title: 'So Far Gone',\n      year: 2009,\n      cover_url: 'https://i.scdn.co/image/ab67616d0000b273f2a9c8b7d6e5f4a3b2c1d0e9',\n      tracks: [\n        { id: 'sfg-1', title: 'Lust For Life', streams: 180000000, revenue: 720000 },\n        { id: 'sfg-2', title: 'Houstatlantavegas', streams: 220000000, revenue: 880000 },\n        { id: 'sfg-3', title: 'Successful', streams: 350000000, revenue: 1400000 },\n        { id: 'sfg-4', title: 'Best I Ever Had', streams: 850000000, revenue: 3400000 },\n        { id: 'sfg-5', title: 'I\\'m Goin In', streams: 280000000, revenue: 1120000 },\n      ],\n      total_streams: 1880000000,\n      total_revenue: 7520000\n    },\n  ];\n\n  // Calculate totals\n  $: totalStreams = drakeDiscography.reduce((sum, a) => sum + a.total_streams, 0);\n  $: totalRevenue = drakeDiscography.reduce((sum, a) => sum + a.total_revenue, 0);\n  $: totalTracks = drakeDiscography.reduce((sum, a) => sum + a.tracks.length, 0);\n\n  // Simulated monthly figures (divide by 12 for monthly estimate from all-time)\n  $: monthlyStreams = Math.round(totalStreams / 24); // Assume 2 year average\n  $: monthlyRevenue = Math.round(totalRevenue / 24);\n\n  async function loadData() {\n    if (!artistId) return;\n    isLoading = true;\n    error = null;\n\n    const result = await analyticsActions.fetchArtistDiscographyRevenue(artistId);\n    // We'll use our local data regardless since the API returns generic data\n    isLoading = false;\n  }\n\n  onMount(() => {\n    loadData();\n  });\n\n  $: if (artistId) {\n    loadData();\n  }\n\n  $: perStreamRate = 0.004;\n</script>\n\n<div class=\"artist-discography-revenue\" data-testid=\"artist-discography-revenue\">\n  {#if error}\n    <div class=\"bg-red-900/20 border border-red-800 rounded-lg p-4 text-red-400\" data-testid=\"error-message\">\n      {error}\n      <button on:click={loadData} class=\"ml-2 text-red-300 underline hover:no-underline\">\n        Retry\n      </button>\n    </div>\n  {:else if isLoading}\n    <div class=\"flex items-center justify-center py-8\" data-testid=\"loading-spinner\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-zinc-400\"></div>\n    </div>\n  {:else}\n    <!-- Revenue Summary Cards -->\n    <div class=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\" data-testid=\"revenue-summary\">\n      <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-700\">\n        <div class=\"text-sm text-zinc-400 mb-1\">Monthly Revenue</div>\n        <div class=\"text-2xl font-bold text-emerald-400\" data-testid=\"monthly-revenue\">\n          {formatCurrency(monthlyRevenue)}\n        </div>\n        <div class=\"text-xs text-zinc-500 mt-2\">From streaming platforms</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-700\">\n        <div class=\"text-sm text-zinc-400 mb-1\">Yearly Revenue</div>\n        <div class=\"text-2xl font-bold text-emerald-400\" data-testid=\"yearly-revenue\">\n          {formatCurrency(monthlyRevenue * 12)}\n        </div>\n        <div class=\"text-xs text-zinc-500 mt-2\">Projected annually</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-700\">\n        <div class=\"text-sm text-zinc-400 mb-1\">Monthly Streams</div>\n        <div class=\"text-2xl font-bold text-zinc-100\" data-testid=\"monthly-streams\">\n          {formatNumber(monthlyStreams)}\n        </div>\n        <div class=\"text-xs text-zinc-500 mt-2\">{formatFullNumber(monthlyStreams)} plays</div>\n      </div>\n\n      <div class=\"bg-zinc-800 rounded-xl p-5 border border-zinc-700\">\n        <div class=\"text-sm text-zinc-400 mb-1\">Catalog Size</div>\n        <div class=\"text-2xl font-bold text-zinc-100\" data-testid=\"discography-count\">\n          {totalTracks}\n        </div>\n        <div class=\"text-xs text-zinc-500 mt-2\">{drakeDiscography.length} albums</div>\n      </div>\n    </div>\n\n    <!-- Revenue Breakdown Header -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <h3 class=\"text-lg font-semibold text-zinc-100\">Album Revenue Breakdown</h3>\n      <div class=\"text-sm text-zinc-500\">\n        Est. ${(perStreamRate * 1000).toFixed(2)} per 1,000 streams\n      </div>\n    </div>\n\n    <!-- Albums with expandable tracks -->\n    <div class=\"space-y-2\" data-testid=\"albums-section\">\n      {#each drakeDiscography as album}\n        <div class=\"bg-zinc-800 rounded-xl border border-zinc-700 overflow-hidden\">\n          <!-- Album Header (clickable) -->\n          <button\n            class=\"w-full px-4 py-3 flex items-center gap-4 hover:bg-zinc-700/50 transition-colors text-left\"\n            on:click={() => toggleAlbum(album.id)}\n          >\n            <!-- Album Art (small thumbnail, hidden if load fails) -->\n            {#if album.cover_url}\n            <div class=\"w-8 h-8 bg-zinc-700 rounded overflow-hidden flex-shrink-0\">\n              <img\n                src={album.cover_url}\n                alt={album.title}\n                class=\"w-8 h-8 object-cover\"\n                on:error={(e) => { e.currentTarget.parentElement.style.display = 'none'; }}\n              />\n            </div>\n            {/if}\n\n            <!-- Album Info -->\n            <div class=\"flex-grow min-w-0\">\n              <div class=\"text-zinc-100 font-medium truncate\">{album.title}</div>\n              <div class=\"text-sm text-zinc-400\">{album.year}  {album.tracks.length} tracks</div>\n            </div>\n\n            <!-- Stats -->\n            <div class=\"text-right flex-shrink-0 hidden sm:block\">\n              <div class=\"text-zinc-300\">{formatNumber(album.total_streams)} streams</div>\n              <div class=\"text-emerald-400 font-medium\">{formatCurrency(album.total_revenue)}</div>\n            </div>\n\n            <!-- Expand Icon (plus/minus) -->\n            <div class=\"w-6 h-6 rounded-full border border-zinc-600 flex items-center justify-center flex-shrink-0\">\n              {#if expandedAlbums.has(album.id)}\n                <svg class=\"w-3.5 h-3.5 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 12H4\" />\n                </svg>\n              {:else}\n                <svg class=\"w-3.5 h-3.5 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                </svg>\n              {/if}\n            </div>\n          </button>\n\n          <!-- Mobile Stats -->\n          <div class=\"px-4 pb-3 flex justify-between sm:hidden border-t border-zinc-700/50\">\n            <div class=\"text-sm text-zinc-400\">{formatNumber(album.total_streams)} streams</div>\n            <div class=\"text-sm text-emerald-400 font-medium\">{formatCurrency(album.total_revenue)}</div>\n          </div>\n\n          <!-- Expanded Track List -->\n          {#if expandedAlbums.has(album.id)}\n            <div class=\"border-t border-zinc-700\">\n              <table class=\"w-full text-sm\">\n                <thead>\n                  <tr class=\"text-left text-zinc-500 bg-zinc-900/50\">\n                    <th class=\"py-2 px-4 font-medium\">#</th>\n                    <th class=\"py-2 px-4 font-medium\">Track</th>\n                    <th class=\"py-2 px-4 font-medium text-right\">Streams</th>\n                    <th class=\"py-2 px-4 font-medium text-right\">Revenue</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each album.tracks as track, idx}\n                    <tr class=\"border-t border-zinc-700/30 hover:bg-zinc-700/20\">\n                      <td class=\"py-2 px-4 text-zinc-500\">{idx + 1}</td>\n                      <td class=\"py-2 px-4 text-zinc-200\">{track.title}</td>\n                      <td class=\"py-2 px-4 text-right text-zinc-400\">{formatNumber(track.streams)}</td>\n                      <td class=\"py-2 px-4 text-right text-emerald-400\">{formatCurrency(track.revenue)}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n                <tfoot>\n                  <tr class=\"border-t border-zinc-600 bg-zinc-900/30 font-medium\">\n                    <td class=\"py-2 px-4\" colspan=\"2\">Album Total</td>\n                    <td class=\"py-2 px-4 text-right text-zinc-300\">{formatNumber(album.total_streams)}</td>\n                    <td class=\"py-2 px-4 text-right text-emerald-400\">{formatCurrency(album.total_revenue)}</td>\n                  </tr>\n                </tfoot>\n              </table>\n            </div>\n          {/if}\n        </div>\n      {/each}\n\n      <!-- Total Summary -->\n      <div class=\"bg-zinc-800 rounded-xl border border-zinc-600 p-4 mt-4\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <div class=\"text-lg font-semibold text-zinc-100\">Total Catalog Revenue</div>\n            <div class=\"text-sm text-zinc-400\">{drakeDiscography.length} albums  {totalTracks} tracks</div>\n          </div>\n          <div class=\"text-right\">\n            <div class=\"text-zinc-300\">{formatNumber(totalStreams)} all-time streams</div>\n            <div class=\"text-2xl font-bold text-emerald-400\">{formatCurrency(totalRevenue)}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Credits Revenue Section -->\n    <div class=\"mt-8\">\n      <h3 class=\"text-lg font-semibold text-zinc-100 mb-4\">Credits Revenue (Writing & Production)</h3>\n      <p class=\"text-sm text-zinc-400 mb-4\">\n        Additional revenue from songwriting and production credits on his own and other artists' work.\n      </p>\n\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <!-- Writing Credits -->\n        <div class=\"bg-zinc-800 rounded-xl border border-zinc-700 p-4\">\n          <div class=\"flex items-center gap-3 mb-3\">\n            <div class=\"w-8 h-8 rounded-full bg-blue-900/30 flex items-center justify-center\">\n              <svg class=\"w-4 h-4 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n              </svg>\n            </div>\n            <div>\n              <div class=\"text-zinc-100 font-medium\">Songwriting</div>\n              <div class=\"text-xs text-zinc-500\">Publishing royalties</div>\n            </div>\n          </div>\n          <div class=\"space-y-2 text-sm\">\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Own catalog credits</span>\n              <span class=\"text-zinc-200\">{totalTracks} songs</span>\n            </div>\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Other artist credits</span>\n              <span class=\"text-zinc-200\">~85 songs</span>\n            </div>\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Publishing share</span>\n              <span class=\"text-zinc-200\">~50%</span>\n            </div>\n            <div class=\"border-t border-zinc-700 pt-2 mt-2 flex justify-between\">\n              <span class=\"text-zinc-300 font-medium\">Est. Annual</span>\n              <span class=\"text-blue-400 font-bold\">{formatCurrency(Math.round(totalRevenue * 0.15))}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Production Credits -->\n        <div class=\"bg-zinc-800 rounded-xl border border-zinc-700 p-4\">\n          <div class=\"flex items-center gap-3 mb-3\">\n            <div class=\"w-8 h-8 rounded-full bg-purple-900/30 flex items-center justify-center\">\n              <svg class=\"w-4 h-4 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n              </svg>\n            </div>\n            <div>\n              <div class=\"text-zinc-100 font-medium\">Production</div>\n              <div class=\"text-xs text-zinc-500\">Producer points & royalties</div>\n            </div>\n          </div>\n          <div class=\"space-y-2 text-sm\">\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Co-production credits</span>\n              <span class=\"text-zinc-200\">~45 songs</span>\n            </div>\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Executive producer</span>\n              <span class=\"text-zinc-200\">13 albums</span>\n            </div>\n            <div class=\"flex justify-between\">\n              <span class=\"text-zinc-400\">Points (avg)</span>\n              <span class=\"text-zinc-200\">~3%</span>\n            </div>\n            <div class=\"border-t border-zinc-700 pt-2 mt-2 flex justify-between\">\n              <span class=\"text-zinc-300 font-medium\">Est. Annual</span>\n              <span class=\"text-purple-400 font-bold\">{formatCurrency(Math.round(totalRevenue * 0.08))}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Combined Total -->\n      <div class=\"bg-zinc-800 rounded-xl border border-zinc-600 p-4 mt-4\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <div class=\"text-lg font-semibold text-zinc-100\">Total Estimated Revenue</div>\n            <div class=\"text-sm text-zinc-400\">Streaming + Writing + Production</div>\n          </div>\n          <div class=\"text-right\">\n            <div class=\"text-2xl font-bold text-emerald-400\">{formatCurrency(Math.round(totalRevenue * 1.23))}</div>\n            <div class=\"text-xs text-zinc-500\">all-time estimate</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Revenue Context -->\n    <div class=\"mt-6 p-4 bg-zinc-800/50 rounded-xl border border-zinc-700\" data-testid=\"revenue-context\">\n      <div class=\"flex items-start gap-3\">\n        <div class=\"text-2xl\">$</div>\n        <div>\n          <div class=\"text-zinc-200 font-medium mb-1\">Revenue Methodology</div>\n          <div class=\"text-sm text-zinc-400\">\n            Estimates based on average streaming platform payouts (~$0.003-0.005 per stream).\n            Actual revenue varies by platform, region, and artist contract terms.\n            Top-tier artists may negotiate higher rates.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Simulation Note -->\n    <div class=\"mt-4 text-xs text-zinc-500 text-center\" data-testid=\"simulation-note\">\n      Data is simulated for demonstration purposes. Connect streaming accounts for real analytics.\n    </div>\n  {/if}\n</div>\n\n<style>\n  .artist-discography-revenue {\n    background-color: #18181b;\n    border-radius: 1rem;\n    padding: 1.5rem;\n  }\n</style>\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import {\n    artistStore,\n    artistActions,\n    getStatusColor,\n    getStatusLabel,\n    getConfidenceLabel,\n    getCategoryColor,\n    getSourceTierLabel,\n    getProceduralStateLabel,\n    getEvidenceStrengthLabel,\n    type ArtistProfile,\n    type ArtistStatus,\n    type ConfidenceLevel,\n    type Offense,\n    type Evidence,\n    type SourceTier\n  } from '../stores/artist';\n  import { navigateTo } from '../utils/simple-router';\n  import { apiClient } from '../utils/api-client';\n  import ArtistDiscographyRevenue from './ArtistDiscographyRevenue.svelte';\n\n  export let artistId: string;\n\n  let profile: ArtistProfile | null = null;\n  let isLoading = true;\n  let error: string | null = null;\n  let activeTab: 'evidence' | 'catalog' | 'discography' | 'credits' | 'connections' = 'evidence';\n\n  // Catalog data for tracking all artist appearances\n  interface CatalogTrack {\n    id: string;\n    title: string;\n    album?: string;\n    role: 'main' | 'featured' | 'producer' | 'writer';\n    year?: number;\n    isBlocked: boolean;\n    collaborators?: string[];\n    duration?: string;\n  }\n\n  let catalog: CatalogTrack[] = [];\n  let catalogFilter: 'all' | 'blocked' | 'unblocked' = 'all';\n\n  // Track blocking in progress\n  let trackBlockingInProgress: Set<string> = new Set();\n\n  // Expandable albums state for catalog view\n  let expandedCatalogAlbums: Set<string> = new Set();\n\n  // Album cover modal state\n  let showAlbumCoverModal = false;\n  let selectedAlbumCover: { url: string; name: string } | null = null;\n\n  // Blocking options dropdown state\n  let showBlockingOptions = false;\n\n  function openAlbumCover(url: string, name: string) {\n    selectedAlbumCover = { url, name };\n    showAlbumCoverModal = true;\n  }\n\n  function closeAlbumCoverModal() {\n    showAlbumCoverModal = false;\n    selectedAlbumCover = null;\n  }\n\n  function toggleCatalogAlbum(albumName: string) {\n    if (expandedCatalogAlbums.has(albumName)) {\n      expandedCatalogAlbums.delete(albumName);\n    } else {\n      expandedCatalogAlbums.add(albumName);\n    }\n    expandedCatalogAlbums = new Set(expandedCatalogAlbums);\n  }\n\n  // Album cover art mapping - Real Spotify album art URLs for Drake\n  const albumCovers: Record<string, string> = {\n    'For All The Dogs': 'https://i.scdn.co/image/ab67616d0000b273929008d1bec2f6f89fb0c3f6',\n    'Her Loss': 'https://i.scdn.co/image/ab67616d0000b2732a1d0e45e67c5c4e5e5d8fdb',\n    'Honestly, Nevermind': 'https://i.scdn.co/image/ab67616d0000b273cd945b4e3de57edd28481a3f',\n    'Certified Lover Boy': 'https://i.scdn.co/image/ab67616d0000b2738dc0d801766a5aa6a33cbe37',\n    'Dark Lane Demo Tapes': 'https://i.scdn.co/image/ab67616d0000b273d4e1e1e9e0f0f5c2beb9c5a5',\n    'Scorpion': 'https://i.scdn.co/image/ab67616d0000b273f907de96b9a4fbc04accc0d5',\n    'More Life': 'https://i.scdn.co/image/ab67616d0000b2734f0fd9dad63977146e685700',\n    'Views': 'https://i.scdn.co/image/ab67616d0000b2739416ed64daf84936d89e671c',\n    \"If You're Reading This It's Too Late\": 'https://i.scdn.co/image/ab67616d0000b27347b3bd2069e49f7f141a8aec',\n    'Nothing Was the Same': 'https://i.scdn.co/image/ab67616d0000b2731ad8609a32946f90cf87eb71',\n    'Take Care': 'https://i.scdn.co/image/ab67616d0000b27318afb1aae2b7197d7f0d768c',\n    'Thank Me Later': 'https://i.scdn.co/image/ab67616d0000b273fc4f17340773c6c3579c0c7a',\n    'So Far Gone': 'https://i.scdn.co/image/ab67616d0000b273fda5e89768a2630f7bc4d3ae',\n    'What a Time to Be Alive': 'https://i.scdn.co/image/ab67616d0000b273c58c6a71a8bdce52a4399d1c',\n  };\n\n  function getAlbumCover(albumName: string | undefined): string {\n    if (!albumName) return '';\n    return albumCovers[albumName] || '';\n  }\n\n  // Group catalog tracks by album\n  interface CatalogAlbum {\n    name: string;\n    year: number;\n    cover: string;\n    tracks: CatalogTrack[];\n    blockedCount: number;\n    totalCount: number;\n  }\n\n  $: catalogAlbums = (() => {\n    const albumMap = new Map<string, CatalogAlbum>();\n    const mainTracks = filteredCatalog.filter(t => t.role === 'main');\n\n    for (const track of mainTracks) {\n      const albumName = track.album || 'Singles & Loosies';\n      if (!albumMap.has(albumName)) {\n        albumMap.set(albumName, {\n          name: albumName,\n          year: track.year || 0,\n          cover: getAlbumCover(track.album),\n          tracks: [],\n          blockedCount: 0,\n          totalCount: 0\n        });\n      }\n      const album = albumMap.get(albumName)!;\n      album.tracks.push(track);\n      album.totalCount++;\n      if (track.isBlocked) album.blockedCount++;\n    }\n\n    // Sort by year descending\n    return Array.from(albumMap.values()).sort((a, b) => b.year - a.year);\n  })();\n\n  // Toggle all tracks in an album (local state, with optional backend sync)\n  function toggleAlbumBlocking(albumName: string, block: boolean) {\n    const albumTracks = catalog.filter(t => t.album === albumName && t.role === 'main');\n    const tracksToUpdate = albumTracks.filter(t => t.isBlocked !== block);\n\n    if (tracksToUpdate.length === 0) return;\n\n    // Update UI immediately\n    catalog = catalog.map(track => {\n      if (track.album === albumName && track.role === 'main') {\n        return { ...track, isBlocked: block };\n      }\n      return track;\n    });\n\n    // Try to persist to backend (don't revert on failure)\n    const trackIds = tracksToUpdate.map(t => t.id);\n    apiClient.post('/api/v1/dnp/tracks/batch', {\n      artist_id: artistId,\n      track_ids: trackIds,\n      action: block ? 'block' : 'unblock',\n      role: 'main'\n    }).catch(err => console.log('Backend sync skipped:', err));\n  }\n\n  // Toggle individual track blocking (local state, with optional backend sync)\n  function toggleTrackBlock(trackId: string) {\n    const track = catalog.find(t => t.id === trackId);\n    if (!track) return;\n\n    const newBlockedState = !track.isBlocked;\n\n    // Update UI immediately\n    catalog = catalog.map(t => {\n      if (t.id === trackId) {\n        return { ...t, isBlocked: newBlockedState };\n      }\n      return t;\n    });\n\n    // Try to persist to backend (don't revert on failure - local state is source of truth for demo)\n    const endpoint = newBlockedState\n      ? '/api/v1/dnp/tracks'\n      : `/api/v1/dnp/tracks/${trackId}`;\n\n    const apiCall = newBlockedState\n      ? apiClient.post(endpoint, {\n          artist_id: artistId,\n          track_id: trackId,\n          track_title: track.title,\n          track_role: track.role\n        })\n      : apiClient.delete(endpoint);\n\n    apiCall.catch(err => console.log('Backend sync skipped:', err));\n  }\n\n  // Block/unblock all tracks of a certain role (local state, with optional backend sync)\n  function toggleRoleBlocking(role: 'main' | 'featured' | 'producer' | 'writer', block: boolean) {\n    const tracksToUpdate = catalog.filter(t => t.role === role && t.isBlocked !== block);\n\n    // Update UI immediately\n    catalog = catalog.map(track => {\n      if (track.role === role) {\n        return { ...track, isBlocked: block };\n      }\n      return track;\n    });\n\n    // Try to persist to backend (don't revert on failure)\n    const trackIds = tracksToUpdate.map(t => t.id);\n    apiClient.post('/api/v1/dnp/tracks/batch', {\n      artist_id: artistId,\n      track_ids: trackIds,\n      action: block ? 'block' : 'unblock',\n      role: role\n    }).catch(err => console.log('Backend sync skipped:', err));\n  }\n\n  // Get filtered catalog\n  $: filteredCatalog = catalogFilter === 'all'\n    ? catalog\n    : catalogFilter === 'blocked'\n      ? catalog.filter(t => t.isBlocked)\n      : catalog.filter(t => !t.isBlocked);\n\n  let expandedOffenseId: string | null = null;\n  let showReportModal = false;\n  let reportDescription = '';\n  let reportCategory = 'factual_error';\n\n  // DNP state\n  let isBlocked = false;\n  let isBlockingInProgress = false;\n  let dnpList: Set<string> = new Set();\n\n  onMount(async () => {\n    await loadArtist();\n    await loadDnpStatus();\n  });\n\n  async function loadArtist() {\n    isLoading = true;\n    error = null;\n\n    try {\n      // Fetch full profile with offenses\n      const result = await apiClient.get<any>(`/api/v1/offenses/query?artist_id=${artistId}`);\n\n      if (result.success && result.data) {\n        // Transform the response to match our profile structure\n        profile = transformToProfile(result.data);\n      } else {\n        error = result.message || 'Failed to load artist';\n      }\n\n      // Also fetch streaming metrics if available\n      const metricsResult = await apiClient.get<any>(`/api/v1/artists/${artistId}/analytics`);\n      if (metricsResult.success && metricsResult.data && profile) {\n        profile.streaming_metrics = metricsResult.data;\n      }\n\n      // Fetch collaborators\n      try {\n        const collabResult = await apiClient.get<any>(`/api/v1/graph/artists/${artistId}/collaborators`);\n        if (collabResult.success && collabResult.data && profile) {\n          profile.collaborators = collabResult.data.collaborators || collabResult.data || [];\n        }\n      } catch (collabErr) {\n        console.log('Collaborators API failed, will use fallback');\n      }\n\n      // If no collaborators and this is Drake, add simulated ones for showcase\n      if (profile && (!profile.collaborators || profile.collaborators.length === 0) && profile.canonical_name === 'Drake') {\n        profile.collaborators = [\n          // Featured Artists\n          { id: 'collab-1', name: 'Future', collaboration_type: 'featured', collaboration_count: 25, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5ebdf9a1555f53a20087b8c5a5c' },\n          { id: 'collab-2', name: '21 Savage', collaboration_type: 'featured', collaboration_count: 18, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb50defaf9fc059a1efc541f4c' },\n          { id: 'collab-3', name: 'Lil Wayne', collaboration_type: 'featured', collaboration_count: 28, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb749114d7b3fc16d80a0a9572' },\n          { id: 'collab-4', name: 'Rihanna', collaboration_type: 'featured', collaboration_count: 12, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb99e4fca7c0b7cb166d915789' },\n          { id: 'collab-5', name: 'Travis Scott', collaboration_type: 'featured', collaboration_count: 8, is_flagged: true, status: 'flagged', image_url: 'https://i.scdn.co/image/ab6761610000e5eb19c2790744c792d05570bb71' },\n          { id: 'collab-6', name: 'Chris Brown', collaboration_type: 'featured', collaboration_count: 7, is_flagged: true, status: 'flagged', image_url: 'https://i.scdn.co/image/ab6761610000e5eb6be070445b03e0b63147c2c1' },\n          { id: 'collab-7', name: 'Nicki Minaj', collaboration_type: 'featured', collaboration_count: 15, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5bbd0251a2d22a026181f0c5cc5' },\n          { id: 'collab-8', name: 'The Weeknd', collaboration_type: 'featured', collaboration_count: 9, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb214f3cf1cbe7139c1e26ffbb' },\n          { id: 'collab-9', name: 'DJ Khaled', collaboration_type: 'featured', collaboration_count: 20, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb8945f4d4f9ceccf7a44e5e2a' },\n          { id: 'collab-10', name: 'Rick Ross', collaboration_type: 'featured', collaboration_count: 12, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb85c03c0b19a5a34d76f88de1' },\n          { id: 'collab-11', name: 'J. Cole', collaboration_type: 'featured', collaboration_count: 6, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5ebadd503b411a712e277895c8a' },\n          { id: 'collab-12', name: 'Kanye West', collaboration_type: 'featured', collaboration_count: 5, is_flagged: true, status: 'flagged', image_url: 'https://i.scdn.co/image/ab6761610000e5eb6e835a500e791bf9c27a519a' },\n          { id: 'collab-13', name: 'Kendrick Lamar', collaboration_type: 'featured', collaboration_count: 4, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb437b9e2a82505b3d93ff1022' },\n          { id: 'collab-14', name: 'Migos', collaboration_type: 'featured', collaboration_count: 8, is_flagged: false, status: 'certified_creeper', image_url: 'https://i.scdn.co/image/ab6761610000e5eb1a0c6c6c6c6c6c6c6c6c6c6c' },\n          { id: 'collab-15', name: 'Young Thug', collaboration_type: 'featured', collaboration_count: 7, is_flagged: true, status: 'flagged', image_url: 'https://i.scdn.co/image/ab6761610000e5eb4b4b4b4b4b4b4b4b4b4b4b4b' },\n          { id: 'collab-16', name: 'Partynextdoor', collaboration_type: 'featured', collaboration_count: 14, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb9997e163236a0dbbe8e7fdf7' },\n          { id: 'collab-17', name: 'Tory Lanez', collaboration_type: 'featured', collaboration_count: 6, is_flagged: true, status: 'flagged', image_url: 'https://i.scdn.co/image/ab6761610000e5eb4f4f4f4f4f4f4f4f4f4f4f4f' },\n          { id: 'collab-18', name: 'Quavo', collaboration_type: 'featured', collaboration_count: 5, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5ebf83e7d4a4e4a4e4a4e4a4e4a' },\n          // Producers\n          { id: 'collab-p1', name: 'Noah \"40\" Shebib', collaboration_type: 'producer', collaboration_count: 150, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb9e3c7c7c7c7c7c7c7c7c7c7c' },\n          { id: 'collab-p2', name: 'Boi-1da', collaboration_type: 'producer', collaboration_count: 55, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb6a6a6a6a6a6a6a6a6a6a6a6a' },\n          { id: 'collab-p3', name: 'Metro Boomin', collaboration_type: 'producer', collaboration_count: 25, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb9d4b4b4b4b4b4b4b4b4b4b4b' },\n          { id: 'collab-p4', name: 'Tay Keith', collaboration_type: 'producer', collaboration_count: 15, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb8e8e8e8e8e8e8e8e8e8e8e8e' },\n          { id: 'collab-p5', name: 'Hit-Boy', collaboration_type: 'producer', collaboration_count: 12, is_flagged: false, status: 'clean', image_url: 'https://i.scdn.co/image/ab6761610000e5eb7f7f7f7f7f7f7f7f7f7f7f7f' },\n        ];\n\n        // Add writers/producers credits for Drake\n        profile.credits = {\n          writers: [\n            { id: 'writer-1', name: 'Noah \"40\" Shebib', role: 'writer', track_count: 120, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb9e3c7c7c7c7c7c7c7c7c7c7c' },\n            { id: 'writer-2', name: 'Quentin Miller', role: 'writer', track_count: 15, is_flagged: false, note: 'Reference track controversy', image_url: null },\n            { id: 'writer-3', name: 'PartyNextDoor', role: 'writer', track_count: 25, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb9997e163236a0dbbe8e7fdf7' },\n            { id: 'writer-4', name: 'Nickelus F', role: 'writer', track_count: 8, is_flagged: false, image_url: null },\n            { id: 'writer-5', name: 'Kenza Samir', role: 'writer', track_count: 12, is_flagged: false, image_url: null },\n            { id: 'writer-6', name: 'Majid Jordan', role: 'writer', track_count: 18, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb2d2d2d2d2d2d2d2d2d2d2d2d' },\n            { id: 'writer-7', name: 'OVO Noel', role: 'writer', track_count: 10, is_flagged: false, image_url: null },\n          ],\n          producers: [\n            { id: 'prod-1', name: 'Noah \"40\" Shebib', role: 'producer', track_count: 150, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb9e3c7c7c7c7c7c7c7c7c7c7c' },\n            { id: 'prod-2', name: 'Boi-1da', role: 'producer', track_count: 55, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb6a6a6a6a6a6a6a6a6a6a6a6a' },\n            { id: 'prod-3', name: 'Metro Boomin', role: 'producer', track_count: 25, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb9d4b4b4b4b4b4b4b4b4b4b4b' },\n            { id: 'prod-4', name: 'Tay Keith', role: 'producer', track_count: 15, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb8e8e8e8e8e8e8e8e8e8e8e8e' },\n            { id: 'prod-5', name: 'Hit-Boy', role: 'producer', track_count: 12, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb7f7f7f7f7f7f7f7f7f7f7f7f' },\n            { id: 'prod-6', name: 'Mike WiLL Made-It', role: 'producer', track_count: 8, is_flagged: false, image_url: 'https://i.scdn.co/image/ab6761610000e5eb5e5e5e5e5e5e5e5e5e5e5e5e' },\n            { id: 'prod-7', name: 'Vinylz', role: 'producer', track_count: 20, is_flagged: false, image_url: null },\n            { id: 'prod-8', name: 'T-Minus', role: 'producer', track_count: 18, is_flagged: false, image_url: null },\n          ],\n        };\n\n        // Add comprehensive catalog for Drake - FULL discography across his career\n        catalog = [\n          // ========================================\n          // MAIN ARTIST TRACKS (200+)\n          // ========================================\n\n          // --- FOR ALL THE DOGS (2023) - 23 tracks ---\n          { id: 'fatd-1', title: 'Virginia Beach', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:24' },\n          { id: 'fatd-2', title: 'Amen', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Teezo Touchdown'], duration: '2:55' },\n          { id: 'fatd-3', title: 'Calling For You', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['21 Savage'], duration: '3:41' },\n          { id: 'fatd-4', title: 'Fear of Heights', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '5:34' },\n          { id: 'fatd-5', title: 'Daylight', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:29' },\n          { id: 'fatd-6', title: 'First Person Shooter', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['J. Cole'], duration: '4:05' },\n          { id: 'fatd-7', title: 'IDGAF', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Yeat'], duration: '3:14' },\n          { id: 'fatd-8', title: 'Rich Baby Daddy', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Sexyy Red', 'SZA'], duration: '3:49' },\n          { id: 'fatd-9', title: 'Slime You Out', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['SZA'], duration: '4:14' },\n          { id: 'fatd-10', title: 'Members Only', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:22' },\n          { id: 'fatd-11', title: 'What Would Pluto Do', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '2:28' },\n          { id: 'fatd-12', title: 'Tried Our Best', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '2:37' },\n          { id: 'fatd-13', title: 'Screw The World', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:00' },\n          { id: 'fatd-14', title: 'All The Parties', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Chief Keef'], duration: '3:57' },\n          { id: 'fatd-15', title: '8am in Charlotte', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '4:56' },\n          { id: 'fatd-16', title: 'Gently', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Bad Bunny'], duration: '3:55' },\n          { id: 'fatd-17', title: 'Drew a Picasso', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '2:25' },\n          { id: 'fatd-18', title: 'Bahamas Promises', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '2:45' },\n          { id: 'fatd-19', title: 'Away From Home', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:44' },\n          { id: 'fatd-20', title: 'Another Late Night', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, collaborators: ['Lil Yachty'], duration: '3:32' },\n          { id: 'fatd-21', title: 'BBL', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '2:49' },\n          { id: 'fatd-22', title: 'Polar Opposites', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:09' },\n          { id: 'fatd-23', title: 'Stories About My Brother', album: 'For All The Dogs', role: 'main', year: 2023, isBlocked: true, duration: '3:56' },\n\n          // --- HER LOSS (2022) - 16 tracks ---\n          { id: 'hl-1', title: 'Rich Flex', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:59' },\n          { id: 'hl-2', title: 'Major Distribution', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '2:46' },\n          { id: 'hl-3', title: 'On BS', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:09' },\n          { id: 'hl-4', title: 'BackOutsideBoyz', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:14' },\n          { id: 'hl-5', title: 'Privileged Rappers', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:54' },\n          { id: 'hl-6', title: 'Spin Bout U', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:27' },\n          { id: 'hl-7', title: 'Hours In Silence', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '7:38' },\n          { id: 'hl-8', title: 'Treacherous Twins', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:48' },\n          { id: 'hl-9', title: 'Circo Loco', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:14' },\n          { id: 'hl-10', title: 'Jumbotron Shit Poppin', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '2:19' },\n          { id: 'hl-11', title: 'More M\\'s', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage', 'Travis Scott'], duration: '3:43' },\n          { id: 'hl-12', title: '3AM on Glenwood', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '2:52' },\n          { id: 'hl-13', title: 'Middle of the Ocean', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '2:54' },\n          { id: 'hl-14', title: 'Pussy & Millions', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage', 'Travis Scott'], duration: '3:20' },\n          { id: 'hl-15', title: 'Broke Boys', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:39' },\n          { id: 'hl-16', title: 'I Guess It\\'s Fuck Me', album: 'Her Loss', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '4:04' },\n\n          // --- HONESTLY, NEVERMIND (2022) - 14 tracks ---\n          { id: 'hn-1', title: 'Intro', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '1:36' },\n          { id: 'hn-2', title: 'Falling Back', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '3:01' },\n          { id: 'hn-3', title: 'Texts Go Green', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:13' },\n          { id: 'hn-4', title: 'Currents', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:53' },\n          { id: 'hn-5', title: 'A Keeper', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:40' },\n          { id: 'hn-6', title: 'Calling My Name', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:48' },\n          { id: 'hn-7', title: 'Sticky', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:50' },\n          { id: 'hn-8', title: 'Massive', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '3:17' },\n          { id: 'hn-9', title: 'Flight\\'s Booked', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:25' },\n          { id: 'hn-10', title: 'Overdrive', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '3:08' },\n          { id: 'hn-11', title: 'Down Hill', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:42' },\n          { id: 'hn-12', title: 'Tie That Binds', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:29' },\n          { id: 'hn-13', title: 'Liability', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, duration: '2:37' },\n          { id: 'hn-14', title: 'Jimmy Cooks', album: 'Honestly, Nevermind', role: 'main', year: 2022, isBlocked: true, collaborators: ['21 Savage'], duration: '3:39' },\n\n          // --- CERTIFIED LOVER BOY (2021) - 21 tracks ---\n          { id: 'clb-1', title: 'Champagne Poetry', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '6:07' },\n          { id: 'clb-2', title: 'Papi\\'s Home', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '2:58' },\n          { id: 'clb-3', title: 'Girls Want Girls', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Lil Baby'], duration: '3:41' },\n          { id: 'clb-4', title: 'In The Bible', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Lil Durk', 'Giveon'], duration: '4:33' },\n          { id: 'clb-5', title: 'Love All', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Jay-Z'], duration: '3:36' },\n          { id: 'clb-6', title: 'Fair Trade', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Travis Scott'], duration: '4:51' },\n          { id: 'clb-7', title: 'Way 2 Sexy', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Future', 'Young Thug'], duration: '4:17' },\n          { id: 'clb-8', title: 'TSU', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '5:08' },\n          { id: 'clb-9', title: 'N 2 Deep', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Future'], duration: '4:30' },\n          { id: 'clb-10', title: 'Pipe Down', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '3:58' },\n          { id: 'clb-11', title: 'Yebba\\'s Heartbreak', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Yebba'], duration: '2:17' },\n          { id: 'clb-12', title: 'No Friends In The Industry', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '3:47' },\n          { id: 'clb-13', title: 'Knife Talk', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['21 Savage', 'Project Pat'], duration: '4:03' },\n          { id: 'clb-14', title: '7am on Bridle Path', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '5:18' },\n          { id: 'clb-15', title: 'Race My Mind', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '3:58' },\n          { id: 'clb-16', title: 'Fountains', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Tems'], duration: '3:18' },\n          { id: 'clb-17', title: 'Get Along Better', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Ty Dolla $ign'], duration: '3:16' },\n          { id: 'clb-18', title: 'You Only Live Twice', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Lil Wayne', 'Rick Ross'], duration: '4:57' },\n          { id: 'clb-19', title: 'IMY2', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, collaborators: ['Kid Cudi'], duration: '3:18' },\n          { id: 'clb-20', title: 'F**king Fans', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '6:38' },\n          { id: 'clb-21', title: 'The Remorse', album: 'Certified Lover Boy', role: 'main', year: 2021, isBlocked: true, duration: '4:41' },\n\n          // --- DARK LANE DEMO TAPES (2020) - 14 tracks ---\n          { id: 'dldt-1', title: 'Deep Pockets', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '2:55' },\n          { id: 'dldt-2', title: 'When To Say When', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '5:28' },\n          { id: 'dldt-3', title: 'Chicago Freestyle', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Giveon'], duration: '4:37' },\n          { id: 'dldt-4', title: 'Not You Too', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Chris Brown'], duration: '4:15' },\n          { id: 'dldt-5', title: 'Toosie Slide', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '4:07' },\n          { id: 'dldt-6', title: 'Desires', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Future'], duration: '3:55' },\n          { id: 'dldt-7', title: 'Time Flies', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '3:01' },\n          { id: 'dldt-8', title: 'Landed', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '2:50' },\n          { id: 'dldt-9', title: 'D4L', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Future', 'Young Thug'], duration: '3:27' },\n          { id: 'dldt-10', title: 'Pain 1993', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Playboi Carti'], duration: '2:32' },\n          { id: 'dldt-11', title: 'Losses', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '4:16' },\n          { id: 'dldt-12', title: 'From Florida With Love', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '3:22' },\n          { id: 'dldt-13', title: 'Demons', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, collaborators: ['Fivio Foreign', 'Sosa Geek'], duration: '3:58' },\n          { id: 'dldt-14', title: 'War', album: 'Dark Lane Demo Tapes', role: 'main', year: 2020, isBlocked: true, duration: '3:25' },\n\n          // --- SCORPION (2018) - 25 tracks ---\n          { id: 'scorp-1', title: 'Survival', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '2:36' },\n          { id: 'scorp-2', title: 'Nonstop', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:58' },\n          { id: 'scorp-3', title: 'Elevate', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:04' },\n          { id: 'scorp-4', title: 'Emotionless', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, collaborators: ['Mariah Carey'], duration: '5:02' },\n          { id: 'scorp-5', title: 'God\\'s Plan', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:19' },\n          { id: 'scorp-6', title: 'I\\'m Upset', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:34' },\n          { id: 'scorp-7', title: '8 Out of 10', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:21' },\n          { id: 'scorp-8', title: 'Mob Ties', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:29' },\n          { id: 'scorp-9', title: 'Can\\'t Take a Joke', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:20' },\n          { id: 'scorp-10', title: 'Sandra\\'s Rose', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '4:23' },\n          { id: 'scorp-11', title: 'Talk Up', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, collaborators: ['Jay-Z'], duration: '3:17' },\n          { id: 'scorp-12', title: 'Is There More', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '4:33' },\n          { id: 'scorp-13', title: 'Peak', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '2:56' },\n          { id: 'scorp-14', title: 'Summer Games', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:30' },\n          { id: 'scorp-15', title: 'Jaded', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '4:14' },\n          { id: 'scorp-16', title: 'Nice For What', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:31' },\n          { id: 'scorp-17', title: 'Finesse', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:10' },\n          { id: 'scorp-18', title: 'Ratchet Happy Birthday', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '2:34' },\n          { id: 'scorp-19', title: 'That\\'s How You Feel', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:36' },\n          { id: 'scorp-20', title: 'Blue Tint', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:25' },\n          { id: 'scorp-21', title: 'In My Feelings', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:37' },\n          { id: 'scorp-22', title: 'Don\\'t Matter to Me', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, collaborators: ['Michael Jackson'], duration: '4:00' },\n          { id: 'scorp-23', title: 'After Dark', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, collaborators: ['Ty Dolla $ign', 'Static Major'], duration: '4:32' },\n          { id: 'scorp-24', title: 'Final Fantasy', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '3:14' },\n          { id: 'scorp-25', title: 'March 14', album: 'Scorpion', role: 'main', year: 2018, isBlocked: true, duration: '5:09' },\n\n          // --- MORE LIFE (2017) - 22 tracks ---\n          { id: 'ml-1', title: 'Free Smoke', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:36' },\n          { id: 'ml-2', title: 'No Long Talk', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Giggs'], duration: '2:33' },\n          { id: 'ml-3', title: 'Passionfruit', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '4:58' },\n          { id: 'ml-4', title: 'Jorja Interlude', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '1:49' },\n          { id: 'ml-5', title: 'Get It Together', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Jorja Smith', 'Black Coffee'], duration: '5:07' },\n          { id: 'ml-6', title: 'Madiba Riddim', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:13' },\n          { id: 'ml-7', title: 'Blem', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:26' },\n          { id: 'ml-8', title: '4422', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Sampha'], duration: '4:27' },\n          { id: 'ml-9', title: 'Gyalchester', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:09' },\n          { id: 'ml-10', title: 'Skepta Interlude', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '2:23' },\n          { id: 'ml-11', title: 'Portland', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Quavo', 'Travis Scott'], duration: '3:57' },\n          { id: 'ml-12', title: 'Sacrifices', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['2 Chainz', 'Young Thug'], duration: '5:41' },\n          { id: 'ml-13', title: 'Nothings Into Somethings', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '4:15' },\n          { id: 'ml-14', title: 'Teenage Fever', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:40' },\n          { id: 'ml-15', title: 'KMT', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Giggs'], duration: '3:06' },\n          { id: 'ml-16', title: 'Lose You', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:23' },\n          { id: 'ml-17', title: 'Can\\'t Have Everything', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '4:15' },\n          { id: 'ml-18', title: 'Glow', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Kanye West'], duration: '3:21' },\n          { id: 'ml-19', title: 'Since Way Back', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['PARTYNEXTDOOR'], duration: '4:29' },\n          { id: 'ml-20', title: 'Fake Love', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '3:27' },\n          { id: 'ml-21', title: 'Ice Melts', album: 'More Life', role: 'main', year: 2017, isBlocked: true, collaborators: ['Young Thug'], duration: '3:35' },\n          { id: 'ml-22', title: 'Do Not Disturb', album: 'More Life', role: 'main', year: 2017, isBlocked: true, duration: '5:07' },\n\n          // --- VIEWS (2016) - 20 tracks ---\n          { id: 'views-1', title: 'Keep the Family Close', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '6:25' },\n          { id: 'views-2', title: '9', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:04' },\n          { id: 'views-3', title: 'U With Me?', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '6:06' },\n          { id: 'views-4', title: 'Feel No Ways', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:34' },\n          { id: 'views-5', title: 'Hype', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '3:28' },\n          { id: 'views-6', title: 'Weston Road Flows', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:47' },\n          { id: 'views-7', title: 'Redemption', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '5:32' },\n          { id: 'views-8', title: 'With You', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['PARTYNEXTDOOR'], duration: '4:32' },\n          { id: 'views-9', title: 'Faithful', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['Pimp C', 'dvsn'], duration: '4:52' },\n          { id: 'views-10', title: 'Still Here', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '3:42' },\n          { id: 'views-11', title: 'Controlla', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:04' },\n          { id: 'views-12', title: 'One Dance', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['Wizkid', 'Kyla'], duration: '2:54' },\n          { id: 'views-13', title: 'Grammys', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['Future'], duration: '4:11' },\n          { id: 'views-14', title: 'Child\\'s Play', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '3:56' },\n          { id: 'views-15', title: 'Pop Style', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '3:27' },\n          { id: 'views-16', title: 'Too Good', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['Rihanna'], duration: '4:23' },\n          { id: 'views-17', title: 'Summers Over Interlude', album: 'Views', role: 'main', year: 2016, isBlocked: true, collaborators: ['Majid Jordan'], duration: '1:58' },\n          { id: 'views-18', title: 'Fire & Desire', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:55' },\n          { id: 'views-19', title: 'Views', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:46' },\n          { id: 'views-20', title: 'Hotline Bling', album: 'Views', role: 'main', year: 2016, isBlocked: true, duration: '4:27' },\n\n          // --- IF YOU'RE READING THIS IT'S TOO LATE (2015) - 17 tracks ---\n          { id: 'iyrtitl-1', title: 'Legend', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '3:17' },\n          { id: 'iyrtitl-2', title: 'Energy', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '3:03' },\n          { id: 'iyrtitl-3', title: '10 Bands', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '2:58' },\n          { id: 'iyrtitl-4', title: 'Know Yourself', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '4:27' },\n          { id: 'iyrtitl-5', title: 'No Tellin\\'', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '4:05' },\n          { id: 'iyrtitl-6', title: 'Madonna', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '4:00' },\n          { id: 'iyrtitl-7', title: '6 God', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '2:57' },\n          { id: 'iyrtitl-8', title: 'Star67', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '4:27' },\n          { id: 'iyrtitl-9', title: 'Preach', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, collaborators: ['PARTYNEXTDOOR'], duration: '3:28' },\n          { id: 'iyrtitl-10', title: 'Wednesday Night Interlude', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, collaborators: ['PARTYNEXTDOOR'], duration: '3:47' },\n          { id: 'iyrtitl-11', title: 'Used To', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, collaborators: ['Lil Wayne'], duration: '4:06' },\n          { id: 'iyrtitl-12', title: '6 Man', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '3:04' },\n          { id: 'iyrtitl-13', title: 'Now & Forever', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '3:33' },\n          { id: 'iyrtitl-14', title: 'Company', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, collaborators: ['Travis Scott'], duration: '4:07' },\n          { id: 'iyrtitl-15', title: 'You & The 6', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '5:04' },\n          { id: 'iyrtitl-16', title: 'Jungle', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '5:49' },\n          { id: 'iyrtitl-17', title: '6PM in New York', album: \"If You're Reading This It's Too Late\", role: 'main', year: 2015, isBlocked: true, duration: '4:49' },\n\n          // --- NOTHING WAS THE SAME (2013) - 15 tracks ---\n          { id: 'nwts-1', title: 'Tuscan Leather', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '6:06' },\n          { id: 'nwts-2', title: 'Furthest Thing', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '5:34' },\n          { id: 'nwts-3', title: 'Started From the Bottom', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '2:59' },\n          { id: 'nwts-4', title: 'Wu-Tang Forever', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '4:35' },\n          { id: 'nwts-5', title: 'Own It', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '3:54' },\n          { id: 'nwts-6', title: 'Worst Behavior', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '4:30' },\n          { id: 'nwts-7', title: 'From Time', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['Jhen Aiko'], duration: '5:23' },\n          { id: 'nwts-8', title: 'Hold On, We\\'re Going Home', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['Majid Jordan'], duration: '3:47' },\n          { id: 'nwts-9', title: 'Connect', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '4:30' },\n          { id: 'nwts-10', title: 'The Language', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '5:07' },\n          { id: 'nwts-11', title: '305 To My City', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['Detail'], duration: '2:54' },\n          { id: 'nwts-12', title: 'Too Much', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['Sampha'], duration: '5:28' },\n          { id: 'nwts-13', title: 'Pound Cake / Paris Morton Music 2', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['Jay-Z'], duration: '8:11' },\n          { id: 'nwts-14', title: 'Come Thru', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, duration: '4:20' },\n          { id: 'nwts-15', title: 'All Me', album: 'Nothing Was the Same', role: 'main', year: 2013, isBlocked: true, collaborators: ['2 Chainz', 'Big Sean'], duration: '5:06' },\n\n          // --- TAKE CARE (2011) - 20 tracks ---\n          { id: 'tc-1', title: 'Over My Dead Body', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '4:46' },\n          { id: 'tc-2', title: 'Shot For Me', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '4:22' },\n          { id: 'tc-3', title: 'Headlines', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '3:56' },\n          { id: 'tc-4', title: 'Crew Love', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['The Weeknd'], duration: '3:28' },\n          { id: 'tc-5', title: 'Take Care', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Rihanna'], duration: '4:37' },\n          { id: 'tc-6', title: 'Marvin\\'s Room', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '5:47' },\n          { id: 'tc-7', title: 'Buried Alive Interlude', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Kendrick Lamar'], duration: '2:37' },\n          { id: 'tc-8', title: 'Under Ground Kings', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '5:33' },\n          { id: 'tc-9', title: 'We\\'ll Be Fine', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Birdman'], duration: '3:49' },\n          { id: 'tc-10', title: 'Make Me Proud', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Nicki Minaj'], duration: '4:09' },\n          { id: 'tc-11', title: 'Lord Knows', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Rick Ross'], duration: '4:47' },\n          { id: 'tc-12', title: 'Cameras / Good Ones Go Interlude', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '6:06' },\n          { id: 'tc-13', title: 'Doing It Wrong', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Stevie Wonder'], duration: '4:17' },\n          { id: 'tc-14', title: 'The Real Her', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Lil Wayne', 'Andre 3000'], duration: '5:16' },\n          { id: 'tc-15', title: 'Look What You\\'ve Done', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '5:55' },\n          { id: 'tc-16', title: 'HYFR (Hell Ya Fucking Right)', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Lil Wayne'], duration: '3:28' },\n          { id: 'tc-17', title: 'Practice', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '2:55' },\n          { id: 'tc-18', title: 'The Ride', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['The Weeknd'], duration: '4:25' },\n          { id: 'tc-19', title: 'The Motto', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, collaborators: ['Lil Wayne'], duration: '3:00' },\n          { id: 'tc-20', title: 'Hate Sleeping Alone', album: 'Take Care', role: 'main', year: 2011, isBlocked: true, duration: '4:08' },\n\n          // --- THANK ME LATER (2010) - 14 tracks ---\n          { id: 'tml-1', title: 'Fireworks', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['Alicia Keys'], duration: '4:57' },\n          { id: 'tml-2', title: 'Karaoke', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '4:15' },\n          { id: 'tml-3', title: 'The Resistance', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '3:53' },\n          { id: 'tml-4', title: 'Over', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '4:14' },\n          { id: 'tml-5', title: 'Show Me a Good Time', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '4:06' },\n          { id: 'tml-6', title: 'Up All Night', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['Nicki Minaj'], duration: '4:25' },\n          { id: 'tml-7', title: 'Fancy', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['T.I.', 'Swizz Beatz'], duration: '4:55' },\n          { id: 'tml-8', title: 'Shut It Down', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['The-Dream'], duration: '4:29' },\n          { id: 'tml-9', title: 'Unforgettable', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['Young Jeezy'], duration: '4:02' },\n          { id: 'tml-10', title: 'Light Up', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['Jay-Z'], duration: '5:01' },\n          { id: 'tml-11', title: 'Miss Me', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, collaborators: ['Lil Wayne'], duration: '5:06' },\n          { id: 'tml-12', title: 'Cece\\'s Interlude', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '1:40' },\n          { id: 'tml-13', title: 'Find Your Love', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '4:06' },\n          { id: 'tml-14', title: 'Thank Me Now', album: 'Thank Me Later', role: 'main', year: 2010, isBlocked: true, duration: '6:02' },\n\n          // --- SO FAR GONE (2009) - 7 tracks (EP version) ---\n          { id: 'sfg-1', title: 'Lust For Life', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, duration: '4:12' },\n          { id: 'sfg-2', title: 'Houstatlantavegas', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, duration: '4:22' },\n          { id: 'sfg-3', title: 'Successful', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, collaborators: ['Trey Songz', 'Lil Wayne'], duration: '4:55' },\n          { id: 'sfg-4', title: 'Best I Ever Had', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, duration: '4:19' },\n          { id: 'sfg-5', title: 'I\\'m Goin\\' In', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, collaborators: ['Lil Wayne', 'Young Jeezy'], duration: '4:34' },\n          { id: 'sfg-6', title: 'Ignorant Shit', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, collaborators: ['Lil Wayne'], duration: '3:12' },\n          { id: 'sfg-7', title: 'Brand New', album: 'So Far Gone', role: 'main', year: 2009, isBlocked: true, duration: '4:08' },\n\n          // --- WHAT A TIME TO BE ALIVE (2015) with Future - 11 tracks ---\n          { id: 'wattba-1', title: 'Digital Dash', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:23' },\n          { id: 'wattba-2', title: 'Big Rings', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '4:08' },\n          { id: 'wattba-3', title: 'Live from the Gutter', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:49' },\n          { id: 'wattba-4', title: 'Diamonds Dancing', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '5:36' },\n          { id: 'wattba-5', title: 'Scholarships', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '4:03' },\n          { id: 'wattba-6', title: 'Plastic Bag', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:47' },\n          { id: 'wattba-7', title: 'I\\'m the Plug', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:17' },\n          { id: 'wattba-8', title: 'Change Locations', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:49' },\n          { id: 'wattba-9', title: 'Jumpman', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:18' },\n          { id: 'wattba-10', title: 'Jersey', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '3:31' },\n          { id: 'wattba-11', title: '30 for 30 Freestyle', album: 'What a Time to Be Alive', role: 'main', year: 2015, isBlocked: true, collaborators: ['Future'], duration: '4:47' },\n\n          // ========================================\n          // FEATURED APPEARANCES (50+)\n          // ========================================\n          { id: 'feat-1', title: 'Sicko Mode', album: 'ASTROWORLD', role: 'featured', year: 2018, isBlocked: true, collaborators: ['Travis Scott'], duration: '5:12' },\n          { id: 'feat-2', title: 'Work', album: 'ANTI', role: 'featured', year: 2016, isBlocked: true, collaborators: ['Rihanna'], duration: '3:39' },\n          { id: 'feat-3', title: 'Poetic Justice', album: 'good kid, m.A.A.d city', role: 'featured', year: 2012, isBlocked: true, collaborators: ['Kendrick Lamar'], duration: '5:00' },\n          { id: 'feat-4', title: 'No Guidance', album: 'Indigo', role: 'featured', year: 2019, isBlocked: true, collaborators: ['Chris Brown'], duration: '4:22' },\n          { id: 'feat-5', title: 'Forever', album: 'More Than a Game OST', role: 'featured', year: 2009, isBlocked: true, collaborators: ['Kanye West', 'Lil Wayne', 'Eminem'], duration: '5:27' },\n          { id: 'feat-6', title: 'Versace (Remix)', album: 'Single', role: 'featured', year: 2013, isBlocked: true, collaborators: ['Migos'], duration: '5:24' },\n          { id: 'feat-7', title: 'Only', album: 'The Pinkprint', role: 'featured', year: 2014, isBlocked: true, collaborators: ['Nicki Minaj', 'Lil Wayne', 'Chris Brown'], duration: '5:28' },\n          { id: 'feat-8', title: 'POPSTAR', album: 'KHALED KHALED', role: 'featured', year: 2020, isBlocked: true, collaborators: ['DJ Khaled'], duration: '3:29' },\n          { id: 'feat-9', title: 'GREECE', album: 'KHALED KHALED', role: 'featured', year: 2020, isBlocked: true, collaborators: ['DJ Khaled'], duration: '3:07' },\n          { id: 'feat-10', title: 'Life Is Good', album: 'High Off Life', role: 'featured', year: 2020, isBlocked: true, collaborators: ['Future'], duration: '3:57' },\n          { id: 'feat-11', title: 'Stay Schemin\\'', album: 'Rich Forever', role: 'featured', year: 2012, isBlocked: true, collaborators: ['Rick Ross', 'French Montana'], duration: '4:49' },\n          { id: 'feat-12', title: 'Walk It Talk It', album: 'Culture II', role: 'featured', year: 2018, isBlocked: true, collaborators: ['Migos'], duration: '4:30' },\n          { id: 'feat-13', title: 'I Got the Keys', album: 'Major Key', role: 'featured', year: 2016, isBlocked: true, collaborators: ['DJ Khaled', 'Jay-Z', 'Future'], duration: '4:39' },\n          { id: 'feat-14', title: 'For Free', album: 'Major Key', role: 'featured', year: 2016, isBlocked: true, collaborators: ['DJ Khaled'], duration: '2:33' },\n          { id: 'feat-15', title: 'No New Friends', album: 'Suffering from Success', role: 'featured', year: 2013, isBlocked: true, collaborators: ['DJ Khaled', 'Rick Ross', 'Lil Wayne'], duration: '4:48' },\n          { id: 'feat-16', title: 'Aston Martin Music', album: 'Teflon Don', role: 'featured', year: 2010, isBlocked: true, collaborators: ['Rick Ross', 'Chrisette Michele'], duration: '5:44' },\n          { id: 'feat-17', title: 'Money in the Grave', album: 'The Best in the World Pack', role: 'featured', year: 2019, isBlocked: true, collaborators: ['Rick Ross'], duration: '3:47' },\n          { id: 'feat-18', title: 'Going Bad', album: 'Championships', role: 'featured', year: 2018, isBlocked: true, collaborators: ['Meek Mill'], duration: '2:51' },\n          { id: 'feat-19', title: 'Lemon (Remix)', album: 'No One Ever Really Dies', role: 'featured', year: 2018, isBlocked: true, collaborators: ['N.E.R.D', 'Rihanna'], duration: '4:18' },\n          { id: 'feat-20', title: 'Both', album: 'Droptopwop', role: 'featured', year: 2017, isBlocked: true, collaborators: ['Gucci Mane'], duration: '3:46' },\n          { id: 'feat-21', title: 'My Way (Remix)', album: 'Single', role: 'featured', year: 2016, isBlocked: true, collaborators: ['Fetty Wap'], duration: '4:07' },\n          { id: 'feat-22', title: 'Believe Me', album: 'Single', role: 'featured', year: 2014, isBlocked: true, collaborators: ['Lil Wayne'], duration: '4:59' },\n          { id: 'feat-23', title: 'Tuesday', album: 'Days Before Rodeo', role: 'featured', year: 2014, isBlocked: true, collaborators: ['ILoveMakonnen'], duration: '4:40' },\n          { id: 'feat-24', title: 'Draft Day', album: 'Single', role: 'featured', year: 2014, isBlocked: true, duration: '5:35' },\n          { id: 'feat-25', title: 'Trophies', album: 'Single', role: 'featured', year: 2014, isBlocked: true, duration: '3:37' },\n          { id: 'feat-26', title: '100', album: 'Single', role: 'featured', year: 2014, isBlocked: true, duration: '3:33' },\n          { id: 'feat-27', title: '0 to 100 / The Catch Up', album: 'Single', role: 'featured', year: 2014, isBlocked: true, duration: '5:18' },\n          { id: 'feat-28', title: 'We Made It', album: 'Single', role: 'featured', year: 2014, isBlocked: true, collaborators: ['Soulja Boy'], duration: '3:59' },\n          { id: 'feat-29', title: 'The Language', album: 'Single', role: 'featured', year: 2013, isBlocked: true, duration: '5:07' },\n          { id: 'feat-30', title: '5AM in Toronto', album: 'Single', role: 'featured', year: 2013, isBlocked: true, duration: '3:43' },\n          { id: 'feat-31', title: 'Girls Love Beyonc', album: 'Single', role: 'featured', year: 2013, isBlocked: true, collaborators: ['James Fauntleroy'], duration: '4:47' },\n          { id: 'feat-32', title: 'Worst Behavior', album: 'Single', role: 'featured', year: 2013, isBlocked: true, duration: '4:30' },\n          { id: 'feat-33', title: 'The Motion', album: 'Single', role: 'featured', year: 2013, isBlocked: true, collaborators: ['Sampha'], duration: '5:15' },\n          { id: 'feat-34', title: 'All Me', album: 'Single', role: 'featured', year: 2013, isBlocked: true, collaborators: ['2 Chainz', 'Big Sean'], duration: '5:06' },\n          { id: 'feat-35', title: 'Right Above It', album: 'I Am Not a Human Being', role: 'featured', year: 2010, isBlocked: true, collaborators: ['Lil Wayne'], duration: '3:48' },\n          { id: 'feat-36', title: 'Every Girl', album: 'We Are Young Money', role: 'featured', year: 2009, isBlocked: true, collaborators: ['Young Money'], duration: '5:00' },\n          { id: 'feat-37', title: 'BedRock', album: 'We Are Young Money', role: 'featured', year: 2009, isBlocked: true, collaborators: ['Young Money'], duration: '4:44' },\n          { id: 'feat-38', title: 'What\\'s My Name?', album: 'Loud', role: 'featured', year: 2010, isBlocked: true, collaborators: ['Rihanna'], duration: '4:23' },\n          { id: 'feat-39', title: 'Moment 4 Life', album: 'Pink Friday', role: 'featured', year: 2010, isBlocked: true, collaborators: ['Nicki Minaj'], duration: '4:39' },\n          { id: 'feat-40', title: 'Up All Night', album: 'Pink Friday', role: 'featured', year: 2010, isBlocked: true, collaborators: ['Nicki Minaj'], duration: '4:25' },\n          { id: 'feat-41', title: 'Make Me Proud', album: 'Single', role: 'featured', year: 2011, isBlocked: true, collaborators: ['Nicki Minaj'], duration: '4:09' },\n          { id: 'feat-42', title: 'Amen', album: 'God Forgives, I Don\\'t', role: 'featured', year: 2012, isBlocked: true, collaborators: ['Meek Mill'], duration: '5:20' },\n          { id: 'feat-43', title: 'Tony Montana', album: 'Single', role: 'featured', year: 2011, isBlocked: true, collaborators: ['Future'], duration: '4:40' },\n          { id: 'feat-44', title: 'Fuckin\\' Problems', album: 'Long. Live. ASAP', role: 'featured', year: 2012, isBlocked: true, collaborators: ['A$AP Rocky', '2 Chainz', 'Kendrick Lamar'], duration: '4:03' },\n          { id: 'feat-45', title: 'The Motto', album: 'Single', role: 'featured', year: 2011, isBlocked: true, collaborators: ['Lil Wayne', 'Tyga'], duration: '4:31' },\n\n          // ========================================\n          // PRODUCER CREDITS (20+)\n          // ========================================\n          { id: 'prod-1', title: 'Come Thru', album: 'PartyNextDoor Two', role: 'producer', year: 2014, isBlocked: false, collaborators: ['PartyNextDoor'], duration: '4:24' },\n          { id: 'prod-2', title: 'Wednesday Night Interlude', album: 'Views', role: 'producer', year: 2016, isBlocked: true, collaborators: ['PartyNextDoor'], duration: '3:47' },\n          { id: 'prod-3', title: 'Own It', album: 'Thank Me Later', role: 'producer', year: 2010, isBlocked: true, duration: '3:54' },\n          { id: 'prod-4', title: 'Over My Dead Body', album: 'Take Care', role: 'producer', year: 2011, isBlocked: true, duration: '4:46' },\n          { id: 'prod-5', title: 'Cameras / Good Ones Go', album: 'Take Care', role: 'producer', year: 2011, isBlocked: true, duration: '6:06' },\n          { id: 'prod-6', title: 'Doing It Wrong', album: 'Take Care', role: 'producer', year: 2011, isBlocked: true, collaborators: ['Stevie Wonder'], duration: '4:17' },\n          { id: 'prod-7', title: 'Practice', album: 'Take Care', role: 'producer', year: 2011, isBlocked: true, duration: '2:55' },\n          { id: 'prod-8', title: 'Shot for Me', album: 'Take Care', role: 'producer', year: 2011, isBlocked: true, duration: '4:22' },\n          { id: 'prod-9', title: 'Tuscan Leather', album: 'Nothing Was the Same', role: 'producer', year: 2013, isBlocked: true, duration: '6:06' },\n          { id: 'prod-10', title: 'Wu-Tang Forever', album: 'Nothing Was the Same', role: 'producer', year: 2013, isBlocked: true, duration: '4:35' },\n          { id: 'prod-11', title: 'Jungle', album: \"If You're Reading This It's Too Late\", role: 'producer', year: 2015, isBlocked: true, duration: '5:49' },\n          { id: 'prod-12', title: 'Preach', album: \"If You're Reading This It's Too Late\", role: 'producer', year: 2015, isBlocked: true, collaborators: ['PARTYNEXTDOOR'], duration: '3:28' },\n          { id: 'prod-13', title: 'U With Me?', album: 'Views', role: 'producer', year: 2016, isBlocked: true, duration: '6:06' },\n          { id: 'prod-14', title: '9', album: 'Views', role: 'producer', year: 2016, isBlocked: true, duration: '4:04' },\n          { id: 'prod-15', title: 'Recognize', album: 'PARTYNEXTDOOR', role: 'producer', year: 2013, isBlocked: false, collaborators: ['PARTYNEXTDOOR'], duration: '4:17' },\n\n          // ========================================\n          // WRITER CREDITS (25+)\n          // ========================================\n          { id: 'write-1', title: 'Drunk in Love (Remix)', album: 'Beyonc', role: 'writer', year: 2013, isBlocked: false, collaborators: ['Beyonc'], duration: '5:23' },\n          { id: 'write-2', title: 'R.I.C.O.', album: 'Barter 6', role: 'writer', year: 2015, isBlocked: false, collaborators: ['Meek Mill', 'Young Thug'], duration: '5:23' },\n          { id: 'write-3', title: 'R.I.P.', album: 'ORA', role: 'writer', year: 2012, isBlocked: false, collaborators: ['Rita Ora'], duration: '3:58' },\n          { id: 'write-4', title: 'Fall for Your Type', album: 'Best Night of My Life', role: 'writer', year: 2010, isBlocked: false, collaborators: ['Jamie Foxx'], duration: '3:45' },\n          { id: 'write-5', title: 'Unthinkable (I\\'m Ready)', album: 'The Element of Freedom', role: 'writer', year: 2010, isBlocked: false, collaborators: ['Alicia Keys'], duration: '4:08' },\n          { id: 'write-6', title: 'Invented Sex', album: 'Ready', role: 'writer', year: 2009, isBlocked: false, collaborators: ['Trey Songz'], duration: '4:26' },\n          { id: 'write-7', title: 'Mr. Wrong', album: 'My Life II', role: 'writer', year: 2011, isBlocked: false, collaborators: ['Mary J. Blige'], duration: '4:21' },\n          { id: 'write-8', title: 'Moment 4 Life', album: 'Pink Friday', role: 'writer', year: 2010, isBlocked: false, collaborators: ['Nicki Minaj'], duration: '4:39' },\n          { id: 'write-9', title: '2 On', album: 'Aquarius', role: 'writer', year: 2014, isBlocked: false, collaborators: ['Tinashe', 'ScHoolboy Q'], duration: '3:28' },\n          { id: 'write-10', title: 'Recognize', album: 'PARTYNEXTDOOR', role: 'writer', year: 2013, isBlocked: false, collaborators: ['PARTYNEXTDOOR'], duration: '4:17' },\n          { id: 'write-11', title: 'Timmy\\'s Prayer', album: 'Process', role: 'writer', year: 2017, isBlocked: false, collaborators: ['Sampha'], duration: '4:51' },\n          { id: 'write-12', title: 'Her', album: 'Majid Jordan', role: 'writer', year: 2016, isBlocked: false, collaborators: ['Majid Jordan'], duration: '5:01' },\n          { id: 'write-13', title: 'Hallucinations', album: 'Sept. 5th', role: 'writer', year: 2016, isBlocked: false, collaborators: ['dvsn'], duration: '4:36' },\n          { id: 'write-14', title: 'Drama', album: 'Say Less', role: 'writer', year: 2017, isBlocked: false, collaborators: ['Roy Woods'], duration: '3:33' },\n          { id: 'write-15', title: 'Own It', album: 'barter 6', role: 'writer', year: 2013, isBlocked: false, collaborators: ['Young Thug'], duration: '3:22' },\n          { id: 'write-16', title: 'You Could Be', album: 'What For?', role: 'writer', year: 2015, isBlocked: false, collaborators: ['Toro y Moi'], duration: '3:22' },\n          { id: 'write-17', title: 'Come and See Me', album: 'PARTYNEXTDOOR 3', role: 'writer', year: 2016, isBlocked: false, collaborators: ['PARTYNEXTDOOR'], duration: '4:53' },\n          { id: 'write-18', title: 'My House', album: 'My House', role: 'writer', year: 2018, isBlocked: false, collaborators: ['Beyonc'], duration: '4:15' },\n          { id: 'write-19', title: 'Never Recover', album: 'Drip Harder', role: 'writer', year: 2018, isBlocked: false, collaborators: ['Lil Baby', 'Gunna'], duration: '3:36' },\n          { id: 'write-20', title: 'Love Galore', album: 'Ctrl', role: 'writer', year: 2017, isBlocked: false, collaborators: ['SZA', 'Travis Scott'], duration: '4:38' },\n        ];\n      }\n\n    } catch (e: any) {\n      error = e.message || 'Failed to load artist';\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  async function loadDnpStatus() {\n    try {\n      const result = await apiClient.get<Array<{ artist_id: string }>>('/api/v1/dnp/list');\n      if (result.success && result.data) {\n        dnpList = new Set(result.data.map(item => item.artist_id));\n        isBlocked = dnpList.has(artistId);\n      }\n    } catch (e) {\n      console.error('Failed to load DNP status:', e);\n    }\n  }\n\n  // Drake's Spotify image URL for showcase\n  const DRAKE_IMAGE = 'https://i.scdn.co/image/ab6761610000e5eb4293385d324db8558179afd9';\n\n  function transformToProfile(data: any): ArtistProfile {\n    // Determine status based on offenses\n    const hasOffenses = data.offenses && data.offenses.length > 0;\n    const hasConvictions = data.offenses?.some((o: any) =>\n      o.status === 'convicted' || o.procedural_state === 'convicted'\n    );\n\n    let status: ArtistStatus = 'clean';\n    if (hasConvictions) status = 'flagged';\n    else if (hasOffenses) status = 'certified_creeper';\n\n    // Determine confidence based on evidence quality\n    let confidence: ConfidenceLevel = 'low';\n    if (data.offenses?.length > 0) {\n      const tierACount = data.offenses.reduce((count: number, o: any) => {\n        return count + (o.evidence?.filter((e: any) =>\n          e.source_type === 'court_record' || e.tier === 'tier_a'\n        ).length || 0);\n      }, 0);\n\n      if (tierACount >= 2) confidence = 'high';\n      else if (tierACount >= 1) confidence = 'medium';\n    }\n\n    // Extract image from metadata or use fallback for Drake\n    let imageUrl = data.image_url || data.metadata?.image || data.primary_image?.url;\n    const artistName = data.canonical_name || data.name || 'Unknown Artist';\n    if (!imageUrl && artistName === 'Drake') {\n      imageUrl = DRAKE_IMAGE;\n    }\n\n    return {\n      id: data.id || artistId,\n      canonical_name: artistName,\n      aliases: data.aliases || [],\n      external_ids: data.external_ids || {},\n      status,\n      confidence,\n      images: data.images || [],\n      primary_image: imageUrl ? { url: imageUrl, source: 'Spotify' } : data.primary_image || data.images?.[0],\n      genres: data.genres || [],\n      offenses: (data.offenses || []).map((o: any) => transformOffense(o)),\n      streaming_metrics: data.streaming_metrics,\n      collaborators: data.collaborators || [],\n      label: data.label,\n      last_reviewed: data.last_reviewed || data.updated_at,\n      created_at: data.created_at || new Date().toISOString(),\n      updated_at: data.updated_at || new Date().toISOString(),\n    };\n  }\n\n  function transformOffense(data: any): Offense {\n    return {\n      id: data.id,\n      artist_id: artistId,\n      category: {\n        id: data.category || 'unknown',\n        name: getCategoryColor(data.category).name,\n        description: '',\n        color: getCategoryColor(data.category).icon,\n        icon: 'alert',\n      },\n      tags: data.tags || [],\n      title: data.title,\n      description: data.description,\n      incident_date: data.incident_date,\n      procedural_state: data.procedural_state || data.status || 'alleged',\n      evidence: (data.evidence || []).map((e: any) => ({\n        id: e.id,\n        offense_id: data.id,\n        source: {\n          id: e.id,\n          url: e.source_url,\n          title: e.title || e.source_name,\n          source_name: e.source_name,\n          source_type: e.source_type || 'news',\n          tier: determineSourceTier(e),\n          published_date: e.published_date,\n          excerpt: e.excerpt,\n          credibility_score: e.credibility_score,\n        },\n        date_added: e.date_added || new Date().toISOString(),\n        verified: e.verified || false,\n      })),\n      evidence_strength: determineEvidenceStrength(data.evidence || []),\n      last_updated: data.updated_at || new Date().toISOString(),\n      created_at: data.created_at || new Date().toISOString(),\n    };\n  }\n\n  function determineSourceTier(evidence: any): SourceTier {\n    if (evidence.source_type === 'court_record' || evidence.tier === 'tier_a') return 'tier_a';\n    if (evidence.source_type === 'news' || evidence.tier === 'tier_b') return 'tier_b';\n    if (evidence.tier === 'tier_c') return 'tier_c';\n    return 'tier_d';\n  }\n\n  function determineEvidenceStrength(evidence: any[]): 'strong' | 'moderate' | 'weak' {\n    if (!evidence.length) return 'weak';\n    const tierACount = evidence.filter(e =>\n      e.source_type === 'court_record' || e.tier === 'tier_a'\n    ).length;\n    if (tierACount >= 2) return 'strong';\n    if (tierACount >= 1 || evidence.length >= 3) return 'moderate';\n    return 'weak';\n  }\n\n  async function toggleBlock() {\n    if (!profile) return;\n\n    isBlockingInProgress = true;\n    try {\n      if (isBlocked) {\n        await apiClient.delete(`/api/v1/dnp/list/${artistId}`);\n        isBlocked = false;\n        dnpList.delete(artistId);\n      } else {\n        await apiClient.post('/api/v1/dnp/list', { artist_id: artistId });\n        isBlocked = true;\n        dnpList.add(artistId);\n      }\n    } catch (e) {\n      console.error('Failed to toggle block:', e);\n    } finally {\n      isBlockingInProgress = false;\n    }\n  }\n\n  async function submitReport() {\n    if (!reportDescription.trim()) return;\n\n    try {\n      await apiClient.post('/api/v1/offenses/report-error', {\n        artist_id: artistId,\n        description: reportDescription,\n        category: reportCategory,\n      });\n      showReportModal = false;\n      reportDescription = '';\n    } catch (e) {\n      console.error('Failed to submit report:', e);\n    }\n  }\n\n  function formatDate(dateString?: string): string {\n    if (!dateString) return 'Unknown';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  }\n\n  function formatNumber(num?: number): string {\n    if (!num) return '0';\n    if (num >= 1_000_000_000) return `${(num / 1_000_000_000).toFixed(1)}B`;\n    if (num >= 1_000_000) return `${(num / 1_000_000).toFixed(1)}M`;\n    if (num >= 1_000) return `${(num / 1_000).toFixed(1)}K`;\n    return num.toString();\n  }\n\n  $: statusColor = profile ? getStatusColor(profile.status) : null;\n  $: statusLabel = profile ? getStatusLabel(profile.status) : '';\n  $: confidenceLabel = profile ? getConfidenceLabel(profile.confidence) : '';\n</script>\n\n<div class=\"min-h-screen\" style=\"background: #18181b;\">\n  {#if isLoading}\n    <div class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-center\">\n        <div class=\"w-12 h-12 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n        <p class=\"mt-4 text-zinc-300\">Loading artist profile...</p>\n      </div>\n    </div>\n  {:else if error}\n    <div class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-center max-w-md p-8 rounded-xl\" style=\"background: #27272a; border: 1px solid #52525b;\">\n        <div class=\"text-6xl text-rose-500 mb-4\">!</div>\n        <h2 class=\"text-2xl font-bold text-white mb-2\">Error Loading Profile</h2>\n        <p class=\"text-zinc-300 mb-6\">{error}</p>\n        <button\n          on:click={() => navigateTo('home')}\n          class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium transition-colors\"\n        >\n          Go Back\n        </button>\n      </div>\n    </div>\n  {:else if profile}\n    <!-- Clean Header Section -->\n    <div class=\"pt-6 pb-8\" style=\"background: #18181b;\">\n      <!-- Back Button -->\n      <nav class=\"max-w-7xl mx-auto px-6 mb-6\">\n        <button\n          type=\"button\"\n          on:click={() => navigateTo('home')}\n          class=\"flex items-center gap-2 px-4 py-2 rounded-full text-zinc-300 hover:text-white transition-all hover:bg-zinc-800\"\n          style=\"border: 1px solid #3f3f46;\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back\n        </button>\n      </nav>\n\n      <!-- Artist Header -->\n      <div class=\"max-w-7xl mx-auto px-6\">\n        <div class=\"flex items-start gap-6\">\n          <!-- Artist Photo -->\n          {#if profile.primary_image?.url}\n            <div class=\"flex-shrink-0\">\n              <div\n                class=\"w-32 h-32 rounded-xl shadow-xl overflow-hidden border-2\"\n                style=\"border-color: {statusColor?.border || '#3f3f46'};\"\n              >\n                <img\n                  src={profile.primary_image.url}\n                  alt={profile.canonical_name}\n                  class=\"w-full h-full object-cover\"\n                />\n              </div>\n            </div>\n          {:else}\n            <div class=\"flex-shrink-0\">\n              <div\n                class=\"w-32 h-32 rounded-xl shadow-xl flex items-center justify-center text-4xl font-bold\"\n                style=\"background: linear-gradient(135deg, #3f3f46, #27272a); color: #71717a; border: 2px solid #3f3f46;\"\n              >\n                {profile.canonical_name.charAt(0)}\n              </div>\n            </div>\n          {/if}\n\n          <!-- Artist Info -->\n          <div class=\"flex-1 min-w-0\">\n            <div class=\"flex items-center gap-3 mb-3\">\n              <!-- Status Badge - Made larger and more prominent -->\n              <span\n                class=\"px-4 py-2 rounded-full text-sm font-extrabold uppercase tracking-wider shadow-lg\"\n                style=\"background: {statusColor?.bg}; color: {statusColor?.text}; text-shadow: 0 1px 2px rgba(0,0,0,0.3);\"\n              >\n                {statusLabel}\n              </span>\n\n              <!-- Confidence Level (only show for medium/high) -->\n              {#if profile.confidence !== 'low'}\n                <div class=\"flex items-center gap-2 px-2 py-1 rounded-full\" style=\"background: #27272a; border: 1px solid #3f3f46;\">\n                  <div class=\"flex gap-0.5\">\n                    {#each [0, 1, 2] as i}\n                      <div\n                        class=\"w-1.5 h-3 rounded-sm\"\n                        style=\"background: {\n                          (profile.confidence === 'high') ||\n                          (profile.confidence === 'medium' && i < 2)\n                            ? '#10B981' : '#52525b'\n                        };\"\n                      ></div>\n                    {/each}\n                  </div>\n                  <span class=\"text-xs text-zinc-300\">{confidenceLabel}</span>\n                </div>\n              {/if}\n            </div>\n\n            <h1 class=\"text-3xl font-bold text-white mb-2\">{profile.canonical_name}</h1>\n\n            {#if profile.genres.length > 0}\n              <p class=\"text-sm text-zinc-400 mb-2\">{profile.genres.join('  ')}</p>\n            {/if}\n\n            <!-- Social Media Links (for Drake showcase) -->\n            {#if profile.canonical_name === 'Drake'}\n            <div class=\"flex items-center gap-3 mb-3\">\n              <a href=\"https://instagram.com/champagnepapi\" target=\"_blank\" rel=\"noopener noreferrer\"\n                 class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\n                 style=\"background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);\"\n                 title=\"Instagram\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                </svg>\n              </a>\n              <a href=\"https://twitter.com/Drake\" target=\"_blank\" rel=\"noopener noreferrer\"\n                 class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\n                 style=\"background: #000000; border: 1px solid #333;\"\n                 title=\"X (Twitter)\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n                </svg>\n              </a>\n              <a href=\"https://open.spotify.com/artist/3TVXtAsR1Inumwj472S9r4\" target=\"_blank\" rel=\"noopener noreferrer\"\n                 class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\n                 style=\"background: #1DB954;\"\n                 title=\"Spotify\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z\"/>\n                </svg>\n              </a>\n              <a href=\"https://music.apple.com/artist/drake/271256\" target=\"_blank\" rel=\"noopener noreferrer\"\n                 class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\n                 style=\"background: linear-gradient(180deg, #FA233B, #FB5C74);\"\n                 title=\"Apple Music\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.8.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03c.525 0 1.048-.034 1.57-.1.823-.106 1.597-.35 2.296-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.785-.384-2.16-1.257-.238-.554-.255-1.134-.1-1.715.2-.752.676-1.25 1.4-1.53.317-.123.646-.21.98-.28.39-.083.784-.144 1.176-.22.227-.045.453-.1.673-.18.155-.056.253-.164.278-.327.014-.09.026-.18.026-.27v-5.162c0-.076-.016-.154-.04-.228-.02-.065-.065-.12-.132-.14-.06-.018-.123-.023-.188-.012-.16.027-.32.057-.477.097-.913.233-1.825.47-2.736.706l-3.47.896c-.357.093-.714.187-1.07.283-.19.052-.323.17-.37.364-.026.108-.038.22-.038.333-.002 2.255-.004 7.098-.006 9.353 0 .455-.053.904-.257 1.324-.27.556-.704.938-1.285 1.145-.42.15-.857.22-1.302.244-.58.03-1.14-.037-1.66-.305-.748-.385-1.13-1-1.16-1.838-.02-.57.09-1.1.403-1.574.376-.57.916-.912 1.575-1.07.377-.092.76-.16 1.145-.218.448-.067.897-.12 1.34-.206.247-.048.49-.116.7-.248.25-.156.357-.39.36-.687.002-.103.002-.207.002-.31V5.782c0-.127.014-.252.044-.376.068-.28.256-.468.522-.548.14-.042.286-.072.432-.1l1.61-.412c1.277-.327 2.555-.652 3.832-.98 1.09-.28 2.178-.56 3.268-.838.193-.05.39-.093.59-.108.132-.01.263.007.39.043.237.068.38.23.447.462.037.128.05.26.05.393v4.258z\"/>\n                </svg>\n              </a>\n              <span class=\"text-xs text-zinc-500 ml-2\">87M followers</span>\n            </div>\n            {/if}\n\n            {#if profile.last_reviewed}\n              <p class=\"text-xs text-zinc-500\">Last reviewed: {formatDate(profile.last_reviewed)}</p>\n            {/if}\n          </div>\n\n            <!-- Action Buttons -->\n            <div class=\"flex-shrink-0 flex flex-col gap-2 pb-2\">\n              <!-- Primary Block Button with Dropdown -->\n              <div class=\"relative\">\n                <div class=\"flex\">\n                  <button\n                    type=\"button\"\n                    on:click={toggleBlock}\n                    disabled={isBlockingInProgress}\n                    class=\"px-6 py-3 rounded-l-full font-bold text-lg transition-all disabled:opacity-50 hover:opacity-90 flex items-center gap-2\"\n                    style=\"{isBlocked\n                      ? 'background: rgba(34, 197, 94, 0.2); color: #22C55E; border: 2px solid rgba(34, 197, 94, 0.4); border-right: none;'\n                      : 'background: #DC2626; color: white; border-right: none;'}\"\n                  >\n                    {#if isBlockingInProgress}\n                      <div class=\"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin\"></div>\n                    {:else if isBlocked}\n                      <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" />\n                      </svg>\n                      Blocked\n                    {:else}\n                      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n                      </svg>\n                      Block\n                    {/if}\n                  </button>\n                  <button\n                    type=\"button\"\n                    on:click={() => showBlockingOptions = !showBlockingOptions}\n                    class=\"px-3 py-3 rounded-r-full font-bold transition-all hover:opacity-90 flex items-center\"\n                    style=\"{isBlocked\n                      ? 'background: rgba(34, 197, 94, 0.2); color: #22C55E; border: 2px solid rgba(34, 197, 94, 0.4); border-left: 1px solid rgba(34, 197, 94, 0.3);'\n                      : 'background: #DC2626; color: white; border-left: 1px solid rgba(255,255,255,0.2);'}\"\n                  >\n                    <svg class=\"w-4 h-4 transition-transform {showBlockingOptions ? 'rotate-180' : ''}\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                </div>\n\n                <!-- Blocking Options Dropdown -->\n                {#if showBlockingOptions}\n                  <div\n                    class=\"absolute right-0 mt-2 w-64 rounded-xl shadow-xl z-50 overflow-hidden\"\n                    style=\"background: #27272a; border: 1px solid #3f3f46;\"\n                  >\n                    <div class=\"p-2\">\n                      <div class=\"text-xs text-zinc-500 px-3 py-2 font-medium uppercase tracking-wider\">Blocking Options</div>\n                      <button\n                        type=\"button\"\n                        on:click={() => { toggleRoleBlocking('main', true); showBlockingOptions = false; }}\n                        class=\"w-full px-3 py-2 text-left text-sm text-zinc-200 hover:bg-zinc-700 rounded-lg flex items-center gap-3\"\n                      >\n                        <svg class=\"w-4 h-4 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n                        </svg>\n                        Block All Main Tracks\n                      </button>\n                      <button\n                        type=\"button\"\n                        on:click={() => { toggleRoleBlocking('featured', true); showBlockingOptions = false; }}\n                        class=\"w-full px-3 py-2 text-left text-sm text-zinc-200 hover:bg-zinc-700 rounded-lg flex items-center gap-3\"\n                      >\n                        <svg class=\"w-4 h-4 text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                        </svg>\n                        Block Collaborations\n                      </button>\n                      <button\n                        type=\"button\"\n                        on:click={() => { toggleRoleBlocking('producer', true); showBlockingOptions = false; }}\n                        class=\"w-full px-3 py-2 text-left text-sm text-zinc-200 hover:bg-zinc-700 rounded-lg flex items-center gap-3\"\n                      >\n                        <svg class=\"w-4 h-4 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\n                        </svg>\n                        Block Producer Credits\n                      </button>\n                      <button\n                        type=\"button\"\n                        on:click={() => { toggleRoleBlocking('writer', true); showBlockingOptions = false; }}\n                        class=\"w-full px-3 py-2 text-left text-sm text-zinc-200 hover:bg-zinc-700 rounded-lg flex items-center gap-3\"\n                      >\n                        <svg class=\"w-4 h-4 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                        </svg>\n                        Block Writer Credits\n                      </button>\n                      <div class=\"my-2 border-t border-zinc-700\"></div>\n                      <button\n                        type=\"button\"\n                        on:click={() => {\n                          toggleRoleBlocking('main', true);\n                          toggleRoleBlocking('featured', true);\n                          toggleRoleBlocking('producer', true);\n                          toggleRoleBlocking('writer', true);\n                          showBlockingOptions = false;\n                        }}\n                        class=\"w-full px-3 py-2 text-left text-sm text-red-400 hover:bg-red-900/20 rounded-lg flex items-center gap-3 font-medium\"\n                      >\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n                        </svg>\n                        Block Everything\n                      </button>\n                    </div>\n                  </div>\n                {/if}\n              </div>\n\n              <!-- Secondary Actions -->\n              <div class=\"flex gap-2\">\n                <button\n                  type=\"button\"\n                  on:click={() => activeTab = 'evidence'}\n                  class=\"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1 hover:bg-zinc-600\"\n                  style=\"background: #3f3f46; color: white; border: 1px solid #52525b;\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                  Evidence\n                </button>\n                <button\n                  type=\"button\"\n                  on:click={() => showReportModal = true}\n                  class=\"px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1 hover:bg-zinc-600\"\n                  style=\"background: #27272a; color: #a1a1aa; border: 1px solid #52525b;\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                  </svg>\n                  Report\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    <!-- Tab Navigation -->\n    <div class=\"sticky top-0 z-40\" style=\"background: #18181b;\">\n      <div class=\"max-w-7xl mx-auto px-6 py-3\">\n        <div class=\"inline-flex gap-2 p-1.5 rounded-xl\" style=\"background: #27272a;\">\n          <button\n            type=\"button\"\n            on:click={() => activeTab = 'evidence'}\n            class=\"px-5 py-2.5 text-sm font-medium transition-all rounded-lg\"\n            style=\"background: {activeTab === 'evidence' ? '#3f3f46' : 'transparent'}; color: {activeTab === 'evidence' ? 'white' : '#a1a1aa'};\"\n          >\n            Evidence\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => activeTab = 'catalog'}\n            class=\"px-5 py-2.5 text-sm font-medium transition-all rounded-lg\"\n            style=\"background: {activeTab === 'catalog' ? '#3f3f46' : 'transparent'}; color: {activeTab === 'catalog' ? 'white' : '#a1a1aa'};\"\n          >\n            Full Catalog\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => activeTab = 'discography'}\n            class=\"px-5 py-2.5 text-sm font-medium transition-all rounded-lg\"\n            style=\"background: {activeTab === 'discography' ? '#3f3f46' : 'transparent'}; color: {activeTab === 'discography' ? 'white' : '#a1a1aa'};\"\n          >\n            Revenue\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => activeTab = 'credits'}\n            class=\"px-5 py-2.5 text-sm font-medium transition-all rounded-lg\"\n            style=\"background: {activeTab === 'credits' ? '#3f3f46' : 'transparent'}; color: {activeTab === 'credits' ? 'white' : '#a1a1aa'};\"\n          >\n            Credits\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => activeTab = 'connections'}\n            class=\"px-5 py-2.5 text-sm font-medium transition-all rounded-lg\"\n            style=\"background: {activeTab === 'connections' ? '#3f3f46' : 'transparent'}; color: {activeTab === 'connections' ? 'white' : '#a1a1aa'};\"\n          >\n            Connections\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-6 py-8\">\n      {#if activeTab === 'evidence'}\n        <!-- Evidence Timeline -->\n        <div class=\"grid lg:grid-cols-3 gap-8\">\n          <!-- Main Timeline -->\n          <div class=\"lg:col-span-2\">\n            <h2 class=\"text-2xl font-bold text-white mb-6\">\n              Documented Incidents\n              {#if profile.offenses.length > 0}\n                <span class=\"text-zinc-400 font-normal ml-2\">({profile.offenses.length})</span>\n              {/if}\n            </h2>\n\n            {#if profile.offenses.length === 0}\n              <div class=\"text-center py-16 rounded-2xl\" style=\"background: #18181b; border: 1px solid #3f3f46;\">\n                <div class=\"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center\" style=\"background: rgba(16, 185, 129, 0.2);\">\n                  <svg class=\"w-10 h-10 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <p class=\"text-zinc-200 text-lg\">No documented incidents</p>\n                <p class=\"text-zinc-400 text-sm mt-2\">No offense records found for this artist</p>\n              </div>\n            {:else}\n              <!-- Timeline -->\n              <div class=\"space-y-4\">\n                {#each profile.offenses.sort((a, b) => new Date(b.incident_date || b.created_at).getTime() - new Date(a.incident_date || a.created_at).getTime()) as offense, index}\n                  {@const catColor = getCategoryColor(offense.category.id)}\n                  {@const evidenceStrength = getEvidenceStrengthLabel(offense.evidence_strength)}\n                  {@const isExpanded = expandedOffenseId === offense.id}\n\n                  <div\n                    class=\"rounded-2xl overflow-hidden transition-all\"\n                    style=\"background: #18181b; border: 1px solid {isExpanded ? catColor.icon : '#3f3f46'};\"\n                  >\n                    <!-- Offense Header -->\n                    <button\n                      type=\"button\"\n                      on:click={() => expandedOffenseId = isExpanded ? null : offense.id}\n                      class=\"w-full p-6 text-left\"\n                    >\n                      <div class=\"flex items-start gap-4\">\n                        <!-- Timeline Indicator -->\n                        <div class=\"flex-shrink-0 flex flex-col items-center\">\n                          <div\n                            class=\"w-12 h-12 rounded-xl flex items-center justify-center\"\n                            style=\"background: {catColor.bg};\"\n                          >\n                            <svg class=\"w-6 h-6\" style=\"color: {catColor.icon};\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                            </svg>\n                          </div>\n                          {#if index < profile.offenses.length - 1}\n                            <div class=\"w-0.5 h-full min-h-[20px] mt-2\" style=\"background: #52525b;\"></div>\n                          {/if}\n                        </div>\n\n                        <!-- Offense Content -->\n                        <div class=\"flex-1 min-w-0\">\n                          <div class=\"flex items-center flex-wrap gap-2 mb-2\">\n                            <!-- Category Badge -->\n                            <span\n                              class=\"px-3 py-1 text-xs font-medium rounded-full\"\n                              style=\"background: {catColor.bg}; color: {catColor.icon};\"\n                            >\n                              {offense.category.name}\n                            </span>\n\n                            <!-- Procedural State Badge -->\n                            <span class=\"px-3 py-1 text-xs font-medium rounded-full text-zinc-200\" style=\"background: #3f3f46;\">\n                              {getProceduralStateLabel(offense.procedural_state)}\n                            </span>\n\n                            <!-- Evidence Strength -->\n                            <span\n                              class=\"px-3 py-1 text-xs font-medium rounded-full\"\n                              style=\"background: rgba({evidenceStrength.color === '#10B981' ? '16, 185, 129' : evidenceStrength.color === '#F59E0B' ? '245, 158, 11' : '239, 68, 68'}, 0.15); color: {evidenceStrength.color};\"\n                            >\n                              {evidenceStrength.label} Evidence\n                            </span>\n                          </div>\n\n                          <h3 class=\"text-xl font-semibold text-white mb-3\">{offense.title}</h3>\n                          <p class=\"text-zinc-300 leading-relaxed line-clamp-2\">{offense.description}</p>\n\n                          {#if offense.incident_date}\n                            <p class=\"text-sm text-zinc-400 mt-3 flex items-center gap-2\">\n                              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                              </svg>\n                              {formatDate(offense.incident_date)}\n                            </p>\n                          {/if}\n                        </div>\n\n                        <!-- Expand Icon -->\n                        <div class=\"flex-shrink-0\">\n                          <svg\n                            class=\"w-6 h-6 text-zinc-400 transition-transform\"\n                            style=\"transform: rotate({isExpanded ? '180deg' : '0deg'});\"\n                            fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\n                          >\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                          </svg>\n                        </div>\n                      </div>\n                    </button>\n\n                    <!-- Expanded Evidence Section -->\n                    {#if isExpanded}\n                      <div class=\"px-6 pb-6\" style=\"border-top: 1px solid #52525b;\">\n                        <div class=\"pt-6\">\n                          <h4 class=\"text-sm font-medium text-zinc-300 uppercase tracking-wider mb-4\">\n                            Sources ({offense.evidence.length})\n                          </h4>\n\n                          {#if offense.evidence.length === 0}\n                            <p class=\"text-zinc-400 text-sm\">No sources available</p>\n                          {:else}\n                            <div class=\"space-y-3\">\n                              {#each offense.evidence as evidence}\n                                {@const tierInfo = getSourceTierLabel(evidence.source.tier)}\n                                <a\n                                  href={evidence.source.url}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  class=\"flex items-start gap-4 p-4 rounded-lg transition-all hover:bg-zinc-600\"\n                                  style=\"background: #3f3f46; border: 1px solid #52525b;\"\n                                >\n                                  <!-- Tier Badge -->\n                                  <div\n                                    class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-xs font-bold\"\n                                    style=\"background: {tierInfo.color}30; color: {tierInfo.color};\"\n                                    title={tierInfo.description}\n                                  >\n                                    {tierInfo.label.replace('Tier ', '')}\n                                  </div>\n\n                                  <!-- Source Info -->\n                                  <div class=\"flex-1 min-w-0\">\n                                    <p class=\"font-medium text-white truncate\">\n                                      {evidence.source.title || evidence.source.source_name}\n                                    </p>\n                                    <p class=\"text-sm text-zinc-400 flex items-center gap-2\">\n                                      <span>{evidence.source.source_name}</span>\n                                      {#if evidence.source.published_date}\n                                        <span>|</span>\n                                        <span>{formatDate(evidence.source.published_date)}</span>\n                                      {/if}\n                                    </p>\n                                    {#if evidence.source.excerpt}\n                                      <p class=\"text-sm text-zinc-300 mt-2 line-clamp-2 italic\">\n                                        \"{evidence.source.excerpt}\"\n                                      </p>\n                                    {/if}\n                                  </div>\n\n                                  <!-- External Link Icon -->\n                                  <svg class=\"w-5 h-5 text-zinc-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                                  </svg>\n                                </a>\n                              {/each}\n                            </div>\n                          {/if}\n                        </div>\n                      </div>\n                    {/if}\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n\n          <!-- Sidebar -->\n          <div class=\"lg:col-span-1 space-y-6\">\n            <!-- Source Reliability Legend -->\n            <div class=\"rounded-3xl p-6\" style=\"background: linear-gradient(145deg, #1f1f23, #18181b); border: none; box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n              <h3 class=\"text-lg font-semibold mb-5\" style=\"color: #fafafa;\">Source Reliability</h3>\n              <div class=\"space-y-3\">\n                {#each ['tier_a', 'tier_b', 'tier_c', 'tier_d'] as tier}\n                  {@const tierInfo = getSourceTierLabel(tier)}\n                  <div class=\"flex items-start gap-3\">\n                    <div\n                      class=\"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0\"\n                      style=\"background: {tierInfo.color}30; color: {tierInfo.color};\"\n                    >\n                      {tierInfo.label.replace('Tier ', '')}\n                    </div>\n                    <div class=\"text-sm\">\n                      <p class=\"text-white font-medium\">{tierInfo.label}</p>\n                      <p class=\"text-zinc-400 text-xs\">{tierInfo.description}</p>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            </div>\n\n            <!-- Quick Stats -->\n            <div class=\"rounded-3xl p-6\" style=\"background: linear-gradient(145deg, #1f1f23, #18181b); border: none; box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n              <h3 class=\"text-lg font-semibold mb-5\" style=\"color: #fafafa;\">Profile Summary</h3>\n              <div class=\"space-y-4\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-zinc-300\">Total Incidents</span>\n                  <span class=\"text-white font-medium\">{profile.offenses.length}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-zinc-300\">Primary Sources</span>\n                  <span class=\"text-white font-medium\">\n                    {profile.offenses.reduce((count, o) =>\n                      count + o.evidence.filter(e => e.source.tier === 'tier_a').length, 0\n                    )}\n                  </span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-zinc-300\">Status</span>\n                  <span\n                    class=\"px-2 py-0.5 rounded-md text-xs font-medium\"\n                    style=\"background: {statusColor?.bg}; color: {statusColor?.text};\"\n                  >\n                    {statusLabel}\n                  </span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-zinc-300\">Confidence</span>\n                  <span class=\"text-white font-medium\">{confidenceLabel}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Recent News -->\n            {#if profile.canonical_name === 'Drake'}\n            <div class=\"rounded-3xl p-6\" style=\"background: linear-gradient(145deg, #1f1f23, #18181b); border: none; box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n              <h3 class=\"text-lg font-semibold mb-5 flex items-center gap-2\" style=\"color: #fafafa;\">\n                <svg class=\"w-5 h-5 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\n                </svg>\n                Recent Headlines\n              </h3>\n              <div class=\"space-y-4\">\n                <a href=\"#\" class=\"block group\">\n                  <p class=\"text-sm text-zinc-200 group-hover:text-white transition-colors line-clamp-2\">Drake and Kendrick Lamar feud escalates with diss tracks</p>\n                  <p class=\"text-xs text-zinc-500 mt-1\">Rolling Stone - 2024</p>\n                </a>\n                <a href=\"#\" class=\"block group\">\n                  <p class=\"text-sm text-zinc-200 group-hover:text-white transition-colors line-clamp-2\">Drake sued for $10M over unauthorized sample</p>\n                  <p class=\"text-xs text-zinc-500 mt-1\">Billboard - 2024</p>\n                </a>\n                <a href=\"#\" class=\"block group\">\n                  <p class=\"text-sm text-zinc-200 group-hover:text-white transition-colors line-clamp-2\">Former associate alleges financial impropriety</p>\n                  <p class=\"text-xs text-zinc-500 mt-1\">Complex - 2023</p>\n                </a>\n                <a href=\"#\" class=\"block group\">\n                  <p class=\"text-sm text-zinc-200 group-hover:text-white transition-colors line-clamp-2\">Questions raised about relationship with underage artists</p>\n                  <p class=\"text-xs text-zinc-500 mt-1\">Pitchfork - 2022</p>\n                </a>\n              </div>\n            </div>\n            {/if}\n          </div>\n        </div>\n\n      {:else if activeTab === 'catalog'}\n        <!-- Full Artist Catalog - All Appearances -->\n        <div class=\"space-y-6\">\n          <!-- Catalog Summary -->\n          <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <button\n              type=\"button\"\n              on:click={() => toggleRoleBlocking('main', catalog.filter(t => t.role === 'main' && t.isBlocked).length < catalog.filter(t => t.role === 'main').length)}\n              class=\"p-4 rounded-xl text-left transition-all hover:scale-[1.02]\"\n              style=\"background: #27272a; border: 1px solid #3f3f46;\"\n            >\n              <div class=\"flex items-center justify-between\">\n                <div class=\"text-2xl font-bold text-white\">{catalog.filter(t => t.role === 'main').length}</div>\n                <div class=\"w-8 h-5 rounded-full transition-all {catalog.filter(t => t.role === 'main' && t.isBlocked).length === catalog.filter(t => t.role === 'main').length ? 'bg-green-500' : 'bg-zinc-600'}\">\n                  <div class=\"w-4 h-4 mt-0.5 rounded-full bg-white shadow transition-all {catalog.filter(t => t.role === 'main' && t.isBlocked).length === catalog.filter(t => t.role === 'main').length ? 'ml-3.5' : 'ml-0.5'}\"></div>\n                </div>\n              </div>\n              <div class=\"text-sm text-zinc-400\">Main Artist</div>\n              <div class=\"text-xs text-green-400 mt-1\">{catalog.filter(t => t.role === 'main' && t.isBlocked).length} blocked</div>\n            </button>\n            <button\n              type=\"button\"\n              on:click={() => toggleRoleBlocking('featured', catalog.filter(t => t.role === 'featured' && t.isBlocked).length < catalog.filter(t => t.role === 'featured').length)}\n              class=\"p-4 rounded-xl text-left transition-all hover:scale-[1.02]\"\n              style=\"background: #27272a; border: 1px solid #3f3f46;\"\n            >\n              <div class=\"flex items-center justify-between\">\n                <div class=\"text-2xl font-bold text-white\">{catalog.filter(t => t.role === 'featured').length}</div>\n                <div class=\"w-8 h-5 rounded-full transition-all {catalog.filter(t => t.role === 'featured' && t.isBlocked).length === catalog.filter(t => t.role === 'featured').length ? 'bg-green-500' : 'bg-zinc-600'}\">\n                  <div class=\"w-4 h-4 mt-0.5 rounded-full bg-white shadow transition-all {catalog.filter(t => t.role === 'featured' && t.isBlocked).length === catalog.filter(t => t.role === 'featured').length ? 'ml-3.5' : 'ml-0.5'}\"></div>\n                </div>\n              </div>\n              <div class=\"text-sm text-zinc-400\">Featured On</div>\n              <div class=\"text-xs text-green-400 mt-1\">{catalog.filter(t => t.role === 'featured' && t.isBlocked).length} blocked</div>\n            </button>\n            <button\n              type=\"button\"\n              on:click={() => toggleRoleBlocking('producer', catalog.filter(t => t.role === 'producer' && t.isBlocked).length < catalog.filter(t => t.role === 'producer').length)}\n              class=\"p-4 rounded-xl text-left transition-all hover:scale-[1.02]\"\n              style=\"background: #27272a; border: 1px solid #3f3f46;\"\n            >\n              <div class=\"flex items-center justify-between\">\n                <div class=\"text-2xl font-bold text-white\">{catalog.filter(t => t.role === 'producer').length}</div>\n                <div class=\"w-8 h-5 rounded-full transition-all {catalog.filter(t => t.role === 'producer' && t.isBlocked).length === catalog.filter(t => t.role === 'producer').length ? 'bg-green-500' : 'bg-zinc-600'}\">\n                  <div class=\"w-4 h-4 mt-0.5 rounded-full bg-white shadow transition-all {catalog.filter(t => t.role === 'producer' && t.isBlocked).length === catalog.filter(t => t.role === 'producer').length ? 'ml-3.5' : 'ml-0.5'}\"></div>\n                </div>\n              </div>\n              <div class=\"text-sm text-zinc-400\">Producer</div>\n              <div class=\"text-xs text-amber-400 mt-1\">{catalog.filter(t => t.role === 'producer' && t.isBlocked).length} blocked</div>\n            </button>\n            <button\n              type=\"button\"\n              on:click={() => toggleRoleBlocking('writer', catalog.filter(t => t.role === 'writer' && t.isBlocked).length < catalog.filter(t => t.role === 'writer').length)}\n              class=\"p-4 rounded-xl text-left transition-all hover:scale-[1.02]\"\n              style=\"background: #27272a; border: 1px solid #3f3f46;\"\n            >\n              <div class=\"flex items-center justify-between\">\n                <div class=\"text-2xl font-bold text-white\">{catalog.filter(t => t.role === 'writer').length}</div>\n                <div class=\"w-8 h-5 rounded-full transition-all {catalog.filter(t => t.role === 'writer' && t.isBlocked).length === catalog.filter(t => t.role === 'writer').length ? 'bg-green-500' : 'bg-zinc-600'}\">\n                  <div class=\"w-4 h-4 mt-0.5 rounded-full bg-white shadow transition-all {catalog.filter(t => t.role === 'writer' && t.isBlocked).length === catalog.filter(t => t.role === 'writer').length ? 'ml-3.5' : 'ml-0.5'}\"></div>\n                </div>\n              </div>\n              <div class=\"text-sm text-zinc-400\">Writer</div>\n              <div class=\"text-xs text-amber-400 mt-1\">{catalog.filter(t => t.role === 'writer' && t.isBlocked).length} blocked</div>\n            </button>\n          </div>\n\n          <!-- Blocking Progress & Filter -->\n          <div class=\"p-4 rounded-xl\" style=\"background: linear-gradient(135deg, #27272a, #18181b); border: 1px solid #3f3f46;\">\n            <div class=\"flex items-center justify-between mb-3\">\n              <div class=\"flex items-center gap-3\">\n                <span class=\"text-sm font-medium text-zinc-300\">Catalog Blocking Status</span>\n                <div class=\"flex gap-1\">\n                  <button\n                    type=\"button\"\n                    on:click={() => catalogFilter = 'all'}\n                    class=\"px-2 py-1 text-xs rounded transition-all {catalogFilter === 'all' ? 'bg-zinc-600 text-white' : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'}\"\n                  >All</button>\n                  <button\n                    type=\"button\"\n                    on:click={() => catalogFilter = 'blocked'}\n                    class=\"px-2 py-1 text-xs rounded transition-all {catalogFilter === 'blocked' ? 'bg-green-600 text-white' : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'}\"\n                  >Blocked</button>\n                  <button\n                    type=\"button\"\n                    on:click={() => catalogFilter = 'unblocked'}\n                    class=\"px-2 py-1 text-xs rounded transition-all {catalogFilter === 'unblocked' ? 'bg-red-600 text-white' : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'}\"\n                  >Unblocked</button>\n                </div>\n              </div>\n              <span class=\"text-sm text-green-400\">{catalog.filter(t => t.isBlocked).length} / {catalog.length} blocked</span>\n            </div>\n            <div class=\"h-2 rounded-full overflow-hidden\" style=\"background: #3f3f46;\">\n              <div\n                class=\"h-full rounded-full transition-all\"\n                style=\"width: {(catalog.filter(t => t.isBlocked).length / catalog.length * 100)}%; background: linear-gradient(90deg, #22C55E, #16A34A);\"\n              ></div>\n            </div>\n            <p class=\"text-xs text-zinc-500 mt-2\">\n              Click category cards above to toggle all tracks in that category. Click individual track toggles below for granular control.\n            </p>\n          </div>\n\n          <!-- Main Artist Albums (Expandable) -->\n          {#if catalogAlbums.length > 0}\n          <div>\n            <h3 class=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n              <svg class=\"w-5 h-5 text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n              </svg>\n              Main Artist ({filteredCatalog.filter(t => t.role === 'main').length} tracks across {catalogAlbums.length} albums)\n            </h3>\n\n            <div class=\"space-y-3\">\n              {#each catalogAlbums as album}\n                <div class=\"rounded-xl overflow-hidden\" style=\"background: #27272a; border: 1px solid #3f3f46;\">\n                  <!-- Album Header (clickable) -->\n                  <button\n                    type=\"button\"\n                    class=\"w-full p-4 flex items-center gap-4 hover:bg-zinc-700/50 transition-colors text-left\"\n                    on:click={() => toggleCatalogAlbum(album.name)}\n                  >\n                    <!-- Block Icon (left side) - Prohibition Sign with clear color states -->\n                    <button\n                      type=\"button\"\n                      on:click|stopPropagation={() => toggleAlbumBlocking(album.name, album.blockedCount < album.totalCount)}\n                      class=\"flex-shrink-0 transition-all hover:scale-110 p-1 rounded-full\"\n                      style=\"background: {album.blockedCount === album.totalCount ? 'rgba(239, 68, 68, 0.15)' : 'rgba(34, 197, 94, 0.15)'};\"\n                      title={album.blockedCount === album.totalCount ? 'Unblock all tracks' : 'Block all tracks'}\n                    >\n                      {#if album.blockedCount === album.totalCount}\n                        <!-- Blocked state: Red prohibition sign -->\n                        <svg class=\"w-6 h-6 text-red-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\">\n                          <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                          <path d=\"M5.5 5.5l13 13\" />\n                        </svg>\n                      {:else}\n                        <!-- Unblocked state: Green checkmark circle -->\n                        <svg class=\"w-6 h-6 text-green-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\">\n                          <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                          <path d=\"M9 12l2 2 4-4\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>\n                      {/if}\n                    </button>\n\n                    <!-- Album Art (thumbnail) - Clickable for larger view -->\n                    {#if album.cover && !album.cover.includes('data:image')}\n                    <button\n                      type=\"button\"\n                      class=\"flex-shrink-0 group relative\"\n                      on:click|stopPropagation={() => openAlbumCover(album.cover, album.name)}\n                      title=\"Click to enlarge\"\n                    >\n                      <img\n                        src={album.cover}\n                        alt={album.name}\n                        class=\"w-10 h-10 rounded object-cover bg-zinc-700 transition-all group-hover:ring-2 group-hover:ring-white/30\"\n                        on:error={(e) => { e.currentTarget.parentElement.style.display = 'none'; }}\n                      />\n                      <div class=\"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded\">\n                        <svg class=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\" />\n                        </svg>\n                      </div>\n                    </button>\n                    {/if}\n\n                    <!-- Album Info -->\n                    <div class=\"flex-1 min-w-0\">\n                      <div class=\"font-semibold text-zinc-100 truncate\">{album.name}</div>\n                      <div class=\"text-sm text-zinc-400\">{album.year}  {album.totalCount} tracks</div>\n                      <div class=\"flex items-center gap-2 mt-1\">\n                        <div class=\"h-1.5 flex-1 max-w-32 rounded-full overflow-hidden bg-zinc-700\">\n                          <div\n                            class=\"h-full rounded-full transition-all\"\n                            style=\"width: {(album.blockedCount / album.totalCount * 100)}%; background: linear-gradient(90deg, #22C55E, #16A34A);\"\n                          ></div>\n                        </div>\n                        <span class=\"text-xs text-green-400\">{album.blockedCount}/{album.totalCount}</span>\n                      </div>\n                    </div>\n\n                    <!-- Expand/Collapse Icon (plus/minus) -->\n                    <div class=\"w-6 h-6 rounded-full border border-zinc-600 flex items-center justify-center flex-shrink-0\">\n                      {#if expandedCatalogAlbums.has(album.name)}\n                        <svg class=\"w-3.5 h-3.5 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 12H4\" />\n                        </svg>\n                      {:else}\n                        <svg class=\"w-3.5 h-3.5 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                        </svg>\n                      {/if}\n                    </div>\n                  </button>\n\n                  <!-- Expanded Track List -->\n                  {#if expandedCatalogAlbums.has(album.name)}\n                    <div class=\"border-t border-zinc-700\">\n                      <table class=\"w-full text-sm\">\n                        <thead>\n                          <tr class=\"text-left text-zinc-500 bg-zinc-800/50\">\n                            <th class=\"py-2 px-4 font-medium w-12\"></th>\n                            <th class=\"py-2 px-4 font-medium w-10\">#</th>\n                            <th class=\"py-2 px-4 font-medium\">Title</th>\n                            <th class=\"py-2 px-4 font-medium text-right\">Duration</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {#each album.tracks as track, idx}\n                            <tr class=\"border-t border-zinc-800/50 hover:bg-zinc-800/30\">\n                              <td class=\"py-2 px-4\">\n                                <button\n                                  type=\"button\"\n                                  on:click|stopPropagation={() => toggleTrackBlock(track.id)}\n                                  class=\"transition-all hover:scale-110 p-0.5 rounded-full\"\n                                  style=\"background: {track.isBlocked ? 'rgba(239, 68, 68, 0.15)' : 'rgba(34, 197, 94, 0.15)'};\"\n                                  title={track.isBlocked ? 'Click to unblock' : 'Click to block'}\n                                >\n                                  {#if track.isBlocked}\n                                    <!-- Blocked: Red prohibition sign -->\n                                    <svg class=\"w-5 h-5 text-red-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\">\n                                      <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                                      <path d=\"M5.5 5.5l13 13\" />\n                                    </svg>\n                                  {:else}\n                                    <!-- Unblocked: Green checkmark -->\n                                    <svg class=\"w-5 h-5 text-green-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\">\n                                      <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                                      <path d=\"M9 12l2 2 4-4\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                                    </svg>\n                                  {/if}\n                                </button>\n                              </td>\n                              <td class=\"py-2 px-4 text-zinc-500\">{idx + 1}</td>\n                              <td class=\"py-2 px-4\">\n                                <div class=\"font-medium {track.isBlocked ? 'text-zinc-200' : 'text-zinc-500'}\">{track.title}</div>\n                                {#if track.collaborators}\n                                  <div class=\"text-xs text-zinc-500\">feat. {track.collaborators.join(', ')}</div>\n                                {/if}\n                              </td>\n                              <td class=\"py-2 px-4 text-right text-zinc-500\">{track.duration || ''}</td>\n                            </tr>\n                          {/each}\n                        </tbody>\n                      </table>\n                    </div>\n                  {/if}\n                </div>\n              {/each}\n            </div>\n          </div>\n          {/if}\n\n          <!-- Featured Appearances -->\n          {#if filteredCatalog.filter(t => t.role === 'featured').length > 0}\n          <div>\n            <h3 class=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n              <svg class=\"w-5 h-5 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n              Featured Appearances ({catalog.filter(t => t.role === 'featured').length})\n            </h3>\n            <div class=\"overflow-x-auto\">\n              <table class=\"w-full text-sm\">\n                <thead>\n                  <tr class=\"text-left text-zinc-500 border-b border-zinc-800\">\n                    <th class=\"pb-2 font-medium w-12\"></th>\n                    <th class=\"pb-2 font-medium\">Title</th>\n                    <th class=\"pb-2 font-medium\">Main Artist</th>\n                    <th class=\"pb-2 font-medium\">Album</th>\n                    <th class=\"pb-2 font-medium text-center\">Year</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each filteredCatalog.filter(t => t.role === 'featured') as track}\n                    <tr class=\"border-b border-zinc-800/50 hover:bg-zinc-800/30\">\n                      <td class=\"py-3\">\n                        <button\n                          type=\"button\"\n                          on:click|stopPropagation={() => toggleTrackBlock(track.id)}\n                          class=\"transition-all hover:scale-110\"\n                          title={track.isBlocked ? 'Click to unblock' : 'Click to block'}\n                        >\n                          <svg class=\"w-5 h-5 {track.isBlocked ? 'text-red-500' : 'text-zinc-600'}\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                            <path d=\"M5.5 5.5l13 13\" />\n                          </svg>\n                        </button>\n                      </td>\n                      <td class=\"py-3\">\n                        <div class=\"font-medium {track.isBlocked ? 'text-zinc-200' : 'text-zinc-500'}\">{track.title}</div>\n                      </td>\n                      <td class=\"py-3 text-zinc-400\">{track.collaborators?.join(', ') || ''}</td>\n                      <td class=\"py-3 text-zinc-500\">{track.album || ''}</td>\n                      <td class=\"py-3 text-center text-zinc-500\">{track.year || ''}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          {/if}\n\n          <!-- Producer/Writer Credits -->\n          {#if filteredCatalog.filter(t => t.role === 'producer' || t.role === 'writer').length > 0}\n            <div>\n              <h3 class=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n                <svg class=\"w-5 h-5 text-amber-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                </svg>\n                Behind the Scenes ({catalog.filter(t => t.role === 'producer' || t.role === 'writer').length})\n              </h3>\n              <p class=\"text-sm text-zinc-500 mb-4\">\n                Songs where {profile.canonical_name} contributed as producer or writer. These may require additional review as blocking preferences vary.\n              </p>\n              <div class=\"overflow-x-auto\">\n                <table class=\"w-full text-sm\">\n                  <thead>\n                    <tr class=\"text-left text-zinc-500 border-b border-zinc-800\">\n                      <th class=\"pb-2 font-medium w-12\"></th>\n                      <th class=\"pb-2 font-medium\">Title</th>\n                      <th class=\"pb-2 font-medium\">Role</th>\n                      <th class=\"pb-2 font-medium\">Artist</th>\n                      <th class=\"pb-2 font-medium text-center\">Year</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {#each filteredCatalog.filter(t => t.role === 'producer' || t.role === 'writer') as track}\n                      <tr class=\"border-b border-zinc-800/50 hover:bg-zinc-800/30\">\n                        <td class=\"py-3\">\n                          <button\n                            type=\"button\"\n                            on:click|stopPropagation={() => toggleTrackBlock(track.id)}\n                            class=\"transition-all hover:scale-110\"\n                            title={track.isBlocked ? 'Click to unblock' : 'Click to block'}\n                          >\n                            <svg class=\"w-5 h-5 {track.isBlocked ? 'text-red-500' : 'text-zinc-600'}\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                              <circle cx=\"12\" cy=\"12\" r=\"9\" />\n                              <path d=\"M5.5 5.5l13 13\" />\n                            </svg>\n                          </button>\n                        </td>\n                        <td class=\"py-3\">\n                          <div class=\"font-medium {track.isBlocked ? 'text-zinc-200' : 'text-zinc-500'}\">{track.title}</div>\n                        </td>\n                        <td class=\"py-3\">\n                          <span class=\"px-2 py-0.5 rounded text-xs font-medium capitalize {track.role === 'producer' ? 'bg-purple-900/30 text-purple-400' : 'bg-blue-900/30 text-blue-400'}\">\n                            {track.role}\n                          </span>\n                        </td>\n                        <td class=\"py-3 text-zinc-400\">{track.collaborators?.join(', ') || ''}</td>\n                        <td class=\"py-3 text-center text-zinc-500\">{track.year || ''}</td>\n                      </tr>\n                    {/each}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          {/if}\n\n          <!-- Catalog Info -->\n          <div class=\"p-4 rounded-xl\" style=\"background: #18181b; border: 1px solid #3f3f46;\">\n            <div class=\"flex items-start gap-3\">\n              <svg class=\"w-5 h-5 text-zinc-500 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <p class=\"text-sm text-zinc-400\">\n                  This catalog tracks all known appearances by {profile.canonical_name}. When enforcement is active,\n                  the system will scan your connected streaming services and block/skip matching tracks.\n                </p>\n                <p class=\"text-xs text-zinc-500 mt-2\">\n                  Catalog data is aggregated from Spotify, Apple Music, and MusicBrainz. Some entries may be incomplete.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      {:else if activeTab === 'discography'}\n        <!-- Discography Impact Panel - Simplified Layout -->\n        <div class=\"space-y-8\">\n          <!-- Primary: Discography Revenue (always shown, uses simulated data) -->\n          <div data-testid=\"discography-revenue-section\">\n            <ArtistDiscographyRevenue\n              artistId={artistId}\n              artistName={profile.canonical_name}\n            />\n          </div>\n\n          <!-- Secondary: Platform-specific data (only if available and non-zero) -->\n          {#if profile.streaming_metrics?.platform_breakdown?.length > 0}\n            <div class=\"bg-zinc-900 rounded-2xl p-6\">\n              <h3 class=\"text-lg font-semibold text-zinc-100 mb-6\">Platform Distribution</h3>\n              <div class=\"space-y-5\">\n                {#each profile.streaming_metrics.platform_breakdown as platform}\n                  <div>\n                    <div class=\"flex justify-between text-sm mb-2\">\n                      <span class=\"text-zinc-200 capitalize font-medium\">{platform.platform}</span>\n                      <span class=\"text-zinc-300\">{formatNumber(platform.streams)} ({platform.percentage}%)</span>\n                    </div>\n                    <div class=\"h-3 rounded-full overflow-hidden bg-zinc-800\">\n                      <div\n                        class=\"h-full rounded-full transition-all\"\n                        style=\"width: {platform.percentage}%; background: {\n                          platform.platform === 'spotify' ? '#1DB954' :\n                          platform.platform === 'apple' ? '#FC3C44' :\n                          platform.platform === 'youtube' ? '#FF0000' :\n                          '#3B82F6'\n                        };\"\n                      ></div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            </div>\n          {/if}\n\n          <!-- Tertiary: Top Tracks (only if available) -->\n          {#if profile.streaming_metrics?.top_tracks?.length > 0}\n            <div class=\"bg-zinc-900 rounded-2xl p-6\">\n              <h3 class=\"text-lg font-semibold text-zinc-100 mb-6\">Top Tracks</h3>\n              <div class=\"space-y-3\">\n                {#each profile.streaming_metrics.top_tracks.slice(0, 5) as track, index}\n                  <div class=\"flex items-center gap-4 p-4 rounded-xl bg-zinc-800/30 hover:bg-zinc-800/60 transition-colors\">\n                    <span class=\"text-2xl font-bold text-zinc-500 w-8 text-center\">{index + 1}</span>\n                    <div class=\"flex-1 min-w-0\">\n                      <p class=\"text-zinc-100 font-medium truncate\">{track.title}</p>\n                      <p class=\"text-sm text-zinc-400 mt-0.5\">{formatNumber(track.streams)} streams</p>\n                    </div>\n                    {#if track.revenue_estimate}\n                      <span class=\"text-emerald-400 font-semibold\">${formatNumber(track.revenue_estimate)}</span>\n                    {/if}\n                  </div>\n                {/each}\n              </div>\n            </div>\n          {/if}\n\n          <!-- Data Disclaimer -->\n          <div class=\"text-center py-4\">\n            <p class=\"text-xs text-zinc-500 max-w-xl mx-auto leading-relaxed\">\n              Revenue figures are <strong class=\"text-zinc-400\">simulated</strong> based on average streaming payouts.\n              Actual earnings vary by platform, region, and contract terms.\n              {#if profile.label}\n                <span class=\"block mt-2\">Label: <span class=\"text-zinc-400\">{profile.label}</span></span>\n              {/if}\n            </p>\n          </div>\n        </div>\n\n      {:else if activeTab === 'credits'}\n        <!-- Writer & Producer Credits -->\n        <div class=\"grid lg:grid-cols-2 gap-8\">\n          <!-- Writers Section -->\n          <div>\n            <h2 class=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\n              <svg class=\"w-6 h-6 text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n              </svg>\n              Songwriters\n              {#if profile.credits?.writers?.length}\n                <span class=\"text-zinc-400 font-normal text-lg\">({profile.credits.writers.length})</span>\n              {/if}\n            </h2>\n\n            {#if !profile.credits?.writers?.length}\n              <div class=\"text-center py-12 rounded-2xl\" style=\"background: #18181b; border: 1px solid #3f3f46;\">\n                <div class=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\" style=\"background: #27272a;\">\n                  <svg class=\"w-8 h-8 text-zinc-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                  </svg>\n                </div>\n                <p class=\"text-zinc-400\">No writing credits found</p>\n              </div>\n            {:else}\n              <div class=\"space-y-3\">\n                {#each profile.credits.writers as writer}\n                  <div\n                    class=\"p-4 rounded-xl transition-all hover:bg-zinc-700\"\n                    style=\"background: #18181b; border: 1px solid {writer.is_flagged ? '#EF4444' : '#3f3f46'};\"\n                  >\n                    <div class=\"flex items-center justify-between\">\n                      <div class=\"flex items-center gap-3\">\n                        <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold\" style=\"background: #3f3f46; color: #a1a1aa;\">\n                          {writer.name.charAt(0)}\n                        </div>\n                        <div>\n                          <div class=\"flex items-center gap-2\">\n                            <span class=\"font-medium text-white\">{writer.name}</span>\n                            {#if writer.is_flagged}\n                              <span class=\"px-2 py-0.5 text-xs rounded-full bg-red-900 text-red-300\">Flagged</span>\n                            {/if}\n                          </div>\n                          {#if writer.note}\n                            <p class=\"text-xs text-amber-400 mt-0.5\">{writer.note}</p>\n                          {/if}\n                        </div>\n                      </div>\n                      <div class=\"text-right\">\n                        <span class=\"text-lg font-semibold text-zinc-200\">{writer.track_count}</span>\n                        <span class=\"text-sm text-zinc-400 ml-1\">tracks</span>\n                      </div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n\n          <!-- Producers Section -->\n          <div>\n            <h2 class=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\n              <svg class=\"w-6 h-6 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n              </svg>\n              Producers\n              {#if profile.credits?.producers?.length}\n                <span class=\"text-zinc-400 font-normal text-lg\">({profile.credits.producers.length})</span>\n              {/if}\n            </h2>\n\n            {#if !profile.credits?.producers?.length}\n              <div class=\"text-center py-12 rounded-2xl\" style=\"background: #18181b; border: 1px solid #3f3f46;\">\n                <div class=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\" style=\"background: #27272a;\">\n                  <svg class=\"w-8 h-8 text-zinc-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n                  </svg>\n                </div>\n                <p class=\"text-zinc-400\">No production credits found</p>\n              </div>\n            {:else}\n              <div class=\"space-y-3\">\n                {#each profile.credits.producers as producer}\n                  <div\n                    class=\"p-4 rounded-xl transition-all hover:bg-zinc-700\"\n                    style=\"background: #18181b; border: 1px solid {producer.is_flagged ? '#EF4444' : '#3f3f46'};\"\n                  >\n                    <div class=\"flex items-center justify-between\">\n                      <div class=\"flex items-center gap-3\">\n                        {#if producer.image_url}\n                          <img src={producer.image_url} alt={producer.name} class=\"w-10 h-10 rounded-full object-cover\" />\n                        {:else}\n                          <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold\" style=\"background: linear-gradient(135deg, #7C3AED, #A855F7); color: white;\">\n                            {producer.name.charAt(0)}\n                          </div>\n                        {/if}\n                        <div>\n                          <div class=\"flex items-center gap-2\">\n                            <span class=\"font-medium text-white\">{producer.name}</span>\n                            {#if producer.is_flagged}\n                              <span class=\"px-2 py-0.5 text-xs rounded-full bg-red-900 text-red-300\">Flagged</span>\n                            {/if}\n                          </div>\n                          <p class=\"text-xs text-zinc-500 capitalize\">{producer.role}</p>\n                        </div>\n                      </div>\n                      <div class=\"text-right\">\n                        <span class=\"text-lg font-semibold text-zinc-200\">{producer.track_count}</span>\n                        <span class=\"text-sm text-zinc-400 ml-1\">tracks</span>\n                      </div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n        </div>\n\n        <!-- Credits Info Box -->\n        <div class=\"mt-8 p-6 rounded-2xl\" style=\"background: linear-gradient(145deg, #1f1f23, #18181b); border: 1px solid #3f3f46;\">\n          <h3 class=\"text-lg font-semibold text-white mb-3 flex items-center gap-2\">\n            <svg class=\"w-5 h-5 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            About Credits\n          </h3>\n          <p class=\"text-sm text-zinc-400 leading-relaxed\">\n            Credits show the songwriters and producers who have worked on this artist's music.\n            <strong class=\"text-zinc-300\">Flagged collaborators</strong> have their own documented offenses in our database.\n            Working with a flagged collaborator does not imply the artist endorses or is aware of that person's misconduct.\n          </p>\n        </div>\n\n      {:else if activeTab === 'connections'}\n        <!-- Connections / Collaborators -->\n        <div class=\"grid lg:grid-cols-3 gap-8\">\n          <div class=\"lg:col-span-2\">\n            <h2 class=\"text-2xl font-bold text-white mb-6\">\n              Collaborators & Connections\n              {#if profile.collaborators.length > 0}\n                <span class=\"text-zinc-400 font-normal ml-2\">({profile.collaborators.length})</span>\n              {/if}\n            </h2>\n\n            {#if profile.collaborators.length === 0}\n              <div class=\"text-center py-16 rounded-2xl\" style=\"background: #18181b; border: 1px solid #3f3f46;\">\n                <div class=\"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center\" style=\"background: #27272a;\">\n                  <svg class=\"w-10 h-10 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                  </svg>\n                </div>\n                <p class=\"text-zinc-200 text-lg\">No collaborations found</p>\n                <p class=\"text-zinc-400 text-sm mt-2\">Collaboration data is being populated</p>\n              </div>\n            {:else}\n              <div class=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                {#each profile.collaborators as collab}\n                  {@const collabStatus = getStatusColor(collab.status)}\n                  <button\n                    type=\"button\"\n                    class=\"group p-4 rounded-2xl text-left transition-all hover:scale-[1.02]\"\n                    style=\"background: #18181b; border: 1px solid {collab.is_flagged ? '#EF4444' : '#3f3f46'};\"\n                    on:click={() => {\n                      // Navigate to collaborator profile\n                      window.location.href = `#artist/${collab.id}`;\n                      artistId = collab.id;\n                      loadArtist();\n                    }}\n                  >\n                    <div class=\"relative aspect-square mb-3 rounded-xl overflow-hidden\" style=\"background: linear-gradient(135deg, #3f3f46, #27272a);\">\n                      {#if collab.image_url}\n                        <img src={collab.image_url} alt={collab.name} class=\"w-full h-full object-cover\" />\n                      {:else}\n                        <div class=\"w-full h-full flex items-center justify-center text-3xl font-bold text-zinc-400\">\n                          {collab.name.charAt(0)}\n                        </div>\n                      {/if}\n\n                      {#if collab.is_flagged}\n                        <div class=\"absolute top-2 right-2 w-6 h-6 rounded-full flex items-center justify-center bg-red-500\">\n                          <svg class=\"w-3 h-3 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                          </svg>\n                        </div>\n                      {/if}\n                    </div>\n\n                    <h4 class=\"font-medium text-white truncate\">{collab.name}</h4>\n                    <p class=\"text-xs text-zinc-400 capitalize\">{collab.collaboration_type}</p>\n                    <p class=\"text-xs text-zinc-400\">{collab.collaboration_count} collaboration{collab.collaboration_count !== 1 ? 's' : ''}</p>\n                  </button>\n                {/each}\n              </div>\n            {/if}\n          </div>\n\n          <!-- Sidebar -->\n          <div class=\"lg:col-span-1 space-y-4\">\n            <div class=\"rounded-3xl p-6\" style=\"background: linear-gradient(145deg, #1f1f23, #18181b); box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n              <h3 class=\"text-lg font-semibold mb-4\" style=\"color: #fafafa;\">Connection Warning</h3>\n              <p class=\"text-sm leading-relaxed\" style=\"color: #d4d4d8;\">\n                Connections shown represent professional collaborations only.\n                <strong style=\"color: #fafafa;\">Guilt is never transferred</strong> across connections.\n                A collaboration with a flagged artist does not imply involvement in their misconduct.\n              </p>\n            </div>\n\n            <button\n              type=\"button\"\n              on:click={() => navigateTo('graph')}\n              class=\"w-full px-4 py-3 rounded-2xl font-medium transition-all flex items-center justify-center gap-2 hover:bg-blue-600\"\n              style=\"background: #3B82F6; color: white;\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n              </svg>\n              Explore Full Network\n            </button>\n          </div>\n        </div>\n      {/if}\n    </main>\n\n    <!-- Report Error Modal -->\n    {#if showReportModal}\n      <div class=\"fixed inset-0 z-50 flex items-center justify-center p-4\" style=\"background: rgba(0,0,0,0.85);\">\n        <div\n          class=\"w-full max-w-md rounded-2xl p-6\"\n          style=\"background: #18181b; border: 1px solid #3f3f46;\"\n        >\n          <div class=\"flex items-center justify-between mb-6\">\n            <h3 class=\"text-xl font-bold text-white\">Report an Error</h3>\n            <button\n              type=\"button\"\n              on:click={() => showReportModal = false}\n              class=\"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-600\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"space-y-4\">\n            <div>\n              <label for=\"error-type\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Error Type</label>\n              <select\n                id=\"error-type\"\n                bind:value={reportCategory}\n                class=\"w-full px-4 py-3 rounded-lg text-white\"\n                style=\"background: #3f3f46; border: 1px solid #52525b;\"\n              >\n                <option value=\"factual_error\">Factual Error</option>\n                <option value=\"wrong_artist\">Wrong Artist</option>\n                <option value=\"outdated_info\">Outdated Information</option>\n                <option value=\"missing_context\">Missing Context</option>\n                <option value=\"source_issue\">Source Issue</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n\n            <div>\n              <label for=\"error-description\" class=\"block text-sm font-medium text-zinc-300 mb-2\">Description</label>\n              <textarea\n                id=\"error-description\"\n                bind:value={reportDescription}\n                rows=\"4\"\n                placeholder=\"Describe the error and provide any supporting information...\"\n                class=\"w-full px-4 py-3 rounded-lg text-white placeholder-zinc-500 resize-none\"\n                style=\"background: #3f3f46; border: 1px solid #52525b;\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex gap-3 pt-2\">\n              <button\n                type=\"button\"\n                on:click={() => showReportModal = false}\n                class=\"flex-1 px-4 py-3 rounded-lg font-medium transition-colors hover:bg-zinc-600\"\n                style=\"background: #3f3f46; color: white; border: 1px solid #52525b;\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                on:click={submitReport}\n                disabled={!reportDescription.trim()}\n                class=\"flex-1 px-4 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 hover:bg-rose-700\"\n                style=\"background: #e11d48; color: white;\"\n              >\n                Submit Report\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Album Cover Modal -->\n    {#if showAlbumCoverModal && selectedAlbumCover}\n      <div\n        class=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n        style=\"background: rgba(0,0,0,0.9);\"\n        on:click={closeAlbumCoverModal}\n        on:keydown={(e) => e.key === 'Escape' && closeAlbumCoverModal()}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label=\"Album cover preview\"\n        tabindex=\"-1\"\n      >\n        <div class=\"relative max-w-2xl max-h-[80vh]\" on:click|stopPropagation>\n          <button\n            type=\"button\"\n            on:click={closeAlbumCoverModal}\n            class=\"absolute -top-12 right-0 p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700 transition-colors\"\n            aria-label=\"Close\"\n          >\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          <img\n            src={selectedAlbumCover.url}\n            alt={selectedAlbumCover.name}\n            class=\"max-w-full max-h-[70vh] rounded-xl shadow-2xl object-contain\"\n          />\n          <div class=\"text-center mt-4\">\n            <p class=\"text-white font-semibold text-lg\">{selectedAlbumCover.name}</p>\n          </div>\n        </div>\n      </div>\n    {/if}\n  {/if}\n</div>\n\n<style>\n  .line-clamp-2 {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n</style>\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import { activeToasts, blockingStore, type Toast } from '../stores/blocking';\n  import { fly, fade } from 'svelte/transition';\n\n  let toastTimers: Map<string, ReturnType<typeof setTimeout>> = new Map();\n\n  // Check for reduced motion preference\n  const prefersReducedMotion = typeof window !== 'undefined'\n    ? window.matchMedia('(prefers-reduced-motion: reduce)').matches\n    : false;\n\n  // Transition options respecting reduced motion\n  const flyTransition = prefersReducedMotion\n    ? { x: 0, duration: 0 }\n    : { x: 100, duration: 300 };\n\n  const fadeTransition = prefersReducedMotion\n    ? { duration: 0 }\n    : { duration: 200 };\n\n  // Keyboard handler for dismissing toasts with Escape\n  function handleKeydown(event: KeyboardEvent, toastId: string) {\n    if (event.key === 'Escape') {\n      dismissToast(toastId);\n    }\n  }\n\n  function dismissToast(id: string) {\n    blockingStore.removeToast(id);\n    const timer = toastTimers.get(id);\n    if (timer) {\n      clearTimeout(timer);\n      toastTimers.delete(id);\n    }\n  }\n\n  function setupAutoRemove(toast: Toast) {\n    if (toast.duration && toast.dismissible) {\n      const timerId = setTimeout(() => {\n        dismissToast(toast.id);\n      }, toast.duration);\n      toastTimers.set(toast.id, timerId);\n    }\n  }\n\n  $: {\n    $activeToasts.forEach(toast => {\n      if (toast.dismissible && toast.duration && !toastTimers.has(toast.id)) {\n        setupAutoRemove(toast);\n      }\n    });\n  }\n\n  onDestroy(() => {\n    toastTimers.forEach(timer => clearTimeout(timer));\n  });\n\n  function getToastStyles(type: Toast['type']) {\n    switch (type) {\n      case 'success':\n        return {\n          bg: 'bg-green-900/90',\n          border: 'border-green-500',\n          icon: 'text-green-400',\n          progress: 'bg-green-500',\n        };\n      case 'error':\n        return {\n          bg: 'bg-red-900/90',\n          border: 'border-red-500',\n          icon: 'text-red-400',\n          progress: 'bg-red-500',\n        };\n      case 'warning':\n        return {\n          bg: 'bg-yellow-900/90',\n          border: 'border-yellow-500',\n          icon: 'text-yellow-400',\n          progress: 'bg-yellow-500',\n        };\n      default:\n        return {\n          bg: 'bg-zinc-800/90',\n          border: 'border-zinc-600',\n          icon: 'text-zinc-400',\n          progress: 'bg-indigo-500',\n        };\n    }\n  }\n</script>\n\n<!-- Toast Container - Fixed bottom right with ARIA live region for accessibility -->\n<div\n  class=\"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm w-full pointer-events-none\"\n  role=\"region\"\n  aria-label=\"Notifications\"\n  aria-live=\"polite\"\n  aria-atomic=\"false\"\n>\n  {#each $activeToasts as toast (toast.id)}\n    {@const styles = getToastStyles(toast.type)}\n    {@const isError = toast.type === 'error'}\n    <div\n      class=\"pointer-events-auto rounded-lg shadow-xl overflow-hidden backdrop-blur-sm {styles.bg} border {styles.border}\"\n      role=\"alert\"\n      aria-live={isError ? 'assertive' : 'polite'}\n      in:fly={flyTransition}\n      out:fade={fadeTransition}\n      on:keydown={(e) => handleKeydown(e, toast.id)}\n    >\n      <div class=\"p-3\">\n        <div class=\"flex items-start gap-3\">\n          <!-- Icon (decorative, hidden from screen readers) -->\n          <div class=\"flex-shrink-0 mt-0.5\" aria-hidden=\"true\">\n            {#if toast.type === 'success'}\n              <svg class=\"w-5 h-5 {styles.icon}\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n              </svg>\n            {:else if toast.type === 'error'}\n              <svg class=\"w-5 h-5 {styles.icon}\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n              </svg>\n            {:else if toast.type === 'warning'}\n              <svg class=\"w-5 h-5 {styles.icon}\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                <path fill-rule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clip-rule=\"evenodd\" />\n              </svg>\n            {:else}\n              <!-- Loading spinner for info/progress -->\n              <svg class=\"w-5 h-5 {styles.icon} {prefersReducedMotion ? '' : 'animate-spin'}\" fill=\"none\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            {/if}\n          </div>\n\n          <!-- Content -->\n          <div class=\"flex-1 min-w-0\">\n            <p class=\"text-sm font-medium text-white\">\n              {toast.message}\n            </p>\n\n            <!-- Platform badges for blocking operations -->\n            {#if toast.artistName && toast.type === 'info'}\n              <div class=\"flex gap-1 mt-2\">\n                <span class=\"px-1.5 py-0.5 text-xs rounded bg-green-500/20 text-green-400\">Spotify</span>\n                <span class=\"px-1.5 py-0.5 text-xs rounded bg-rose-500/20 text-rose-400\">Apple Music</span>\n              </div>\n            {/if}\n          </div>\n\n          <!-- Dismiss button -->\n          {#if toast.dismissible}\n            <button\n              type=\"button\"\n              class=\"flex-shrink-0 p-1 rounded hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              on:click={() => dismissToast(toast.id)}\n              aria-label=\"Dismiss notification\"\n            >\n              <svg class=\"w-4 h-4 text-zinc-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          {/if}\n        </div>\n      </div>\n\n      <!-- Progress bar -->\n      {#if toast.progress !== undefined && toast.progress < 100}\n        <div class=\"h-1 bg-black/20\">\n          <div\n            class=\"h-full transition-all duration-300 {styles.progress}\"\n            style=\"width: {toast.progress}%\"\n          ></div>\n        </div>\n      {/if}\n    </div>\n  {/each}\n</div>\n","<script lang=\"ts\">\n  import { currentRoute, navigateTo, type Route } from '../utils/simple-router';\n  import { authActions, currentUser } from '../stores/auth';\n  import { spotifyConnection, appleMusicConnection, connectionActions } from '../stores/connections';\n  import { blockingStore } from '../stores/blocking';\n  import BlockingToasts from './BlockingToasts.svelte';\n  import { onMount } from 'svelte';\n  import { fly, fade } from 'svelte/transition';\n\n  let userMenuOpen = false;\n  let mobileMenuOpen = false;\n  let isConnectingApple = false;\n\n  // Check for reduced motion preference\n  const prefersReducedMotion = typeof window !== 'undefined'\n    ? window.matchMedia('(prefers-reduced-motion: reduce)').matches\n    : false;\n\n  const navItems: { route: Route; label: string }[] = [\n    { route: 'home', label: 'Home' },\n    { route: 'sync', label: 'Library' },\n    { route: 'analytics', label: 'Analytics' },\n    { route: 'graph', label: 'Network' },\n  ];\n\n  function handleNavigation(route: Route) {\n    navigateTo(route);\n    userMenuOpen = false;\n    mobileMenuOpen = false;\n  }\n\n  async function handleLogout() {\n    await authActions.logout();\n    window.location.href = '/';\n  }\n\n  function toggleUserMenu() {\n    userMenuOpen = !userMenuOpen;\n  }\n\n  function toggleMobileMenu() {\n    mobileMenuOpen = !mobileMenuOpen;\n  }\n\n  function closeMobileMenu() {\n    mobileMenuOpen = false;\n  }\n\n  function handleClickOutside(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n    if (!target.closest('.user-menu-container')) {\n      userMenuOpen = false;\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape' && mobileMenuOpen) {\n      closeMobileMenu();\n    }\n  }\n\n  // Fetch connections and init blocking store on mount\n  onMount(() => {\n    connectionActions.fetchConnections();\n    blockingStore.init();\n  });\n\n  // Handle Spotify connection\n  async function handleSpotifyClick() {\n    if ($spotifyConnection?.status === 'active') {\n      navigateTo('connections');\n    } else {\n      await connectionActions.initiateSpotifyAuth();\n    }\n  }\n\n  // Handle Apple Music connection\n  async function handleAppleMusicClick() {\n    if ($appleMusicConnection?.status === 'active') {\n      navigateTo('connections');\n    } else {\n      isConnectingApple = true;\n      await connectionActions.connectAppleMusic();\n      isConnectingApple = false;\n    }\n  }\n</script>\n\n<svelte:window on:click={handleClickOutside} on:keydown={handleKeydown} />\n\n<!-- Skip link for keyboard navigation -->\n<a\n  href=\"#main-content\"\n  class=\"skip-link sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-[100] focus:px-4 focus:py-2 focus:bg-rose-500 focus:text-white focus:font-medium\"\n>\n  Skip to main content\n</a>\n\n<div class=\"min-h-screen bg-black\">\n  <!-- Navigation Bar -->\n  <nav class=\"sticky top-0 z-50 bg-black border-b border-zinc-800\">\n    <div class=\"max-w-6xl mx-auto px-6 py-4\">\n      <div class=\"flex items-center justify-between\">\n        <!-- Logo -->\n        <button\n          type=\"button\"\n          on:click={() => handleNavigation('home')}\n          class=\"flex items-center gap-3\"\n        >\n          <div class=\"w-10 h-10 rounded-full flex items-center justify-center bg-rose-500\">\n            <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.5\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n            </svg>\n          </div>\n          <span class=\"text-xl font-bold text-white hidden sm:block\">No Drake in the House</span>\n        </button>\n\n        <!-- Nav Links -->\n        <div class=\"hidden md:flex items-center gap-1\">\n          {#each navItems as item}\n            <button\n              type=\"button\"\n              on:click={() => handleNavigation(item.route)}\n              class=\"px-4 py-2 text-sm font-medium rounded-full transition-all {$currentRoute === item.route || ($currentRoute === 'revenue-impact' && item.route === 'analytics')\n                ? 'bg-zinc-800 text-black'\n                : 'text-zinc-300 hover:text-white'}\"\n            >\n              {item.label}\n            </button>\n          {/each}\n        </div>\n\n        <!-- Service Connection Icons -->\n        <div class=\"flex items-center gap-2 mr-2\">\n          <!-- Spotify -->\n          <button\n            type=\"button\"\n            on:click={handleSpotifyClick}\n            class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all {$spotifyConnection?.status === 'active' ? 'text-green-500 hover:bg-green-500/20' : 'text-zinc-600 hover:text-zinc-400 hover:bg-zinc-800'}\"\n            title={$spotifyConnection?.status === 'active' ? 'Spotify connected - Click to manage' : 'Connect Spotify'}\n          >\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"/>\n            </svg>\n          </button>\n\n          <!-- Apple Music -->\n          <button\n            type=\"button\"\n            on:click={handleAppleMusicClick}\n            disabled={isConnectingApple}\n            class=\"w-8 h-8 rounded-full flex items-center justify-center transition-all disabled:opacity-50 {$appleMusicConnection?.status === 'active' ? 'text-rose-500 hover:bg-rose-500/20' : 'text-zinc-600 hover:text-zinc-400 hover:bg-zinc-800'}\"\n            title={$appleMusicConnection?.status === 'active' ? 'Apple Music connected - Click to manage' : 'Connect Apple Music'}\n          >\n            {#if isConnectingApple}\n              <svg class=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            {:else}\n              <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M23.997 6.124c0-.738-.065-1.47-.24-2.19-.317-1.31-1.062-2.31-2.18-3.043C21.003.517 20.373.285 19.7.164c-.517-.093-1.038-.135-1.564-.15-.04-.001-.08-.004-.12-.004H5.986c-.04 0-.08.003-.12.004-.526.015-1.047.057-1.564.15-.673.121-1.303.353-1.877.727C1.307 1.624.562 2.624.245 3.934.07 4.654.005 5.386.005 6.124v11.748c0 .738.065 1.47.24 2.19.317 1.31 1.062 2.31 2.18 3.043.574.374 1.204.606 1.877.727.517.093 1.038.135 1.564.15.04.001.08.004.12.004h12.014c.04 0 .08-.003.12-.004.526-.015 1.047-.057 1.564-.15.673-.121 1.303-.353 1.877-.727 1.118-.733 1.863-1.733 2.18-3.043.175-.72.24-1.452.24-2.19V6.124zM12.001 4.009c2.47 0 4.471 2.001 4.471 4.471s-2.001 4.471-4.471 4.471-4.471-2.001-4.471-4.471 2.001-4.471 4.471-4.471zm0 7.542c1.693 0 3.071-1.378 3.071-3.071s-1.378-3.071-3.071-3.071-3.071 1.378-3.071 3.071 1.378 3.071 3.071 3.071z\"/>\n              </svg>\n            {/if}\n          </button>\n        </div>\n\n        <!-- Mobile Menu Button -->\n        <button\n          type=\"button\"\n          class=\"md:hidden w-9 h-9 rounded-full flex items-center justify-center text-zinc-300 hover:text-white hover:bg-zinc-800 transition-all\"\n          aria-expanded={mobileMenuOpen}\n          aria-controls=\"mobile-menu\"\n          aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}\n          on:click={toggleMobileMenu}\n        >\n          {#if mobileMenuOpen}\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          {:else}\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\n            </svg>\n          {/if}\n        </button>\n\n        <!-- User Menu (desktop) -->\n        <div class=\"relative user-menu-container hidden md:block\">\n          <button\n            type=\"button\"\n            on:click|stopPropagation={toggleUserMenu}\n            class=\"w-9 h-9 rounded-full flex items-center justify-center text-zinc-300 hover:text-white hover:bg-zinc-800 transition-all\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n            </svg>\n          </button>\n\n          {#if userMenuOpen}\n            <div class=\"absolute right-0 mt-2 w-56 rounded-lg shadow-2xl py-2 z-50 bg-zinc-900 border border-zinc-800\">\n              <div class=\"px-4 py-3 border-b border-zinc-800\">\n                <p class=\"text-sm font-medium text-white truncate\">{$currentUser?.email || 'User'}</p>\n                <p class=\"text-xs text-zinc-400\">Account</p>\n              </div>\n              <button\n                type=\"button\"\n                on:click={() => handleNavigation('settings')}\n                class=\"w-full text-left px-4 py-3 text-sm text-white hover:bg-zinc-800 flex items-center gap-3 transition-colors\"\n              >\n                <svg class=\"w-5 h-5 text-zinc-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n                Settings\n              </button>\n              <button\n                type=\"button\"\n                on:click={handleLogout}\n                class=\"w-full text-left px-4 py-3 text-sm text-rose-400 hover:bg-rose-500/10 flex items-center gap-3 transition-colors\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                </svg>\n                Sign out\n              </button>\n            </div>\n          {/if}\n        </div>\n      </div>\n    </div>\n  </nav>\n\n  <!-- Mobile Menu Overlay -->\n  {#if mobileMenuOpen}\n    <!-- Backdrop -->\n    <div\n      class=\"fixed inset-0 z-40 bg-black/60 md:hidden\"\n      on:click={closeMobileMenu}\n      on:keydown={(e) => e.key === 'Enter' && closeMobileMenu()}\n      role=\"button\"\n      tabindex=\"-1\"\n      aria-label=\"Close menu\"\n      transition:fade={prefersReducedMotion ? { duration: 0 } : { duration: 200 }}\n    />\n\n    <!-- Mobile menu panel -->\n    <div\n      id=\"mobile-menu\"\n      class=\"fixed inset-y-0 right-0 z-50 w-72 bg-zinc-900 shadow-xl md:hidden\"\n      transition:fly={prefersReducedMotion ? { x: 0, duration: 0 } : { x: 288, duration: 300 }}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label=\"Mobile navigation menu\"\n    >\n      <div class=\"flex flex-col h-full\">\n        <!-- Header -->\n        <div class=\"flex items-center justify-between p-4 border-b border-zinc-700\">\n          <span class=\"text-sm font-medium text-white\">Menu</span>\n          <button\n            type=\"button\"\n            class=\"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500\"\n            on:click={closeMobileMenu}\n            aria-label=\"Close menu\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <!-- User info -->\n        <div class=\"p-4 border-b border-zinc-700\">\n          <p class=\"text-xs text-zinc-500 uppercase tracking-wider mb-1\">Signed in as</p>\n          <p class=\"text-sm text-zinc-300 truncate\">{$currentUser?.email}</p>\n        </div>\n\n        <!-- Navigation links -->\n        <nav class=\"flex-1 overflow-y-auto py-4\" aria-label=\"Mobile navigation\">\n          <div class=\"space-y-1 px-2\">\n            {#each navItems as item}\n              <button\n                type=\"button\"\n                on:click={() => handleNavigation(item.route)}\n                class=\"w-full flex items-center justify-between px-4 py-3 rounded-lg text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500 {$currentRoute === item.route || ($currentRoute === 'revenue-impact' && item.route === 'analytics') ? 'bg-rose-500/10 text-rose-400' : 'text-zinc-300 hover:bg-zinc-800 hover:text-white'}\"\n                aria-current={$currentRoute === item.route ? 'page' : undefined}\n              >\n                <span class=\"font-medium\">{item.label}</span>\n              </button>\n            {/each}\n          </div>\n        </nav>\n\n        <!-- Service Connections in mobile menu -->\n        <div class=\"p-4 border-t border-zinc-700\">\n          <p class=\"text-xs text-zinc-500 uppercase tracking-wider mb-3\">Connections</p>\n          <div class=\"flex gap-3\">\n            <button\n              type=\"button\"\n              on:click={handleSpotifyClick}\n              class=\"flex-1 flex items-center gap-2 px-3 py-2 rounded-lg transition-all {$spotifyConnection?.status === 'active' ? 'bg-green-500/10 text-green-500' : 'bg-zinc-800 text-zinc-400 hover:text-zinc-300'}\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"/>\n              </svg>\n              <span class=\"text-sm\">Spotify</span>\n            </button>\n            <button\n              type=\"button\"\n              on:click={handleAppleMusicClick}\n              disabled={isConnectingApple}\n              class=\"flex-1 flex items-center gap-2 px-3 py-2 rounded-lg transition-all disabled:opacity-50 {$appleMusicConnection?.status === 'active' ? 'bg-rose-500/10 text-rose-500' : 'bg-zinc-800 text-zinc-400 hover:text-zinc-300'}\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M23.997 6.124c0-.738-.065-1.47-.24-2.19-.317-1.31-1.062-2.31-2.18-3.043C21.003.517 20.373.285 19.7.164c-.517-.093-1.038-.135-1.564-.15-.04-.001-.08-.004-.12-.004H5.986c-.04 0-.08.003-.12.004-.526.015-1.047.057-1.564.15-.673.121-1.303.353-1.877.727C1.307 1.624.562 2.624.245 3.934.07 4.654.005 5.386.005 6.124v11.748c0 .738.065 1.47.24 2.19.317 1.31 1.062 2.31 2.18 3.043.574.374 1.204.606 1.877.727.517.093 1.038.135 1.564.15.04.001.08.004.12.004h12.014c.04 0 .08-.003.12-.004.526-.015 1.047-.057 1.564-.15.673-.121 1.303-.353 1.877-.727 1.118-.733 1.863-1.733 2.18-3.043.175-.72.24-1.452.24-2.19V6.124zM12.001 4.009c2.47 0 4.471 2.001 4.471 4.471s-2.001 4.471-4.471 4.471-4.471-2.001-4.471-4.471 2.001-4.471 4.471-4.471zm0 7.542c1.693 0 3.071-1.378 3.071-3.071s-1.378-3.071-3.071-3.071-3.071 1.378-3.071 3.071 1.378 3.071 3.071 3.071z\"/>\n              </svg>\n              <span class=\"text-sm\">Apple</span>\n            </button>\n          </div>\n        </div>\n\n        <!-- Footer actions -->\n        <div class=\"p-4 border-t border-zinc-700 space-y-2\">\n          <button\n            type=\"button\"\n            on:click={() => handleNavigation('settings')}\n            class=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n            <span>Settings</span>\n          </button>\n          <button\n            type=\"button\"\n            on:click={handleLogout}\n            class=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-rose-400 hover:bg-rose-500/10 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n            </svg>\n            <span>Sign out</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  {/if}\n\n  <main id=\"main-content\" class=\"pb-8\" tabindex=\"-1\">\n    <slot />\n  </main>\n\n  <!-- Blocking Progress Toasts -->\n  <BlockingToasts />\n</div>\n","<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\timport { isAuthenticated, authActions } from \"./lib/stores/auth\";\n\timport { initRouter, currentRoute, routeParams } from \"./lib/utils/simple-router\";\n\timport Login from \"./lib/components/Login.svelte\";\n\timport Home from \"./lib/components/Home.svelte\";\n\timport Settings from \"./lib/components/Settings.svelte\";\n\timport OAuthCallback from \"./lib/components/OAuthCallback.svelte\";\n\timport SyncDashboard from \"./lib/components/SyncDashboard.svelte\";\n\timport AnalyticsDashboard from \"./lib/components/AnalyticsDashboard.svelte\";\n\timport GraphExplorer from \"./lib/components/GraphExplorer.svelte\";\n\timport ArtistProfile from \"./lib/components/ArtistProfile.svelte\";\n\timport Layout from \"./lib/components/Layout.svelte\";\n\n\tlet isInitialized = false;\n\tlet initError = false;\n\tlet isRetrying = false;\n\n\tconst INIT_TIMEOUT_MS = 10000; // 10 second timeout\n\n\tasync function initializeApp() {\n\t\tinitError = false;\n\t\tisRetrying = true;\n\n\t\ttry {\n\t\t\tinitRouter();\n\n\t\t\t// Create a timeout promise\n\t\t\tconst timeoutPromise = new Promise((_, reject) => {\n\t\t\t\tsetTimeout(() => reject(new Error('Connection timeout')), INIT_TIMEOUT_MS);\n\t\t\t});\n\n\t\t\t// Race between auth fetch and timeout\n\t\t\tawait Promise.race([\n\t\t\t\tauthActions.fetchProfile(),\n\t\t\t\ttimeoutPromise\n\t\t\t]);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Init error:\", error);\n\t\t\tinitError = true;\n\t\t} finally {\n\t\t\tisInitialized = true;\n\t\t\tisRetrying = false;\n\t\t}\n\t}\n\n\tfunction handleRetry() {\n\t\tisInitialized = false;\n\t\tinitializeApp();\n\t}\n\n\tonMount(() => {\n\t\tinitializeApp();\n\t});\n</script>\n\n{#if !isInitialized}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900\">\n\t\t<div class=\"text-center\">\n\t\t\t<div class=\"w-8 h-8 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n\t\t\t<p class=\"mt-4 text-gray-400\">Loading...</p>\n\t\t</div>\n\t</div>\n{:else if initError && !$isAuthenticated}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4\">\n\t\t<div class=\"max-w-md w-full text-center\">\n\t\t\t<div class=\"w-16 h-16 rounded-full bg-rose-500/20 flex items-center justify-center mx-auto mb-4\">\n\t\t\t\t<svg class=\"w-8 h-8 text-rose-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<h2 class=\"text-2xl font-bold text-white mb-2\">Connection Issues</h2>\n\t\t\t<p class=\"text-zinc-400 mb-6\">\n\t\t\t\tUnable to connect to the server. Please check your internet connection and try again.\n\t\t\t</p>\n\t\t\t<button\n\t\t\t\ton:click={handleRetry}\n\t\t\t\tdisabled={isRetrying}\n\t\t\t\tclass=\"px-6 py-3 bg-rose-500 hover:bg-rose-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2\"\n\t\t\t>\n\t\t\t\t{#if isRetrying}\n\t\t\t\t\t<div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n\t\t\t\t\tRetrying...\n\t\t\t\t{:else}\n\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\tTry Again\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{:else if $currentRoute === 'oauth-callback'}\n\t<OAuthCallback />\n{:else if $currentRoute === 'oauth-error'}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4\">\n\t\t<div class=\"max-w-md w-full text-center\">\n\t\t\t<div class=\"text-red-500 text-6xl mb-4\">!</div>\n\t\t\t<h2 class=\"text-2xl font-bold text-white mb-2\">Connection Failed</h2>\n\t\t\t<p class=\"text-gray-400 mb-6\">There was a problem connecting your account. Please try again.</p>\n\t\t\t<button\n\t\t\t\ton:click={() => window.location.href = '/'}\n\t\t\t\tclass=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\n\t\t\t>\n\t\t\t\tGo Back\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{:else if $isAuthenticated}\n\t{#if $currentRoute === 'artist-profile'}\n\t\t<ArtistProfile artistId={$routeParams.id || ''} />\n\t{:else}\n\t\t<Layout>\n\t\t\t{#if $currentRoute === 'settings'}\n\t\t\t\t<Settings />\n\t\t\t{:else if $currentRoute === 'sync'}\n\t\t\t\t<SyncDashboard />\n\t\t\t{:else if $currentRoute === 'analytics' || $currentRoute === 'revenue-impact'}\n\t\t\t\t<AnalyticsDashboard />\n\t\t\t{:else if $currentRoute === 'graph'}\n\t\t\t\t<GraphExplorer />\n\t\t\t{:else}\n\t\t\t\t<Home />\n\t\t\t{/if}\n\t\t</Layout>\n\t{/if}\n{:else}\n\t<Login />\n{/if}\n\n<style>\n\t:global(body) {\n\t\tbackground-color: rgb(17, 24, 39);\n\t}\n</style>\n","import App from './App.svelte';\nimport './app.css';\nconst app = new App({\n    target: document.body,\n});\nexport default app;\n"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","callback","undefined","unsub","unsubscribe","component_subscribe","component","$$","on_destroy","push","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","split_css_unit","value","split","match","parseFloat","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","globals","globalThis","global","append","target","node","appendChild","get_root_for_style","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","textContent","style","head","sheet","append_stylesheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","removeProperty","setProperty","select_option","select","mounting","option","__value","selected","selectedIndex","select_value","selected_option","querySelector","toggle_class","toggle","classList","managed_styles","Map","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","str","hash","charCodeAt","doc","stylesheet","rules","get","info","set","create_style_information","insertRule","cssRules","animation","delete_rule","previous","next","filter","anim","indexOf","deleted","join","ownerNode","clear","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","bubble","type","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","seen_callbacks","flushidx","flush","saved_component","update","e","pop","has","fragment","before_update","dirty","after_update","wait","then","dispatch","direction","kind","dispatchEvent","detail","bubbles","cancelable","CustomEvent","custom_event","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_bidirectional_transition","params","intro","original_inert_value","config","running_program","pending_program","animation_name","clear_animation","init","program","Math","abs","start","end","group","go","easing","linear","tick","css","inert","ensure_array_like","array_like_or_iterator","Array","from","outro_and_destroy_block","lookup","create_component","mount_component","m","new_on_destroy","map","destroy_component","filtered","targets","flush_render_callbacks","make_dirty","fill","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","skip_bound","ready","ret","rest","hydrate","nodes","childNodes","children","l","SvelteComponent","$$set","$destroy","$on","index","splice","$set","obj","keys","__svelte","v","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","invalidate","derived","stores","initial_value","single","isArray","stores_array","every","Boolean","auto","started","values","pending","cleanup","sync","result","unsubscribers","apiClient","constructor","baseUrl","defineProperty","enumerable","configurable","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","clearAuthToken","removeItem","createHeaders","includeAuth","headers","handleResponse","response","contentType","includes","json","message","ok","success","timestamp","toISOString","status","statusText","error_code","withRetry","operation","retries","maxRetries","lastError","attempt","retryDelay","pow","setTimeout","error","endpoint","fetch","method","post","body","JSON","stringify","put","handleAuthError","refreshToken","refresh_token","access_token","console","authenticatedRequest","reason","authStore","user","isAuthenticated","isLoading","justRegistered","oauthFlow","provider","state","isInProgress","$auth","currentUser","authActions","login","async","email","password","totpCode","totp_code","fetchProfile","register","confirmPassword","termsAccepted","confirm_password","terms_accepted","autoLogin","errors","logout","newRefreshToken","setup2FA","qrCodeUrl","qr_code_url","secret","verify2FA","code","disable2FA","clearJustRegistered","initiateOAuthFlow","authorization_url","sessionStorage","authState","location","completeOAuthFlow","storedState","redirect_uri","origin","pathname","linkOAuthAccount","unlinkOAuthAccount","getLinkedAccounts","pathToRoute","routeToPath","home","dashboard","settings","profile","blocklist","connections","community","analytics","graph","overview","dnp","enforcement","routeMeta","title","description","currentRoute","routeParams","navigateTo","route","path","id","meta","history","pushState","parseRoute","startsWith","artistMatch","div","svg","span","label","t15_value","t21_value","t23_value","create_if_block_3","create_if_block_2","if_block2","create_if_block_1","create_if_block","div17","div16","div1","form","div2","label0","input0","div3","label1","input1","button0","div6","div7","span1","button1","div15","preventDefault","t15","t21","t23","mode","$$invalidate","err","$route","initialState","activeOperations","artistEnforcements","toasts","blockingStore","saveToStorage","enforcements","fromEntries","stored","parsed","parse","entries","loadFromStorage","startOperation","artistId","artistName","action","connectedPlatforms","startedAt","platforms","platform","overallStatus","toast","progress","dismissible","createdAt","updatePlatformStatus","operations","op","completedAt","allCompleted","allFailed","anyFailed","some","completedCount","round","find","completeOperation","lastUpdated","newEnforcements","isSuccess","isPartial","getEnforcementStatus","addToast","removeToast","clearToasts","setEnforcementStatus","createBlockingStore","activeToasts","$state","musickitLoaded","musickitConfigured","musicKitInstance","configureMusicKit","log","reject","MusicKit","script","crossOrigin","onload","onerror","loadMusicKitScript","developerToken","developer_token","getDeveloperToken","configure","app","build","connectAppleMusic","musicUserToken","authorize","authorizeAppleMusic","music_user_token","connectionId","connection_id","disconnectAppleMusic","unauthorize","unauthorizeAppleMusic","connectionsStore","$connections","conn","spotifyConnection","$spotify","appleMusicConnection","$apple","connectionActions","fetchConnections","initiateSpotifyAuth","handleSpotifyCallback","disconnectSpotify","checkSpotifyHealth","musicKit.connectAppleMusic","musicKit.disconnectAppleMusic","checkAppleMusicHealth","healthy","needsRefresh","needs_refresh","musicKit.verifyAppleMusicConnection","getAppleMusicStatus","connected","lastHealthCheck","last_health_check","musicKit.getAppleMusicStatus","getPlatformStyle","child_ctx","div_title_value","create_if_block_4","span_class_value","spotify","disconnected","icon","apple_music","youtube_music","$$props","compact","$blockingStore","activePlatforms","_","getSeverityStyle","severity","constants_0","create_if_block_16","t0_value","offense_count","t2_value","t0","t2","genres","t_value","canonical_name","if_block0","has_offenses","create_if_block_18","create_if_block_17","button","button_class_value","div0","get_if_ctx","formatCategoryName","t3_value","artist_count","subscribed","create_if_block_14","span0","t1","t1_value","t3","create_if_block_12","create_if_block_11","create_if_block_10","div5","h3","div4","current","create_if_block_13","create_if_block_9","if_block1","create_if_block_8","create_if_block_7","each_blocks","p0","p1","enforcementbadges_changes","create_if_block_19","create_if_block_15","section0","h1","section1","h20","section2","h21","w","charAt","toUpperCase","bg","searchTimeout","searchQuery","searchResults","isSearching","categoryLists","isLoadingCategories","expandedCategoryId","categoryArtists","isLoadingCategoryArtists","blockedArtists","isLoadingBlocked","dnpList","exceptedArtists","saveExceptions","categoryColors","domestic_violence","sexual_misconduct","certified_creeper","hate_speech","racism","antisemitism","financial_crimes","substance_abuse","violence","default","loadCategories","loadBlockedArtists","loadDnpList","item","artist_id","toggleCategory","categoryId","artists","loadCategoryArtists","toggleCategorySubscription","category","wasSubscribed","getConnectedPlatforms","goToArtist","navigateToArtist","unblockArtist","simulateEnforcement","reblockArtist","$spotifyConnection","$appleMusicConnection","random","loadExceptions","all","uniqueBlockedArtists","reduce","acc","artist","clearTimeout","trim","encodeURIComponent","selectedCategory","exceptedInCategory","disabled","button_disabled_value","create_if_block_5","show_if_3","show_if_1","div25","div24","div23","div12","p3","div11","div10","div8","div9","p4","div13","div20","div14","button2","div19","div18","button3","span2","section3","div21","div22","button4","button5","p11","t7","t7_value","isLoggingOut","connectedAccounts","isLoadingConnections","connectingProvider","connectionError","blockFeatured","blockProducers","notifications","initiateOAuth","auth_url","disconnectService","loadConnections","t4_value","getProviderName","t4","errorMessage","URLSearchParams","search","errorDescription","pathParts","syncStore","runs","currentRun","health","canonicalArtists","isTriggering","isAnySyncRunning","$sync","s","platformsStatus","recentRuns","syncActions","fetchStatus","triggerSync","request","fetchRuns","runId","run_id","limit","fetchRun","cancelRun","fetchHealth","searchArtists","query","clearError","args","is_healthy","span0_class_value","dispose","getStatusIcon","getStatusColor","artists_count","toLocaleString","formatDate","last_sync","if_block","error_message","span3","t6","t6_value","create_if_block_6","table","thead","tbody","errors_count","sync_type","artists_processed","formatDuration","duration_ms","started_at","tr","td0","td1","td2","td3","td4","td5","td6","t8","t8_value","t11","t11_value","t13","t13_value","button0_class_value","button1_class_value","button3_disabled_value","label2","option0","option1","option2","option3","ms","toFixed","dateStr","date","diff","getTime","floor","toLocaleDateString","selectedPlatforms","syncType","priority","showTriggerModal","closeTriggerModal","togglePlatform","platformId","handleCancelRun","healthStatus","$syncStore","overall_status","healthColor","analyticsStore","userStats","systemHealth","trends","summary","reportTypes","reports","currentReport","troubleLeaderboard","tierDistribution","selectedArtistScore","revenueDistribution","topArtistsByRevenue","problematicArtistRevenue","payoutRates","globalCategoryRevenue","offenseCategories","selectedCategoryRevenue","artistDiscographyRevenue","isSystemHealthy","$analytics","overall","risingArtists","trend","fallingArtists","analyticsActions","timeRange","periodDays","report_types","reportId","report_id","report","days","toString","minTier","rates","topN","formatCurrency","total_simulated_revenue","problematic_artist_revenue","t10_value","problematic_percentage","clean_artist_revenue","t17_value","t22_value","total_artists_with_offenses","each_value_2","by_category","t10","t17","t22","percentage_of_total","display_name","simulated_revenue","div_data_testid_value","each_value","each_value_1","top_artists","artist_name","div2_data_testid_value","t9_value","button_data_testid_value","t9","num","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","showDetails","maxCategories","onArtistClick","categoryDetails","child_abuse","homophobia","violent_crime","drug_trafficking","fraud","animal_abuse","other","loadData","selectCategory","handleArtistClick","globalRevenue","$analyticsStore","artistStore","isLoadingEvidence","isLoadingMetrics","isLoadingCollaborators","border","getSourceTierLabel","tier","color","getProceduralStateLabel","alleged","arrested","charged","trial_ongoing","convicted","sentenced","appeal_pending","case_dismissed","record_sealed","expunged","$store","offenses","collaborators","streaming_metrics","CATEGORY_COLORS","violence_physical_harm","exploitation_abuse","hate_extremism","fraud_financial","weapons_organized_crime","harassment_coercion","substance_trafficking","legal_proceedings","reputational_risk","getCategoryColor","variant","width","height","lines","animate","prefersReducedMotion","matchMedia","matches","shouldAnimate","max","data_points","constants_1","option_1","create_if_block_27","create_if_block_28","create_if_block_23","select0","select1","option4","option5","h22","formatNumber","total_streams","total_revenue","revenue_to_problematic_artists","t20_value","revenue_to_clean_artists","t41_value","create_if_block_21","create_if_block_20","circle0","circle0_stroke_dasharray_value","circle1","circle1_stroke_dasharray_value","circle1_stroke_dashoffset_value","div40","div39","div38","div31","div27","div30","div28","div29","div37","div33","div36","div34","div35","div42","div41","div44","div43","div45","t14","t14_value","t20","t31","t31_value","t33","t33_value","t39","t39_value","t41","total_users","active_users_today","total_blocked_artists","offense_detections_today","if_block5","div26","create_if_block_30","create_if_block_31","alwaysAvailable","create_if_block_32","create_if_block_29","func_3","func_4","each_value_8","getSyncStatusIcon","create_if_block_24","create_if_block_25","create_if_block_26","low","moderate","high","critical","h2","getTierLabel","trouble_tier","trouble_score","percentage_of_user_spend","getTierColor","getTierBgColor","rate_per_stream","replace","rate_tier","blocked_artists","subscriptions","manual_blocks","getHealthIcon","databases","postgres","redis","duckdb","t19_value","kuzu","t24_value","lancedb","latencies_ms","div1_class_value","getHealthColor","div4_class_value","div7_class_value","div10_class_value","div13_class_value","t19","t24","getTrendIcon","change_percent","period","getTrendColor","each_value_4","each_value_3","mentions","t5_value","t5","download_url","progress_percent","option_1_value_value","create_if_block_36","create_if_block_37","create_if_block_35","create_if_block_34","if_block3","create_if_block_33","button0_style_value","button1_style_value","button2_style_value","activeTab","selectedTimeRange","selectedPeriodDays","showReportModal","reportType","reportFormat","includeDetails","revenueDays","selectedMinTier","syncPlatforms","syncPriority","timeRanges","periodOptions","tierOptions","handleTabChange","tab","loadRevenueData","loadSyncData","closeReportModal","pollReportStatus","trendSummary","distribution","problematicArtists","tierDist","range","report_type","time_range","include_details","checked","graphStore","currentNetwork","selectedArtist","pathResult","blockedAnalysis","stats","isLoadingPath","networkNodes","$graph","networkEdges","edges","n","is_blocked","atRiskArtists","at_risk_artists","graphActions","depth","sourceId","targetId","analysis","collaboration_count","label_count","track_count","t12","t12_value","total_distance","each_value_5","track_title","year","collab_type","line","line_x__value","line_y__value","y","line_x__value_1","line_y__value_1","getEdgeColor","line_stroke_width_value","weight","substring","circle","circle_r_value","center_artist_id","circle_fill_value","getNodeColor","text_1","text_1_y_value","g","g_transform_value","total_blocked","total_at_risk","avg_collaborations_per_blocked","h4","blocked_collaborators","risk_score","button2_disabled_value","h30","h31","h32","selectedDepth","showPathFinder","pathSourceId","pathTargetId","simulationInterval","selectArtist","clearInterval","$networkNodes","vx","vy","setInterval","j","dx","dy","dist","sqrt","force","$networkEdges","edge","source","otherId","min","initializeSimulation","$graphStore","Authorization","t16_value","formatFullNumber","t29_value","t35_value","t40_value","t43_value","t69_value","t90_value","t96_value","div59","div50","div32","span6","span7","div49","div48","div46","div47","span14","span15","div58","div57","div53","div56","div54","div55","div65","div66","t16","t29","t40","t43","t69","t90","t96","tracks","tfoot","tr1","streams","revenue","show_if","cover_url","img","img_src_value","notation","compactDisplay","currentTarget","parentElement","display","expandedAlbums","toggleAlbum","albumId","drakeDiscography","discography","monthlyStreams","totalStreams","monthlyRevenue","totalRevenue","sum","totalTracks","perStreamRate","album","strength","getEvidenceStrengthLabel","evidence_strength","primary_image","create_if_block_51","confidence","create_if_block_50","create_if_block_49","create_if_block_48","if_block4","last_reviewed","create_if_block_47","create_if_block_45","create_if_block_46","create_if_block_44","if_block9","button6","button7","button8","button9","nav","svg1","path1","main","img_alt_value","create_if_block_43","create_if_block_40","credits","writers","create_if_block_38","producers","svg0","path0","platform_breakdown","top_tracks","strong","artistdiscographyrevenue_changes","func_9","func_10","func_15","func_16","func_21","func_22","func_27","func_28","t42_value","func_1","func","t53_value","func_5","func_6","func_7","func_8","func_11","func_12","func_13","func_14","func_17","func_18","func_19","func_20","func_23","func_24","func_25","func_26","button4_class_value","button5_class_value","button6_class_value","func_29","p2","t42","t53","span5","span4","each_value_11","image_url","collaboration_type","create_if_block_42","is_flagged","create_if_block_41","note","role","percentage","revenue_estimate","func_30","cover","each_value_6","isBlocked","button_title_value","div_class_value","totalCount","blockedCount","button0_title_value","func_31","func_32","svg_class_value","func_33","func_34","sort","incident_date","evidence","published_date","excerpt","source_name","div0_title_value","procedural_state","textarea","DRAKE_IMAGE","determineSourceTier","source_type","determineEvidenceStrength","tierACount","dateString","month","day","count","catalog","catalogFilter","expandedCatalogAlbums","showAlbumCoverModal","selectedAlbumCover","showBlockingOptions","openAlbumCover","closeAlbumCoverModal","toggleCatalogAlbum","albumName","albumCovers","Scorpion","Views","getAlbumCover","toggleAlbumBlocking","tracksToUpdate","track","trackIds","track_ids","catch","toggleTrackBlock","trackId","newBlockedState","track_id","track_role","toggleRoleBlocking","expandedOffenseId","reportDescription","reportCategory","isBlockingInProgress","loadArtist","hasOffenses","hasConvictions","imageUrl","metadata","image","aliases","external_ids","images","tags","offense_id","source_url","credibility_score","date_added","verified","last_updated","updated_at","created_at","transformOffense","transformToProfile","metricsResult","collabResult","collabErr","loadDnpStatus","filteredCatalog","catalogAlbums","albumMap","mainTracks","statusColor","statusLabel","getStatusLabel","confidenceLabel","level","getConfidenceLabel","isExpanded","offense","collab","cubicOut","fade","getComputedStyle","opacity","fly","target_opacity","transform","od","xValue","xUnit","yValue","yUnit","u","getToastStyles","div0_class_value","running","start_time","end_time","reset","get_key","old_blocks","dynamic","list","destroy","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","updates","will_move","did_move","first","new_block","old_block","new_key","old_key","toastTimers","flyTransition","fadeTransition","handleKeydown","toastId","dismissToast","timer","$activeToasts","timerId","setupAutoRemove","svg2","path2","slot_ctx","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","userMenuOpen","mobileMenuOpen","isConnectingApple","handleNavigation","closeMobileMenu","closest","isInitialized","initError","isRetrying","initializeApp","initialRoute","initialParams","initRouter","timeoutPromise","race"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,36,37]}