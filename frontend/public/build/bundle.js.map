{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/svelte/src/runtime/store/index.js","../../src/lib/utils/api-client.ts","../../src/lib/stores/auth.ts","../../src/lib/utils/simple-router.ts","../../src/lib/components/Login.svelte","../../src/lib/components/Home.svelte","../../src/lib/components/Settings.svelte","../../src/lib/components/OAuthCallback.svelte","../../src/lib/stores/sync.ts","../../src/lib/components/SyncDashboard.svelte","../../src/lib/stores/analytics.ts","../../src/lib/components/AnalyticsDashboard.svelte","../../src/lib/components/RevenueImpact.svelte","../../src/lib/stores/graph.ts","../../src/lib/components/GraphExplorer.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.$$l[type]) {\n\t\t\t\tconst idx = this.$$l[type].indexOf(listener);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis.$$l[type].splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.20';\nexport const PUBLIC_VERSION = '4';\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","/**\n * Centralized API client for consistent request/response handling\n * Handles authentication, error handling, and retry logic\n */\nexport class ApiClient {\n    constructor(baseUrl = 'http://localhost:3000') {\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"maxRetries\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3\n        });\n        Object.defineProperty(this, \"retryDelay\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1000\n        }); // Base delay in ms\n        this.baseUrl = baseUrl;\n    }\n    /**\n     * Get authentication token from localStorage\n     */\n    getAuthToken() {\n        return localStorage.getItem('auth_token');\n    }\n    /**\n     * Set authentication token in localStorage\n     */\n    setAuthToken(token) {\n        localStorage.setItem('auth_token', token);\n    }\n    /**\n     * Clear authentication token\n     */\n    clearAuthToken() {\n        localStorage.removeItem('auth_token');\n    }\n    /**\n     * Create request headers with authentication\n     */\n    createHeaders(includeAuth = true) {\n        const headers = {\n            'Content-Type': 'application/json',\n        };\n        if (includeAuth) {\n            const token = this.getAuthToken();\n            if (token) {\n                headers['Authorization'] = `Bearer ${token}`;\n            }\n        }\n        return headers;\n    }\n    /**\n     * Handle API response and extract data\n     */\n    async handleResponse(response) {\n        const contentType = response.headers.get('content-type');\n        let data;\n        if (contentType && contentType.includes('application/json')) {\n            data = await response.json();\n        }\n        else {\n            data = { message: await response.text() };\n        }\n        // If response has the expected format, return it\n        if (typeof data === 'object' && data !== null && 'success' in data) {\n            return data;\n        }\n        // Handle non-standard responses\n        if (response.ok) {\n            return {\n                success: true,\n                data: data,\n                timestamp: new Date().toISOString(),\n            };\n        }\n        else {\n            return {\n                success: false,\n                message: data.message || `HTTP ${response.status}: ${response.statusText}`,\n                error_code: `HTTP_${response.status}`,\n                timestamp: new Date().toISOString(),\n            };\n        }\n    }\n    /**\n     * Retry logic with exponential backoff\n     */\n    async withRetry(operation, retries = this.maxRetries) {\n        let lastError = null;\n        for (let attempt = 0; attempt <= retries; attempt++) {\n            try {\n                const response = await operation();\n                // Don't retry on authentication errors or client errors (4xx)\n                if (response.status === 401 || response.status === 403 ||\n                    (response.status >= 400 && response.status < 500)) {\n                    return this.handleResponse(response);\n                }\n                // Don't retry on success\n                if (response.ok) {\n                    return this.handleResponse(response);\n                }\n                // Retry on server errors (5xx) or network issues\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n                return this.handleResponse(response);\n            }\n            catch (error) {\n                lastError = error;\n                if (attempt < retries) {\n                    const delay = this.retryDelay * Math.pow(2, attempt);\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                    continue;\n                }\n            }\n        }\n        // If all retries failed, return error response\n        return {\n            success: false,\n            message: lastError?.message || 'Network request failed after retries',\n            error_code: 'NETWORK_ERROR',\n            timestamp: new Date().toISOString(),\n        };\n    }\n    /**\n     * GET request\n     */\n    async get(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'GET',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * POST request\n     */\n    async post(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'POST',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * PUT request\n     */\n    async put(endpoint, data, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'PUT',\n            headers: this.createHeaders(includeAuth),\n            body: data ? JSON.stringify(data) : undefined,\n        }));\n    }\n    /**\n     * DELETE request\n     */\n    async delete(endpoint, includeAuth = true) {\n        const url = `${this.baseUrl}${endpoint}`;\n        return this.withRetry(() => fetch(url, {\n            method: 'DELETE',\n            headers: this.createHeaders(includeAuth),\n        }));\n    }\n    /**\n     * Handle authentication errors by attempting token refresh\n     */\n    async handleAuthError() {\n        try {\n            const refreshToken = localStorage.getItem('refresh_token');\n            if (!refreshToken) {\n                return false;\n            }\n            const response = await this.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n            );\n            if (response.success && response.data) {\n                this.setAuthToken(response.data.access_token);\n                localStorage.setItem('refresh_token', response.data.refresh_token);\n                return true;\n            }\n            return false;\n        }\n        catch (error) {\n            console.error('Token refresh failed:', error);\n            return false;\n        }\n    }\n    /**\n     * Make authenticated request with automatic token refresh\n     */\n    async authenticatedRequest(method, endpoint, data) {\n        let response;\n        // Make initial request\n        switch (method) {\n            case 'GET':\n                response = await this.get(endpoint);\n                break;\n            case 'POST':\n                response = await this.post(endpoint, data);\n                break;\n            case 'PUT':\n                response = await this.put(endpoint, data);\n                break;\n            case 'DELETE':\n                response = await this.delete(endpoint);\n                break;\n        }\n        // If unauthorized, try to refresh token and retry once\n        if (!response.success && response.error_code === 'HTTP_401') {\n            const refreshed = await this.handleAuthError();\n            if (refreshed) {\n                // Retry the original request\n                switch (method) {\n                    case 'GET':\n                        response = await this.get(endpoint);\n                        break;\n                    case 'POST':\n                        response = await this.post(endpoint, data);\n                        break;\n                    case 'PUT':\n                        response = await this.put(endpoint, data);\n                        break;\n                    case 'DELETE':\n                        response = await this.delete(endpoint);\n                        break;\n                }\n            }\n            else {\n                // Clear tokens and redirect to login\n                this.clearAuthToken();\n                localStorage.removeItem('refresh_token');\n                // Dispatch custom event for auth failure\n                window.dispatchEvent(new CustomEvent('auth:logout', {\n                    detail: { reason: 'token_refresh_failed' }\n                }));\n            }\n        }\n        return response;\n    }\n}\n// Create singleton instance\nexport const apiClient = new ApiClient();\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    user: null,\n    token: localStorage.getItem('auth_token'),\n    refreshToken: localStorage.getItem('refresh_token'),\n    isAuthenticated: false,\n    isLoading: false,\n    justRegistered: false,\n    oauthFlow: {\n        provider: null,\n        state: null,\n        isInProgress: false,\n    },\n};\nexport const authStore = writable(initialState);\nexport const isAuthenticated = derived(authStore, ($auth) => $auth.isAuthenticated && $auth.token !== null);\nexport const currentUser = derived(authStore, ($auth) => $auth.user);\nexport const justRegistered = derived(authStore, ($auth) => $auth.justRegistered);\n// Auth actions\nexport const authActions = {\n    login: async (email, password, totpCode) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/login', {\n            email,\n            password,\n            totp_code: totpCode\n        }, false // Don't include auth for login\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', refresh_token);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: refresh_token,\n                isAuthenticated: true,\n                isLoading: false,\n                justRegistered: false, // Reset on login\n            }));\n            // Fetch user profile\n            await authActions.fetchProfile();\n            return { success: true };\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return { success: false, message: result.message || 'Login failed' };\n        }\n    },\n    register: async (email, password, confirmPassword, termsAccepted) => {\n        authStore.update(state => ({ ...state, isLoading: true }));\n        const result = await apiClient.post('/api/v1/auth/register', {\n            email,\n            password,\n            confirm_password: confirmPassword,\n            terms_accepted: termsAccepted\n        }, false // Don't include auth for registration\n        );\n        if (result.success) {\n            // Check if auto-login was successful (tokens returned)\n            if (result.data?.access_token && result.data?.refresh_token) {\n                const { access_token, refresh_token } = result.data;\n                apiClient.setAuthToken(access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                authStore.update(state => ({\n                    ...state,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    isLoading: false,\n                    justRegistered: true, // Mark as just registered for better UX\n                }));\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true, autoLogin: true };\n            }\n            else {\n                authStore.update(state => ({ ...state, isLoading: false }));\n                return { success: true, autoLogin: false, message: result.message };\n            }\n        }\n        else {\n            authStore.update(state => ({ ...state, isLoading: false }));\n            return {\n                success: false,\n                message: result.message || 'Registration failed',\n                errors: result.data?.errors || null\n            };\n        }\n    },\n    fetchProfile: async () => {\n        const token = apiClient.getAuthToken();\n        if (!token)\n            return;\n        const result = await apiClient.authenticatedRequest('GET', '/api/v1/users/profile');\n        if (result.success && result.data) {\n            authStore.update(state => ({\n                ...state,\n                user: result.data,\n                isAuthenticated: true,\n            }));\n        }\n        else {\n            console.error('Failed to fetch profile:', result.message);\n        }\n    },\n    logout: async () => {\n        const token = apiClient.getAuthToken();\n        if (token) {\n            try {\n                await apiClient.authenticatedRequest('POST', '/api/v1/auth/logout');\n            }\n            catch (error) {\n                console.error('Logout request failed:', error);\n            }\n        }\n        apiClient.clearAuthToken();\n        localStorage.removeItem('refresh_token');\n        authStore.set({\n            user: null,\n            token: null,\n            refreshToken: null,\n            isAuthenticated: false,\n            isLoading: false,\n            justRegistered: false,\n            oauthFlow: {\n                provider: null,\n                state: null,\n                isInProgress: false,\n            },\n        });\n    },\n    refreshToken: async () => {\n        const refreshToken = localStorage.getItem('refresh_token');\n        if (!refreshToken)\n            return false;\n        const result = await apiClient.post('/api/v1/auth/refresh', { refresh_token: refreshToken }, false // Don't include auth for refresh\n        );\n        if (result.success && result.data) {\n            const { access_token, refresh_token: newRefreshToken } = result.data;\n            apiClient.setAuthToken(access_token);\n            localStorage.setItem('refresh_token', newRefreshToken);\n            authStore.update(state => ({\n                ...state,\n                token: access_token,\n                refreshToken: newRefreshToken,\n                isAuthenticated: true,\n            }));\n            return true;\n        }\n        else {\n            console.error('Token refresh failed:', result.message);\n            return false;\n        }\n    },\n    // 2FA Management\n    setup2FA: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/setup');\n            if (result.success && result.data) {\n                return {\n                    success: true,\n                    qrCodeUrl: result.data.qr_code_url,\n                    secret: result.data.secret\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to setup 2FA' };\n        }\n    },\n    verify2FA: async (code) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/verify', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now enabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to verify 2FA code' };\n        }\n    },\n    disable2FA: async (code) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/auth/2fa/disable', { totp_code: code });\n            if (result.success) {\n                // Update user profile to reflect 2FA is now disabled\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Failed to disable 2FA' };\n        }\n    },\n    // Clear the just registered flag (useful for onboarding flows)\n    clearJustRegistered: () => {\n        authStore.update(state => ({\n            ...state,\n            justRegistered: false,\n        }));\n    },\n    // OAuth-specific actions\n    initiateOAuthFlow: async (provider) => {\n        authStore.update(state => ({\n            ...state,\n            oauthFlow: {\n                provider,\n                state: null,\n                isInProgress: true,\n            },\n        }));\n        try {\n            const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/initiate`, undefined, false);\n            if (result.success && result.data) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_state_${provider}`, state);\n                authStore.update(authState => ({\n                    ...authState,\n                    oauthFlow: {\n                        ...authState.oauthFlow,\n                        state,\n                    },\n                }));\n                // Redirect to OAuth provider\n                window.location.href = authorization_url;\n                return { success: true };\n            }\n            else {\n                authStore.update(state => ({\n                    ...state,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    completeOAuthFlow: async (provider, code, state) => {\n        try {\n            // Validate state parameter\n            const storedState = sessionStorage.getItem(`oauth_state_${provider}`);\n            if (!storedState || storedState !== state) {\n                throw new Error('Invalid state parameter - possible CSRF attack');\n            }\n            const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/callback`, {\n                code,\n                state,\n                redirect_uri: window.location.origin + window.location.pathname,\n            }, false);\n            if (result.success && result.data) {\n                const { access_token, refresh_token } = result.data;\n                // Store tokens\n                localStorage.setItem('auth_token', access_token);\n                localStorage.setItem('refresh_token', refresh_token);\n                // Update auth store\n                authStore.update(authState => ({\n                    ...authState,\n                    token: access_token,\n                    refreshToken: refresh_token,\n                    isAuthenticated: true,\n                    oauthFlow: {\n                        provider: null,\n                        state: null,\n                        isInProgress: false,\n                    },\n                }));\n                // Clean up stored state\n                sessionStorage.removeItem(`oauth_state_${provider}`);\n                // Fetch user profile\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                throw new Error(result.message || 'OAuth authentication failed');\n            }\n        }\n        catch (error) {\n            // Clean up on error\n            sessionStorage.removeItem(`oauth_state_${provider}`);\n            authStore.update(state => ({\n                ...state,\n                oauthFlow: {\n                    provider: null,\n                    state: null,\n                    isInProgress: false,\n                },\n            }));\n            return { success: false, message: error.message || 'Authentication failed' };\n        }\n    },\n    linkOAuthAccount: async (provider) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', `/api/v1/auth/oauth/${provider}/link`);\n            if (result.success && result.data) {\n                const { authorization_url, state } = result.data;\n                // Store state for validation\n                sessionStorage.setItem(`oauth_link_state_${provider}`, state);\n                return {\n                    success: true,\n                    authorization_url,\n                    state\n                };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    unlinkOAuthAccount: async (provider) => {\n        try {\n            const result = await apiClient.authenticatedRequest('DELETE', `/api/v1/auth/oauth/${provider}/unlink`);\n            if (result.success) {\n                // Refresh user profile to update linked accounts\n                await authActions.fetchProfile();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n    getLinkedAccounts: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/auth/oauth/accounts');\n            if (result.success) {\n                return { success: true, data: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message || 'Network error occurred' };\n        }\n    },\n};\n// Initialize auth state on app load\nif (typeof window !== 'undefined') {\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n        apiClient.setAuthToken(token);\n        authStore.update(state => ({\n            ...state,\n            token,\n            isAuthenticated: true,\n            justRegistered: false, // Reset on app load\n        }));\n        authActions.fetchProfile();\n    }\n    // Listen for auth logout events from API client\n    window.addEventListener('auth:logout', () => {\n        authActions.logout();\n    });\n}\n","import { writable, derived } from 'svelte/store';\n// Path mappings\nconst pathToRoute = {\n    '/': 'home',\n    '/home': 'home',\n    '/dashboard': 'dashboard',\n    '/settings': 'settings',\n    '/profile': 'profile',\n    '/blocklist': 'blocklist',\n    '/library-scan': 'library-scan',\n    '/offense-database': 'offense-database',\n    '/connections': 'connections',\n    '/community': 'community',\n    '/sync': 'sync',\n    '/analytics': 'analytics',\n    '/revenue-impact': 'revenue-impact',\n    '/graph': 'graph',\n    '/overview': 'overview',\n    '/dnp': 'dnp',\n    '/enforcement': 'enforcement',\n};\nconst routeToPath = {\n    'home': '/',\n    'dashboard': '/dashboard',\n    'settings': '/settings',\n    'profile': '/profile',\n    'blocklist': '/blocklist',\n    'library-scan': '/library-scan',\n    'offense-database': '/offense-database',\n    'connections': '/connections',\n    'community': '/community',\n    'sync': '/sync',\n    'analytics': '/analytics',\n    'revenue-impact': '/revenue-impact',\n    'graph': '/graph',\n    'oauth-callback': '/auth/callback',\n    'oauth-error': '/auth/error',\n    'overview': '/overview',\n    'dnp': '/dnp',\n    'enforcement': '/enforcement',\n};\n// Route metadata\nconst routeMeta = {\n    'home': { title: 'Home', description: 'Your music blocklist dashboard' },\n    'dashboard': { title: 'Dashboard', description: 'Your music blocklist dashboard' },\n    'settings': { title: 'Settings', description: 'Account and connection settings' },\n    'profile': { title: 'Profile', description: 'Your profile settings' },\n    'blocklist': { title: 'Blocklist', description: 'Manage your blocked artists' },\n    'library-scan': { title: 'Scan Library', description: 'Scan your music library' },\n    'offense-database': { title: 'Database', description: 'Browse offense database' },\n    'connections': { title: 'Connections', description: 'Manage streaming connections' },\n    'community': { title: 'Community', description: 'Community lists' },\n    'sync': { title: 'Catalog Sync', description: 'Synchronize artist catalogs across platforms' },\n    'analytics': { title: 'Analytics', description: 'View system metrics and trends' },\n    'revenue-impact': { title: 'Revenue Impact', description: 'See where your streaming revenue goes' },\n    'graph': { title: 'Graph Explorer', description: 'Explore artist collaboration networks' },\n    'oauth-callback': { title: 'Connecting...', description: 'Processing authentication' },\n    'oauth-error': { title: 'Connection Error', description: 'There was a problem connecting' },\n    'overview': { title: 'Overview', description: 'Dashboard overview' },\n    'dnp': { title: 'DNP List', description: 'Your Do Not Play list' },\n    'enforcement': { title: 'Enforcement', description: 'Blocklist enforcement status' },\n};\n// Router store\nexport const currentRoute = writable('home');\n// Derived store for route metadata\nexport const currentRouteMeta = derived(currentRoute, $route => routeMeta[$route]);\n// Navigation function\nexport function navigateTo(route) {\n    currentRoute.set(route);\n    if (typeof window !== 'undefined') {\n        const path = routeToPath[route] || '/';\n        const meta = routeMeta[route];\n        window.history.pushState({ route }, meta.title, path);\n        document.title = `${meta.title} - No Drake`;\n    }\n}\n// Get route from path\nfunction getRouteFromPath(path) {\n    if (path.startsWith('/auth/callback'))\n        return 'oauth-callback';\n    if (path.startsWith('/auth/error'))\n        return 'oauth-error';\n    return pathToRoute[path] || 'home';\n}\n// Initialize router\nexport function initRouter() {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', (event) => {\n            const route = event.state?.route || getRouteFromPath(window.location.pathname);\n            currentRoute.set(route);\n        });\n        const initialRoute = getRouteFromPath(window.location.pathname);\n        currentRoute.set(initialRoute);\n        document.title = `${routeMeta[initialRoute].title} - No Drake`;\n    }\n}\nexport function getPath(route) {\n    return routeToPath[route] || '/';\n}\n","<script lang=\"ts\">\n  import { authActions } from '../stores/auth';\n\n  let mode: 'login' | 'register' = 'login';\n  let isLoading = false;\n  let error = '';\n  let success = '';\n\n  // Form fields\n  let email = '';\n  let password = '';\n  let confirmPassword = '';\n\n  async function handleSubmit() {\n    error = '';\n    success = '';\n    isLoading = true;\n\n    try {\n      if (mode === 'login') {\n        const result = await authActions.login(email, password);\n        if (!result.success) {\n          error = result.message || 'Login failed';\n        }\n      } else {\n        if (password !== confirmPassword) {\n          error = 'Passwords do not match';\n          isLoading = false;\n          return;\n        }\n        const result = await authActions.register(email, password, confirmPassword, true);\n        if (result.success) {\n          success = 'Account created!';\n        } else {\n          error = result.message || 'Registration failed';\n        }\n      }\n    } catch (err) {\n      error = 'Something went wrong. Please try again.';\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  function switchMode() {\n    mode = mode === 'login' ? 'register' : 'login';\n    error = '';\n    success = '';\n    password = '';\n    confirmPassword = '';\n  }\n</script>\n\n<div class=\"min-h-screen flex flex-col items-center justify-center bg-gray-900 px-4\">\n  <div class=\"w-full max-w-sm\">\n    <!-- Logo -->\n    <div class=\"text-center mb-8\">\n      <span class=\"text-6xl\"></span>\n      <h1 class=\"text-3xl font-bold text-white mt-4\">No Drake</h1>\n      <p class=\"text-gray-400 mt-2\">Block problematic artists from your music</p>\n    </div>\n\n    <!-- Form -->\n    <form on:submit|preventDefault={handleSubmit} class=\"space-y-4\">\n      {#if error}\n        <div class=\"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm\">\n          {error}\n        </div>\n      {/if}\n\n      {#if success}\n        <div class=\"bg-green-900/50 border border-green-700 text-green-200 px-4 py-3 rounded-lg text-sm\">\n          {success}\n        </div>\n      {/if}\n\n      <div>\n        <input\n          type=\"email\"\n          bind:value={email}\n          placeholder=\"Email\"\n          required\n          class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <input\n          type=\"password\"\n          bind:value={password}\n          placeholder=\"Password\"\n          required\n          minlength=\"8\"\n          class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n        />\n      </div>\n\n      {#if mode === 'register'}\n        <div>\n          <input\n            type=\"password\"\n            bind:value={confirmPassword}\n            placeholder=\"Confirm password\"\n            required\n            minlength=\"8\"\n            class=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n          />\n        </div>\n      {/if}\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        class=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n      >\n        {#if isLoading}\n          <div class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n        {/if}\n        {mode === 'login' ? 'Sign in' : 'Create account'}\n      </button>\n    </form>\n\n    <!-- Switch mode -->\n    <div class=\"mt-6 text-center\">\n      <button\n        type=\"button\"\n        on:click={switchMode}\n        class=\"text-gray-400 hover:text-white transition-colors\"\n      >\n        {mode === 'login' ? \"Don't have an account? Sign up\" : 'Already have an account? Sign in'}\n      </button>\n    </div>\n\n    <!-- Features preview -->\n    <div class=\"mt-12 space-y-3\">\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">AI-curated blocklists by category</span>\n      </div>\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">Block artists on Spotify & Apple Music</span>\n      </div>\n      <div class=\"flex items-center space-x-3 text-gray-500\">\n        <svg class=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n        </svg>\n        <span class=\"text-sm\">Blocks features & collaborations too</span>\n      </div>\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo } from '../utils/simple-router';\n\n  interface CategoryList {\n    id: string;\n    name: string;\n    description: string;\n    artist_count: number;\n    subscribed: boolean;\n  }\n\n  interface SearchArtist {\n    id: string;\n    canonical_name: string;\n    genres?: string[];\n    image_url?: string;\n  }\n\n  interface BlockedArtist {\n    id: string;\n    name: string;\n    category: string;\n    severity: string;\n  }\n\n  interface ArtistOffense {\n    id: string;\n    category: string;\n    severity: string;\n    title: string;\n    description: string;\n    incident_date?: string;\n    status: string;\n    evidence: Evidence[];\n  }\n\n  interface Evidence {\n    id: string;\n    source_url: string;\n    source_name: string;\n    source_type: string;\n    title?: string;\n    excerpt?: string;\n    published_date?: string;\n    credibility_score?: number;\n  }\n\n  interface ArtistDetail {\n    id: string;\n    canonical_name: string;\n    genres?: string[];\n    image_url?: string;\n    offenses: ArtistOffense[];\n  }\n\n  type View = 'home' | 'artist';\n  let currentView: View = 'home';\n\n  let searchQuery = '';\n  let searchResults: SearchArtist[] = [];\n  let isSearching = false;\n  let searchTimeout: ReturnType<typeof setTimeout>;\n\n  let categoryLists: CategoryList[] = [];\n  let isLoadingCategories = true;\n  let expandedCategoryId: string | null = null;\n  let categoryArtists: BlockedArtist[] = [];\n  let isLoadingCategoryArtists = false;\n\n  let blockedArtists: BlockedArtist[] = [];\n  let isLoadingBlocked = false;\n\n  let selectedArtist: ArtistDetail | null = null;\n  let isLoadingArtistDetail = false;\n\n  let blockingArtistId: string | null = null;\n  let dnpList: Set<string> = new Set();\n\n  // Triadic palette colors\n  const colors = {\n    green: { primary: '#30AF22', light: '#59BA48' },\n    blue: { primary: '#009BD7', light: '#00B4FF' },\n    pink: { primary: '#FF2C6E', light: '#FF728F' }\n  };\n\n  function formatCategoryName(id: string): string {\n    return id.split('_').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');\n  }\n\n  function getSeverityStyle(severity: string): { bg: string; text: string; label: string } {\n    switch (severity) {\n      case 'egregious':\n        return { bg: 'background-color: #FFE5ED;', text: 'color: #FF2C6E;', label: 'Egregious' };\n      case 'severe':\n        return { bg: 'background-color: #FFECF1;', text: 'color: #FF728F;', label: 'Severe' };\n      case 'moderate':\n        return { bg: 'background-color: #E5F6FF;', text: 'color: #009BD7;', label: 'Moderate' };\n      default:\n        return { bg: 'background-color: #E8F8E6;', text: 'color: #30AF22;', label: 'Minor' };\n    }\n  }\n\n  onMount(async () => {\n    await Promise.all([\n      loadCategories(),\n      loadBlockedArtists(),\n      loadDnpList(),\n    ]);\n  });\n\n  async function loadCategories() {\n    isLoadingCategories = true;\n    try {\n      const result = await apiClient.get<CategoryList[]>('/api/v1/categories');\n      if (result.success && result.data) {\n        categoryLists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load categories:', e);\n    } finally {\n      isLoadingCategories = false;\n    }\n  }\n\n  async function loadBlockedArtists() {\n    isLoadingBlocked = true;\n    try {\n      const result = await apiClient.get<BlockedArtist[]>('/api/v1/categories/blocked-artists');\n      if (result.success && result.data) {\n        blockedArtists = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load blocked artists:', e);\n    } finally {\n      isLoadingBlocked = false;\n    }\n  }\n\n  async function loadDnpList() {\n    try {\n      const result = await apiClient.get<Array<{artist_id: string}>>('/api/v1/dnp/list');\n      if (result.success && result.data) {\n        dnpList = new Set(result.data.map(item => item.artist_id));\n      }\n    } catch (e) {\n      console.error('Failed to load DNP list:', e);\n    }\n  }\n\n  function handleSearchInput() {\n    clearTimeout(searchTimeout);\n    if (!searchQuery.trim()) {\n      searchResults = [];\n      isSearching = false;\n      return;\n    }\n    isSearching = true;\n    searchTimeout = setTimeout(async () => {\n      try {\n        const result = await apiClient.get<SearchArtist[]>(`/api/v1/artists/search?q=${encodeURIComponent(searchQuery.trim())}`);\n        if (result.success && result.data) {\n          searchResults = result.data;\n        } else {\n          searchResults = [];\n        }\n      } catch (e) {\n        searchResults = [];\n      } finally {\n        isSearching = false;\n      }\n    }, 150);\n  }\n\n  async function toggleCategory(categoryId: string) {\n    if (expandedCategoryId === categoryId) {\n      expandedCategoryId = null;\n      categoryArtists = [];\n    } else {\n      expandedCategoryId = categoryId;\n      await loadCategoryArtists(categoryId);\n    }\n  }\n\n  async function loadCategoryArtists(categoryId: string) {\n    isLoadingCategoryArtists = true;\n    try {\n      const result = await apiClient.get<{artists: BlockedArtist[]}>(`/api/v1/offenses/query?category=${categoryId}`);\n      if (result.success && result.data?.artists) {\n        categoryArtists = result.data.artists;\n      } else {\n        categoryArtists = [];\n      }\n    } catch (e) {\n      categoryArtists = [];\n    } finally {\n      isLoadingCategoryArtists = false;\n    }\n  }\n\n  async function toggleCategorySubscription(category: CategoryList, event: MouseEvent) {\n    event.stopPropagation();\n    const wasSubscribed = category.subscribed;\n    categoryLists = categoryLists.map(c =>\n      c.id === category.id ? { ...c, subscribed: !wasSubscribed } : c\n    );\n    try {\n      if (wasSubscribed) {\n        await apiClient.delete(`/api/v1/categories/${category.id}/subscribe`);\n      } else {\n        await apiClient.post(`/api/v1/categories/${category.id}/subscribe`);\n      }\n      await loadBlockedArtists();\n    } catch (e) {\n      categoryLists = categoryLists.map(c =>\n        c.id === category.id ? { ...c, subscribed: wasSubscribed } : c\n      );\n    }\n  }\n\n  async function goToArtist(artistId: string, artistName: string) {\n    currentView = 'artist';\n    isLoadingArtistDetail = true;\n    selectedArtist = null;\n    try {\n      const result = await apiClient.get<ArtistDetail>(`/api/v1/offenses/query?artist_id=${artistId}`);\n      if (result.success && result.data) {\n        selectedArtist = result.data;\n      } else {\n        selectedArtist = { id: artistId, canonical_name: artistName, offenses: [] };\n      }\n    } catch (e) {\n      selectedArtist = { id: artistId, canonical_name: artistName, offenses: [] };\n    } finally {\n      isLoadingArtistDetail = false;\n    }\n  }\n\n  function goBack() {\n    currentView = 'home';\n    selectedArtist = null;\n    searchResults = [];\n    searchQuery = '';\n  }\n\n  async function toggleArtistBlock(artistId: string) {\n    blockingArtistId = artistId;\n    const isCurrentlyBlocked = dnpList.has(artistId);\n    try {\n      if (isCurrentlyBlocked) {\n        await apiClient.delete(`/api/v1/dnp/list/${artistId}`);\n        dnpList.delete(artistId);\n      } else {\n        await apiClient.post('/api/v1/dnp/list', { artist_id: artistId });\n        dnpList.add(artistId);\n      }\n      dnpList = new Set(dnpList);\n    } catch (e) {\n      console.error('Failed to toggle block:', e);\n    } finally {\n      blockingArtistId = null;\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      if (currentView === 'artist') {\n        goBack();\n      } else if (searchResults.length > 0) {\n        searchResults = [];\n        searchQuery = '';\n      }\n    }\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n\n<div class=\"min-h-screen bg-white\">\n  {#if currentView === 'home'}\n    <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n      <div class=\"max-w-3xl mx-auto px-4 py-4 flex justify-between items-center\">\n        <div>\n          <h1 class=\"text-xl font-semibold text-gray-900\">No Drake in the House</h1>\n          <p class=\"text-sm\" style=\"color: #666;\">Curate your streaming</p>\n        </div>\n        <div class=\"flex items-center gap-2\">\n          <button\n            on:click={() => navigateTo('sync')}\n            class=\"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors\"\n            title=\"Catalog Sync\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n          </button>\n          <button\n            on:click={() => navigateTo('analytics')}\n            class=\"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors\"\n            title=\"Analytics\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n            </svg>\n          </button>\n          <button\n            on:click={() => navigateTo('graph')}\n            class=\"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors\"\n            title=\"Graph Explorer\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n            </svg>\n          </button>\n          <button\n            on:click={() => navigateTo('settings')}\n            class=\"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors\"\n            title=\"Settings\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </header>\n\n    <main class=\"max-w-3xl mx-auto px-4 py-6 space-y-8\">\n      <!-- Search -->\n      <section>\n        <div class=\"relative\">\n          <input\n            type=\"text\"\n            bind:value={searchQuery}\n            on:input={handleSearchInput}\n            placeholder=\"Search artists...\"\n            class=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-transparent transition-all\"\n            style=\"focus:ring: 2px solid {colors.blue.primary};\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n            {#if isSearching}\n              <div class=\"w-5 h-5 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n            {:else}\n              <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            {/if}\n          </div>\n        </div>\n\n        {#if searchResults.length > 0}\n          <div class=\"mt-2 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden\">\n            {#each searchResults as artist, i}\n              <button\n                type=\"button\"\n                class=\"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors {i > 0 ? 'border-t border-gray-100' : ''}\"\n                on:click={() => goToArtist(artist.id, artist.canonical_name)}\n              >\n                <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium text-white\" style=\"background: linear-gradient(135deg, {colors.blue.primary}, {colors.blue.light});\">\n                  {artist.canonical_name.charAt(0)}\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                  <p class=\"font-medium text-gray-900 truncate\">{artist.canonical_name}</p>\n                  {#if artist.genres && artist.genres.length > 0}\n                    <p class=\"text-sm text-gray-500 truncate\">{artist.genres.slice(0, 3).join(', ')}</p>\n                  {/if}\n                </div>\n                <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </button>\n            {/each}\n          </div>\n        {:else if searchQuery.length > 1 && !isSearching}\n          <div class=\"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-6 text-center\">\n            <p class=\"text-gray-500\">No artists found for \"<span class=\"font-medium text-gray-700\">{searchQuery}</span>\"</p>\n          </div>\n        {/if}\n      </section>\n\n      <!-- Categories -->\n      <section>\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Block by Category</h2>\n\n        {#if isLoadingCategories}\n          <div class=\"flex justify-center py-12\">\n            <div class=\"w-6 h-6 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n          </div>\n        {:else}\n          <div class=\"space-y-3\">\n            {#each categoryLists as category}\n              <div>\n                <button\n                  type=\"button\"\n                  class=\"w-full p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all text-left\"\n                  style=\"{expandedCategoryId === category.id ? `border-color: ${colors.blue.primary}; box-shadow: 0 0 0 2px ${colors.blue.primary}20;` : ''}\"\n                  on:click={() => toggleCategory(category.id)}\n                >\n                  <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-center gap-3\">\n                      <div class=\"w-10 h-10 rounded-lg flex items-center justify-center\" style=\"background: linear-gradient(135deg, {colors.pink.primary}15, {colors.pink.light}10);\">\n                        <svg class=\"w-5 h-5\" style=\"color: {colors.pink.primary};\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <p class=\"font-medium text-gray-900\">{formatCategoryName(category.id)}</p>\n                        <p class=\"text-sm text-gray-500\">{category.artist_count} artists</p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      class=\"px-4 py-2 text-sm font-medium rounded-lg transition-all\"\n                      style=\"{category.subscribed ? `background: ${colors.pink.primary}; color: white;` : `background: white; border: 1px solid #e5e7eb; color: #374151;`}\"\n                      on:click={(e) => toggleCategorySubscription(category, e)}\n                    >\n                      {category.subscribed ? 'Blocking' : 'Block All'}\n                    </button>\n                  </div>\n                </button>\n\n                {#if expandedCategoryId === category.id}\n                  <div class=\"mt-2 bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                    {#if isLoadingCategoryArtists}\n                      <div class=\"flex justify-center py-6\">\n                        <div class=\"w-5 h-5 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n                      </div>\n                    {:else if categoryArtists.length === 0}\n                      <p class=\"text-center py-6 text-gray-500\">No artists in this category</p>\n                    {:else}\n                      <div class=\"max-h-64 overflow-y-auto divide-y divide-gray-100\">\n                        {#each categoryArtists as artist}\n                          {@const sev = getSeverityStyle(artist.severity)}\n                          <button\n                            type=\"button\"\n                            class=\"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors\"\n                            on:click={() => goToArtist(artist.id, artist.name)}\n                          >\n                            <div class=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium text-gray-600\">\n                              {artist.name.charAt(0)}\n                            </div>\n                            <p class=\"flex-1 font-medium text-gray-900 truncate\">{artist.name}</p>\n                            <span class=\"px-2 py-0.5 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                              {sev.label}\n                            </span>\n                            <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                            </svg>\n                          </button>\n                        {/each}\n                      </div>\n                    {/if}\n                  </div>\n                {/if}\n              </div>\n            {/each}\n          </div>\n        {/if}\n      </section>\n\n      <!-- Blocked Artists -->\n      <section>\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">\n          Your Blocked Artists\n          {#if blockedArtists.length > 0}\n            <span class=\"text-gray-500 font-normal\">({blockedArtists.length})</span>\n          {/if}\n        </h2>\n\n        {#if isLoadingBlocked}\n          <div class=\"flex justify-center py-12\">\n            <div class=\"w-6 h-6 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n          </div>\n        {:else if blockedArtists.length === 0}\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-10 text-center\">\n            <p class=\"text-gray-600\">No artists blocked yet</p>\n            <p class=\"text-sm text-gray-500 mt-1\">Subscribe to categories or search for artists</p>\n          </div>\n        {:else}\n          <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n            <div class=\"max-h-80 overflow-y-auto divide-y divide-gray-100\">\n              {#each blockedArtists as artist}\n                {@const sev = getSeverityStyle(artist.severity)}\n                <button\n                  type=\"button\"\n                  class=\"w-full flex items-center gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors\"\n                  on:click={() => goToArtist(artist.id, artist.name)}\n                >\n                  <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium text-white\" style=\"background: linear-gradient(135deg, {colors.pink.primary}, {colors.pink.light});\">\n                    {artist.name.charAt(0)}\n                  </div>\n                  <div class=\"flex-1 min-w-0\">\n                    <p class=\"font-medium text-gray-900 truncate\">{artist.name}</p>\n                    <p class=\"text-sm text-gray-500\">{formatCategoryName(artist.category)}</p>\n                  </div>\n                  <span class=\"px-2 py-0.5 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                    {sev.label}\n                  </span>\n                  <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </section>\n    </main>\n\n  {:else if currentView === 'artist'}\n    <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n      <div class=\"max-w-3xl mx-auto px-4 py-4\">\n        <button\n          type=\"button\"\n          class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors\"\n          on:click={goBack}\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back\n        </button>\n      </div>\n    </header>\n\n    <main class=\"max-w-3xl mx-auto px-4 py-6\">\n      {#if isLoadingArtistDetail}\n        <div class=\"flex justify-center py-20\">\n          <div class=\"w-8 h-8 border-2 rounded-full animate-spin\" style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"></div>\n        </div>\n      {:else if selectedArtist}\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden mb-6\">\n          <div class=\"p-6\" style=\"background: linear-gradient(135deg, {colors.blue.primary}08, {colors.blue.light}05);\">\n            <div class=\"flex items-center gap-4\">\n              <div class=\"w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold text-white\" style=\"background: linear-gradient(135deg, {colors.blue.primary}, {colors.blue.light});\">\n                {selectedArtist.canonical_name.charAt(0)}\n              </div>\n              <div>\n                <h1 class=\"text-2xl font-bold text-gray-900\">{selectedArtist.canonical_name}</h1>\n                {#if selectedArtist.genres && selectedArtist.genres.length > 0}\n                  <p class=\"text-gray-500 mt-1\">{selectedArtist.genres.join(', ')}</p>\n                {/if}\n              </div>\n            </div>\n          </div>\n          <div class=\"px-6 py-4 border-t border-gray-100 flex items-center justify-between\">\n            <div>\n              <p class=\"text-sm text-gray-500\">Status</p>\n              <p class=\"font-medium\" style=\"color: {dnpList.has(selectedArtist.id) ? colors.pink.primary : colors.green.primary};\">\n                {dnpList.has(selectedArtist.id) ? 'Blocked' : 'Not Blocked'}\n              </p>\n            </div>\n            <button\n              type=\"button\"\n              on:click={() => selectedArtist && toggleArtistBlock(selectedArtist.id)}\n              disabled={blockingArtistId === selectedArtist?.id}\n              class=\"px-5 py-2.5 rounded-lg font-medium transition-all disabled:opacity-50\"\n              style=\"{dnpList.has(selectedArtist.id) ? 'background: #f3f4f6; color: #374151;' : `background: ${colors.pink.primary}; color: white;`}\"\n            >\n              {#if blockingArtistId === selectedArtist?.id}\n                <span class=\"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin\"></span>\n              {:else if dnpList.has(selectedArtist.id)}\n                Unblock\n              {:else}\n                Block Artist\n              {/if}\n            </button>\n          </div>\n        </div>\n\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Documented Incidents</h2>\n\n        {#if selectedArtist.offenses && selectedArtist.offenses.length > 0}\n          <div class=\"space-y-4\">\n            {#each selectedArtist.offenses as offense}\n              {@const sev = getSeverityStyle(offense.severity)}\n              <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                <div class=\"p-5\">\n                  <div class=\"flex items-center gap-2 mb-3\">\n                    <span class=\"px-2.5 py-1 text-xs font-medium rounded bg-gray-100 text-gray-700\">\n                      {formatCategoryName(offense.category)}\n                    </span>\n                    <span class=\"px-2.5 py-1 text-xs font-medium rounded\" style=\"{sev.bg} {sev.text}\">\n                      {sev.label}\n                    </span>\n                  </div>\n                  <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{offense.title}</h3>\n                  <p class=\"text-gray-600 leading-relaxed\">{offense.description}</p>\n\n                  {#if offense.incident_date}\n                    <p class=\"text-sm text-gray-500 mt-4\">\n                      {new Date(offense.incident_date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}\n                    </p>\n                  {/if}\n\n                  {#if offense.evidence && offense.evidence.length > 0}\n                    <div class=\"mt-5 pt-5 border-t border-gray-100\">\n                      <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3\">\n                        Sources ({offense.evidence.length})\n                      </p>\n                      <div class=\"space-y-2\">\n                        {#each offense.evidence as evidence}\n                          <a\n                            href={evidence.source_url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            class=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                          >\n                            <svg class=\"w-4 h-4 flex-shrink-0\" style=\"color: {colors.blue.primary};\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                            </svg>\n                            <div class=\"flex-1 min-w-0\">\n                              <p class=\"text-sm font-medium text-gray-900 truncate\">\n                                {evidence.title || evidence.source_name || 'View Source'}\n                              </p>\n                              {#if evidence.source_name && evidence.title}\n                                <p class=\"text-xs text-gray-500\">{evidence.source_name}</p>\n                              {/if}\n                            </div>\n                            {#if evidence.credibility_score}\n                              <div class=\"flex gap-0.5\" style=\"color: {colors.green.light};\">\n                                {#each Array(evidence.credibility_score) as _}\n                                  <span class=\"text-xs\"></span>\n                                {/each}\n                              </div>\n                            {/if}\n                          </a>\n                        {/each}\n                      </div>\n                    </div>\n                  {/if}\n                </div>\n              </div>\n            {/each}\n          </div>\n        {:else}\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-10 text-center\">\n            <p class=\"text-gray-600\">No documented incidents</p>\n            <p class=\"text-sm text-gray-500 mt-1\">No offense records found for this artist</p>\n          </div>\n        {/if}\n      {/if}\n    </main>\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { currentUser, authActions } from '../stores/auth';\n  import { navigateTo } from '../utils/simple-router';\n  import { apiClient } from '../utils/api-client';\n\n  // Triadic color palette\n  const colors = {\n    green: { primary: '#30AF22', light: '#59BA48' },\n    blue: { primary: '#009BD7', light: '#00B4FF' },\n    pink: { primary: '#FF2C6E', light: '#FF728F' }\n  };\n\n  interface ConnectedAccount {\n    provider: string;\n    provider_user_id: string;\n    email?: string;\n    display_name?: string;\n    linked_at: string;\n  }\n\n  let isLoggingOut = false;\n  let connectedAccounts: ConnectedAccount[] = [];\n  let isLoadingConnections = true;\n  let connectingProvider: string | null = null;\n  let connectionError: string | null = null;\n\n  let blockFeatured = true;\n  let blockProducers = false;\n  let notifications = true;\n\n  onMount(async () => {\n    await loadConnections();\n  });\n\n  async function loadConnections() {\n    isLoadingConnections = true;\n    try {\n      const result = await apiClient.get<ConnectedAccount[]>('/api/v1/auth/oauth/accounts');\n      if (result.success && result.data) {\n        connectedAccounts = result.data;\n      }\n    } catch (e) {\n      console.error('Failed to load connections:', e);\n    } finally {\n      isLoadingConnections = false;\n    }\n  }\n\n  function isConnected(provider: string): boolean {\n    return connectedAccounts.some(a => a.provider === provider);\n  }\n\n  async function initiateOAuth(provider: string) {\n    connectingProvider = provider;\n    connectionError = null;\n    try {\n      const result = await apiClient.post<{ auth_url: string }>(`/api/v1/auth/oauth/${provider}/link`);\n      if (result.success && result.data?.auth_url) {\n        window.location.href = result.data.auth_url;\n      } else {\n        connectionError = 'Failed to initiate connection';\n      }\n    } catch (e) {\n      connectionError = 'Failed to connect. Please try again.';\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function disconnectService(provider: string) {\n    connectingProvider = provider;\n    try {\n      const result = await apiClient.delete(`/api/v1/auth/oauth/${provider}/unlink`);\n      if (result.success) {\n        connectedAccounts = connectedAccounts.filter(a => a.provider !== provider);\n      }\n    } catch (e) {\n      console.error('Disconnect failed:', e);\n    } finally {\n      connectingProvider = null;\n    }\n  }\n\n  async function handleLogout() {\n    isLoggingOut = true;\n    try {\n      await authActions.logout();\n      window.location.href = '/';\n    } catch (e) {\n      isLoggingOut = false;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen bg-white\">\n  <header class=\"sticky top-0 z-50 bg-white border-b border-gray-200\">\n    <div class=\"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4\">\n      <button\n        on:click={() => navigateTo('home')}\n        class=\"p-2 rounded-lg text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-colors\"\n        style=\"--focus-color: {colors.blue.primary};\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n      </button>\n      <h1 class=\"text-xl font-semibold text-gray-900\">Settings</h1>\n    </div>\n  </header>\n\n  <main class=\"max-w-2xl mx-auto px-4 py-6 space-y-6\">\n    <!-- Account -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Account</h2>\n      </div>\n      <div class=\"p-5 bg-white\">\n        <p class=\"text-sm text-gray-500\">Email</p>\n        <p class=\"mt-1 font-medium text-gray-900\">{$currentUser?.email || 'Not signed in'}</p>\n      </div>\n    </section>\n\n    <!-- Music Services -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Music Services</h2>\n        <p class=\"text-sm text-gray-500 mt-1\">Connect your streaming accounts to sync your blocklist</p>\n      </div>\n\n      {#if connectionError}\n        <div class=\"mx-5 mt-4 p-4 rounded-lg\" style=\"background-color: #FFE5ED; border: 1px solid {colors.pink.light};\">\n          <p class=\"text-sm\" style=\"color: {colors.pink.primary};\">{connectionError}</p>\n        </div>\n      {/if}\n\n      <div class=\"bg-white divide-y divide-gray-100\">\n        <!-- Spotify -->\n        <div class=\"p-5 flex items-center justify-between\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"w-12 h-12 bg-[#1DB954] rounded-full flex items-center justify-center\">\n              <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z\"/>\n              </svg>\n            </div>\n            <div>\n              <p class=\"font-medium text-gray-900\">Spotify</p>\n              {#if isLoadingConnections}\n                <p class=\"text-sm text-gray-500\">Loading...</p>\n              {:else if isConnected('spotify')}\n                <p class=\"text-sm font-medium\" style=\"color: {colors.green.primary};\">Connected</p>\n              {:else}\n                <p class=\"text-sm text-gray-500\">Not connected</p>\n              {/if}\n            </div>\n          </div>\n          {#if isConnected('spotify')}\n            <button\n              on:click={() => disconnectService('spotify')}\n              disabled={connectingProvider === 'spotify'}\n              class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'spotify' ? 'Disconnecting...' : 'Disconnect'}\n            </button>\n          {:else}\n            <button\n              on:click={() => initiateOAuth('spotify')}\n              disabled={connectingProvider === 'spotify'}\n              class=\"px-4 py-2 bg-[#1DB954] text-white rounded-lg text-sm font-medium hover:bg-[#1ed760] transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'spotify' ? 'Connecting...' : 'Connect'}\n            </button>\n          {/if}\n        </div>\n\n        <!-- Apple Music -->\n        <div class=\"p-5 flex items-center justify-between\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"w-12 h-12 bg-gradient-to-br from-[#FA2D48] to-[#A833B9] rounded-full flex items-center justify-center\">\n              <svg class=\"w-7 h-7 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.785-.476-2.144-1.32-.238-.56-.223-1.136-.017-1.7.303-.825.96-1.277 1.743-1.49.294-.08.595-.13.893-.18.323-.054.65-.1.973-.157.274-.048.47-.202.53-.486a.707.707 0 00.017-.146c.002-1.633.002-3.265.002-4.898v-.07l-.06-.01c-2.097.4-4.194.8-6.29 1.202-.014.002-.032.014-.037.026-.006.016-.003.037-.003.056v7.36c0 .418-.052.832-.227 1.218-.282.622-.76 1.02-1.416 1.207-.313.09-.634.138-.96.166-.906.08-1.732-.4-2.134-1.203-.268-.534-.278-1.1-.096-1.66.267-.817.864-1.304 1.64-1.55.376-.12.763-.185 1.148-.25.278-.047.558-.088.832-.145.317-.065.522-.25.58-.574a.504.504 0 00.007-.115v-8.41c0-.25.042-.493.15-.72.183-.385.486-.62.882-.728.17-.047.346-.073.522-.11 2.55-.526 5.1-1.05 7.65-1.573.093-.02.19-.03.285-.03.316.004.528.2.613.5.032.113.044.233.044.35v5.9z\"/>\n              </svg>\n            </div>\n            <div>\n              <p class=\"font-medium text-gray-900\">Apple Music</p>\n              {#if isLoadingConnections}\n                <p class=\"text-sm text-gray-500\">Loading...</p>\n              {:else if isConnected('apple')}\n                <p class=\"text-sm font-medium\" style=\"color: {colors.green.primary};\">Connected</p>\n              {:else}\n                <p class=\"text-sm text-gray-500\">Not connected</p>\n              {/if}\n            </div>\n          </div>\n          {#if isConnected('apple')}\n            <button\n              on:click={() => disconnectService('apple')}\n              disabled={connectingProvider === 'apple'}\n              class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\"\n            >\n              {connectingProvider === 'apple' ? 'Disconnecting...' : 'Disconnect'}\n            </button>\n          {:else}\n            <button\n              on:click={() => initiateOAuth('apple')}\n              disabled={connectingProvider === 'apple'}\n              class=\"px-4 py-2 bg-gradient-to-r from-[#FA2D48] to-[#A833B9] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-opacity disabled:opacity-50\"\n            >\n              {connectingProvider === 'apple' ? 'Connecting...' : 'Connect'}\n            </button>\n          {/if}\n        </div>\n      </div>\n    </section>\n\n    <!-- Preferences -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Preferences</h2>\n      </div>\n      <div class=\"bg-white divide-y divide-gray-100\">\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">Block featured artists</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Also block songs where artist is featured</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => blockFeatured = !blockFeatured}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {blockFeatured ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {blockFeatured ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">Block producer credits</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Block songs produced by blocked artists</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => blockProducers = !blockProducers}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {blockProducers ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {blockProducers ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n        <div class=\"p-5 flex items-center justify-between\">\n          <div>\n            <p class=\"font-medium text-gray-900\">News notifications</p>\n            <p class=\"text-sm text-gray-500 mt-0.5\">Get notified when new artists are added</p>\n          </div>\n          <button\n            type=\"button\"\n            on:click={() => notifications = !notifications}\n            class=\"relative w-11 h-6 rounded-full transition-colors\"\n            style=\"background-color: {notifications ? colors.blue.primary : '#d1d5db'};\"\n          >\n            <span\n              class=\"absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform\"\n              style=\"left: {notifications ? '22px' : '2px'};\"\n            ></span>\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <!-- Account Actions -->\n    <section class=\"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden\">\n      <div class=\"px-5 py-4 border-b border-gray-200 bg-white\">\n        <h2 class=\"font-semibold text-gray-900\">Account Actions</h2>\n      </div>\n      <div class=\"p-5 bg-white space-y-3\">\n        <button\n          on:click={handleLogout}\n          disabled={isLoggingOut}\n          class=\"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 disabled:opacity-50\"\n        >\n          {#if isLoggingOut}\n            <div\n              class=\"w-4 h-4 border-2 rounded-full animate-spin\"\n              style=\"border-color: {colors.blue.primary}; border-top-color: transparent;\"\n            ></div>\n            <span>Signing out...</span>\n          {:else}\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n            </svg>\n            <span>Sign out</span>\n          {/if}\n        </button>\n        <button\n          class=\"w-full px-4 py-3 rounded-lg text-sm font-medium transition-colors\"\n          style=\"background-color: #FFE5ED; color: {colors.pink.primary}; border: 1px solid {colors.pink.light};\"\n        >\n          Delete account\n        </button>\n      </div>\n    </section>\n\n    <p class=\"text-center text-sm text-gray-400\">\n      No Drake in the House v1.0.0\n    </p>\n  </main>\n</div>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { apiClient } from '../utils/api-client';\n  import { navigateTo } from '../utils/simple-router';\n\n  let status: 'loading' | 'success' | 'error' = 'loading';\n  let errorMessage = '';\n  let provider = '';\n\n  onMount(async () => {\n    // Parse URL parameters\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n    const state = params.get('state');\n    const error = params.get('error');\n    const errorDescription = params.get('error_description');\n\n    // Extract provider from path (e.g., /auth/callback/spotify)\n    const pathParts = window.location.pathname.split('/');\n    provider = pathParts[pathParts.length - 1] || 'unknown';\n\n    // Handle OAuth errors\n    if (error) {\n      status = 'error';\n      errorMessage = errorDescription || error || 'Authentication was cancelled or denied';\n      return;\n    }\n\n    if (!code || !state) {\n      status = 'error';\n      errorMessage = 'Missing authentication parameters';\n      return;\n    }\n\n    try {\n      // Complete the OAuth link flow\n      const result = await apiClient.post(`/api/v1/auth/oauth/${provider}/link-callback`, {\n        code,\n        state\n      });\n\n      if (result.success) {\n        status = 'success';\n        // Redirect to settings after a brief moment\n        setTimeout(() => {\n          navigateTo('settings');\n        }, 1500);\n      } else {\n        status = 'error';\n        errorMessage = result.message || 'Failed to link account';\n      }\n    } catch (e) {\n      status = 'error';\n      errorMessage = e instanceof Error ? e.message : 'An unexpected error occurred';\n    }\n  });\n\n  function goToSettings() {\n    navigateTo('settings');\n  }\n\n  function goHome() {\n    navigateTo('home');\n  }\n\n  function getProviderName(p: string): string {\n    switch (p) {\n      case 'spotify': return 'Spotify';\n      case 'apple': return 'Apple Music';\n      case 'google': return 'Google';\n      case 'github': return 'GitHub';\n      default: return p;\n    }\n  }\n</script>\n\n<div class=\"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4\">\n  <div class=\"bg-gray-800 rounded-xl border border-gray-600 p-8 max-w-md w-full text-center\">\n    {#if status === 'loading'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2\">Connecting {getProviderName(provider)}</h1>\n      <p class=\"text-gray-400\">Please wait while we complete the connection...</p>\n    {:else if status === 'success'}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-green-400\">Connected!</h1>\n      <p class=\"text-gray-400 mb-6\">Your {getProviderName(provider)} account has been linked successfully.</p>\n      <button\n        on:click={goToSettings}\n        class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n      >\n        Go to Settings\n      </button>\n    {:else}\n      <div class=\"mb-6\">\n        <div class=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </div>\n      </div>\n      <h1 class=\"text-xl font-bold mb-2 text-red-400\">Connection Failed</h1>\n      <p class=\"text-gray-400 mb-6\">{errorMessage}</p>\n      <div class=\"flex gap-3 justify-center\">\n        <button\n          on:click={goToSettings}\n          class=\"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors\"\n        >\n          Try Again\n        </button>\n        <button\n          on:click={goHome}\n          class=\"px-6 py-3 bg-rose-600 hover:bg-rose-700 rounded-lg font-medium transition-colors\"\n        >\n          Go Home\n        </button>\n      </div>\n    {/if}\n  </div>\n</div>\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    status: [],\n    runs: [],\n    currentRun: null,\n    health: null,\n    canonicalArtists: [],\n    isLoading: false,\n    isTriggering: false,\n    error: null,\n};\n// Store\nexport const syncStore = writable(initialState);\n// Derived stores\nexport const isAnySyncRunning = derived(syncStore, ($sync) => $sync.status.some(s => s.status === 'running'));\nexport const platformsStatus = derived(syncStore, ($sync) => $sync.status);\nexport const recentRuns = derived(syncStore, ($sync) => $sync.runs.slice(0, 10));\n// Actions\nexport const syncActions = {\n    fetchStatus: async () => {\n        syncStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/sync/status');\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    status: result.data.platforms,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch sync status',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    triggerSync: async (request) => {\n        syncStore.update(s => ({ ...s, isTriggering: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/sync/trigger', request);\n            if (result.success && result.data) {\n                syncStore.update(s => ({ ...s, isTriggering: false }));\n                // Refresh status after triggering\n                await syncActions.fetchStatus();\n                await syncActions.fetchRuns();\n                return { success: true, runId: result.data.run_id };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isTriggering: false,\n                    error: result.message || 'Failed to trigger sync',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isTriggering: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRuns: async (limit = 20) => {\n        syncStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/runs?limit=${limit}`);\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    runs: result.data.runs,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                syncStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch sync runs',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            syncStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRun: async (runId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/runs/${runId}`);\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    currentRun: result.data,\n                }));\n                return { success: true, run: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    cancelRun: async (runId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', `/api/v1/sync/runs/${runId}/cancel`);\n            if (result.success) {\n                await syncActions.fetchRuns();\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/sync/health');\n            if (result.success && result.data) {\n                syncStore.update(s => ({\n                    ...s,\n                    health: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    searchArtists: async (query) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/sync/search?q=${encodeURIComponent(query)}`);\n            if (result.success && result.data) {\n                return { success: true, artists: result.data.artists };\n            }\n            else {\n                return { success: false, message: result.message, artists: [] };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message, artists: [] };\n        }\n    },\n    clearError: () => {\n        syncStore.update(s => ({ ...s, error: null }));\n    },\n};\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { syncStore, syncActions, isAnySyncRunning, platformsStatus, recentRuns } from '../stores/sync';\n  import type { TriggerSyncRequest } from '../stores/sync';\n  import { navigateTo } from '../utils/simple-router';\n\n  let selectedPlatforms: string[] = [];\n  let syncType: 'full' | 'incremental' = 'incremental';\n  let priority: 'low' | 'normal' | 'high' | 'critical' = 'normal';\n  let showTriggerModal = false;\n\n  const platforms = [\n    { id: 'spotify', name: 'Spotify', icon: '' },\n    { id: 'apple', name: 'Apple Music', icon: '' },\n    { id: 'tidal', name: 'Tidal', icon: '' },\n    { id: 'youtube', name: 'YouTube Music', icon: '' },\n    { id: 'deezer', name: 'Deezer', icon: '' },\n  ];\n\n  onMount(async () => {\n    await Promise.all([\n      syncActions.fetchStatus(),\n      syncActions.fetchRuns(),\n      syncActions.fetchHealth(),\n    ]);\n  });\n\n  function getStatusColor(status: string): string {\n    switch (status) {\n      case 'running': return 'bg-blue-100 text-blue-700';\n      case 'completed': return 'bg-green-100 text-green-700';\n      case 'error': case 'failed': return 'bg-red-100 text-red-700';\n      case 'cancelled': return 'bg-gray-100 text-gray-700';\n      default: return 'bg-gray-100 text-gray-600';\n    }\n  }\n\n  function getStatusIcon(status: string): string {\n    switch (status) {\n      case 'running': return '';\n      case 'completed': return '';\n      case 'error': case 'failed': return '';\n      case 'cancelled': return '';\n      default: return '';\n    }\n  }\n\n  function formatDuration(ms?: number): string {\n    if (!ms) return '-';\n    if (ms < 1000) return `${ms}ms`;\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n    return `${(ms / 60000).toFixed(1)}m`;\n  }\n\n  function formatDate(dateStr?: string): string {\n    if (!dateStr) return 'Never';\n    const date = new Date(dateStr);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n\n    if (diff < 60000) return 'Just now';\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n    return date.toLocaleDateString();\n  }\n\n  function openTriggerModal() {\n    selectedPlatforms = [];\n    syncType = 'incremental';\n    priority = 'normal';\n    showTriggerModal = true;\n  }\n\n  function closeTriggerModal() {\n    showTriggerModal = false;\n  }\n\n  function togglePlatform(platformId: string) {\n    if (selectedPlatforms.includes(platformId)) {\n      selectedPlatforms = selectedPlatforms.filter(p => p !== platformId);\n    } else {\n      selectedPlatforms = [...selectedPlatforms, platformId];\n    }\n  }\n\n  async function handleTriggerSync() {\n    if (selectedPlatforms.length === 0) return;\n\n    const request: TriggerSyncRequest = {\n      platforms: selectedPlatforms,\n      sync_type: syncType,\n      priority,\n    };\n\n    const result = await syncActions.triggerSync(request);\n    if (result.success) {\n      closeTriggerModal();\n    }\n  }\n\n  async function handleCancelRun(runId: string) {\n    await syncActions.cancelRun(runId);\n  }\n\n  $: healthStatus = $syncStore.health?.overall_status ?? 'unknown';\n  $: healthColor = healthStatus === 'healthy' ? 'text-green-600' :\n                   healthStatus === 'degraded' ? 'text-yellow-600' : 'text-red-600';\n</script>\n\n<div class=\"min-h-screen bg-gradient-to-b from-blue-50 to-white\">\n  <!-- Header -->\n  <div class=\"bg-white border-b border-gray-100\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">\n            Catalog Sync\n          </h1>\n          <p class=\"text-lg text-gray-600\">\n            Synchronize artist catalogs across streaming platforms.\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          on:click={openTriggerModal}\n          disabled={$isAnySyncRunning || $syncStore.isTriggering}\n          class=\"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n        >\n          {#if $syncStore.isTriggering}\n            <span class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></span>\n            Starting...\n          {:else}\n            <span></span> Trigger Sync\n          {/if}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Health Status -->\n    {#if $syncStore.health}\n      <div class=\"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center gap-3\">\n            <span class=\"text-2xl\">\n              {healthStatus === 'healthy' ? '' : healthStatus === 'degraded' ? '' : ''}\n            </span>\n            <div>\n              <span class=\"font-medium text-gray-900\">Overall Health:</span>\n              <span class=\"{healthColor} font-semibold ml-2 capitalize\">{healthStatus}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-4 text-sm text-gray-500\">\n            {#each $syncStore.health.platforms as platform}\n              <div class=\"flex items-center gap-1\">\n                <span class={platform.is_healthy ? 'text-green-500' : 'text-red-500'}>\n                  {platform.is_healthy ? '' : ''}\n                </span>\n                <span class=\"capitalize\">{platform.platform}</span>\n              </div>\n            {/each}\n          </div>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Error display -->\n    {#if $syncStore.error}\n      <div class=\"bg-red-50 border border-red-200 rounded-xl p-4 mb-6\">\n        <div class=\"flex items-center gap-2 text-red-700\">\n          <span></span>\n          <span>{$syncStore.error}</span>\n          <button type=\"button\" on:click={syncActions.clearError} class=\"ml-auto text-red-500 hover:text-red-700\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Platform Status Grid -->\n    <div class=\"mb-8\">\n      <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">Platform Status</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {#each platforms as platform}\n          {@const status = $platformsStatus.find(s => s.platform === platform.id)}\n          <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n            <div class=\"flex items-start justify-between mb-3\">\n              <div class=\"flex items-center gap-3\">\n                <span class=\"text-2xl\">{platform.icon}</span>\n                <div>\n                  <div class=\"font-medium text-gray-900\">{platform.name}</div>\n                  {#if status}\n                    <span class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium {getStatusColor(status.status)}\">\n                      {getStatusIcon(status.status)} {status.status}\n                    </span>\n                  {:else}\n                    <span class=\"text-xs text-gray-400\">Not synced</span>\n                  {/if}\n                </div>\n              </div>\n            </div>\n            {#if status}\n              <div class=\"space-y-1 text-sm text-gray-600\">\n                <div class=\"flex justify-between\">\n                  <span>Artists:</span>\n                  <span class=\"font-medium\">{status.artists_count?.toLocaleString() ?? 0}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span>Last sync:</span>\n                  <span class=\"font-medium\">{formatDate(status.last_sync)}</span>\n                </div>\n              </div>\n              {#if status.error_message}\n                <div class=\"mt-2 text-xs text-red-600 bg-red-50 rounded p-2\">\n                  {status.error_message}\n                </div>\n              {/if}\n            {/if}\n          </div>\n        {/each}\n      </div>\n    </div>\n\n    <!-- Recent Sync Runs -->\n    <div>\n      <div class=\"flex items-center justify-between mb-4\">\n        <h2 class=\"text-xl font-semibold text-gray-900\">Recent Sync Runs</h2>\n        <button\n          type=\"button\"\n          on:click={() => syncActions.fetchRuns()}\n          class=\"text-indigo-600 hover:text-indigo-700 text-sm font-medium flex items-center gap-1\"\n        >\n          <span></span> Refresh\n        </button>\n      </div>\n\n      {#if $syncStore.isLoading}\n        <div class=\"flex justify-center py-12\">\n          <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n        </div>\n      {:else if $recentRuns.length === 0}\n        <div class=\"bg-gray-50 rounded-xl p-8 text-center\">\n          <span class=\"text-4xl mb-3 block\"></span>\n          <p class=\"text-gray-600\">No sync runs yet. Trigger your first sync above.</p>\n        </div>\n      {:else}\n        <div class=\"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n          <table class=\"w-full\">\n            <thead class=\"bg-gray-50 border-b border-gray-100\">\n              <tr>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Platform</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Type</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Artists</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Duration</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Started</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Actions</th>\n              </tr>\n            </thead>\n            <tbody class=\"divide-y divide-gray-100\">\n              {#each $recentRuns as run}\n                <tr class=\"hover:bg-gray-50\">\n                  <td class=\"px-4 py-3\">\n                    <span class=\"capitalize font-medium\">{run.platform}</span>\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    <span class=\"px-2 py-0.5 rounded text-xs {run.sync_type === 'full' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'}\">\n                      {run.sync_type}\n                    </span>\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    <span class=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium {getStatusColor(run.status)}\">\n                      {getStatusIcon(run.status)} {run.status}\n                    </span>\n                  </td>\n                  <td class=\"px-4 py-3 text-gray-600\">\n                    {run.artists_processed.toLocaleString()}\n                    {#if run.errors_count > 0}\n                      <span class=\"text-red-500 ml-1\">({run.errors_count} errors)</span>\n                    {/if}\n                  </td>\n                  <td class=\"px-4 py-3 text-gray-600\">\n                    {formatDuration(run.duration_ms)}\n                  </td>\n                  <td class=\"px-4 py-3 text-gray-600\">\n                    {formatDate(run.started_at)}\n                  </td>\n                  <td class=\"px-4 py-3\">\n                    {#if run.status === 'running' || run.status === 'pending'}\n                      <button\n                        type=\"button\"\n                        on:click={() => handleCancelRun(run.id)}\n                        class=\"text-red-600 hover:text-red-700 text-sm font-medium\"\n                      >\n                        Cancel\n                      </button>\n                    {:else}\n                      <button\n                        type=\"button\"\n                        on:click={() => syncActions.fetchRun(run.id)}\n                        class=\"text-indigo-600 hover:text-indigo-700 text-sm font-medium\"\n                      >\n                        Details\n                      </button>\n                    {/if}\n                  </td>\n                </tr>\n              {/each}\n            </tbody>\n          </table>\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<!-- Trigger Sync Modal -->\n{#if showTriggerModal}\n  <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\" on:click={closeTriggerModal} role=\"dialog\" aria-modal=\"true\">\n    <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n    <div class=\"bg-white rounded-2xl max-w-lg w-full p-6 shadow-xl\" on:click|stopPropagation role=\"document\">\n      <div class=\"flex items-center mb-6\">\n        <div class=\"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center text-2xl mr-4\">\n          \n        </div>\n        <div>\n          <h3 class=\"text-xl font-bold text-gray-900\">Trigger Catalog Sync</h3>\n          <p class=\"text-gray-600\">Select platforms and sync options</p>\n        </div>\n      </div>\n\n      <!-- Platform Selection -->\n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium text-gray-700 mb-3\">Platforms</label>\n        <div class=\"grid grid-cols-2 gap-2\">\n          {#each platforms as platform}\n            <button\n              type=\"button\"\n              on:click={() => togglePlatform(platform.id)}\n              class=\"p-3 rounded-xl border-2 transition-all text-left flex items-center gap-2 {\n                selectedPlatforms.includes(platform.id)\n                  ? 'border-indigo-500 bg-indigo-50'\n                  : 'border-gray-200 hover:border-gray-300'\n              }\"\n            >\n              <span class=\"text-xl\">{platform.icon}</span>\n              <span class=\"font-medium\">{platform.name}</span>\n            </button>\n          {/each}\n        </div>\n      </div>\n\n      <!-- Sync Type -->\n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium text-gray-700 mb-3\">Sync Type</label>\n        <div class=\"grid grid-cols-2 gap-2\">\n          <button\n            type=\"button\"\n            on:click={() => syncType = 'incremental'}\n            class=\"p-3 rounded-xl border-2 transition-all text-left {\n              syncType === 'incremental' ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-gray-300'\n            }\"\n          >\n            <div class=\"font-medium\">Incremental</div>\n            <div class=\"text-xs text-gray-500\">Only new/changed artists</div>\n          </button>\n          <button\n            type=\"button\"\n            on:click={() => syncType = 'full'}\n            class=\"p-3 rounded-xl border-2 transition-all text-left {\n              syncType === 'full' ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-gray-300'\n            }\"\n          >\n            <div class=\"font-medium\">Full</div>\n            <div class=\"text-xs text-gray-500\">Complete catalog refresh</div>\n          </button>\n        </div>\n      </div>\n\n      <!-- Priority -->\n      <div class=\"mb-6\">\n        <label for=\"priority\" class=\"block text-sm font-medium text-gray-700 mb-2\">Priority</label>\n        <select\n          id=\"priority\"\n          bind:value={priority}\n          class=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n        >\n          <option value=\"low\">Low</option>\n          <option value=\"normal\">Normal</option>\n          <option value=\"high\">High</option>\n          <option value=\"critical\">Critical</option>\n        </select>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex gap-3\">\n        <button\n          type=\"button\"\n          on:click={closeTriggerModal}\n          class=\"flex-1 px-4 py-3 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          on:click={handleTriggerSync}\n          disabled={selectedPlatforms.length === 0 || $syncStore.isTriggering}\n          class=\"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {#if $syncStore.isTriggering}\n            Starting...\n          {:else}\n            Start Sync\n          {/if}\n        </button>\n      </div>\n    </div>\n  </div>\n{/if}\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    dashboard: null,\n    userStats: null,\n    systemHealth: null,\n    trends: {\n        summary: null,\n        artists: [],\n        platforms: [],\n    },\n    reportTypes: [],\n    reports: [],\n    currentReport: null,\n    // Trouble scores\n    troubleLeaderboard: [],\n    tierDistribution: null,\n    selectedArtistScore: null,\n    // Revenue\n    revenueDistribution: null,\n    topArtistsByRevenue: [],\n    problematicArtistRevenue: [],\n    payoutRates: [],\n    isLoading: false,\n    error: null,\n};\n// Store\nexport const analyticsStore = writable(initialState);\n// Derived stores\nexport const isSystemHealthy = derived(analyticsStore, ($analytics) => $analytics.systemHealth?.overall === 'healthy');\nexport const risingArtists = derived(analyticsStore, ($analytics) => $analytics.trends.artists.filter(a => a.trend === 'rising'));\nexport const fallingArtists = derived(analyticsStore, ($analytics) => $analytics.trends.artists.filter(a => a.trend === 'falling'));\n// Actions\nexport const analyticsActions = {\n    fetchDashboard: async (timeRange = 'last7days') => {\n        analyticsStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/dashboard?time_range=${timeRange}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    dashboard: result.data,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                analyticsStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch dashboard',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            analyticsStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchUserStats: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/dashboard/user-stats');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    userStats: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchSystemHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/health');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    systemHealth: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTrendSummary: async (periodDays = 7) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends?period_days=${periodDays}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        summary: result.data,\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchRisingArtists: async (limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends/rising?limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        artists: [\n                            ...s.trends.artists.filter(a => a.trend !== 'rising'),\n                            ...result.data.artists.map(a => ({ ...a, trend: 'rising' })),\n                        ],\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchFallingArtists: async (limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trends/falling?limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    trends: {\n                        ...s.trends,\n                        artists: [\n                            ...s.trends.artists.filter(a => a.trend !== 'falling'),\n                            ...result.data.artists.map(a => ({ ...a, trend: 'falling' })),\n                        ],\n                    },\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchReportTypes: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/reports/types');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    reportTypes: result.data.report_types,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    generateReport: async (request) => {\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/analytics/reports', request);\n            if (result.success && result.data) {\n                return { success: true, reportId: result.data.report_id };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchReportStatus: async (reportId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/reports/${reportId}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    currentReport: result.data,\n                }));\n                return { success: true, report: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    clearError: () => {\n        analyticsStore.update(s => ({ ...s, error: null }));\n    },\n    // Trouble Score Actions\n    fetchTroubleLeaderboard: async (minTier, limit = 20, offset = 0) => {\n        try {\n            const params = new URLSearchParams({ limit: limit.toString(), offset: offset.toString() });\n            if (minTier)\n                params.append('min_tier', minTier);\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trouble-scores/leaderboard?${params}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    troubleLeaderboard: result.data.entries,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTierDistribution: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/trouble-scores/distribution');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    tierDistribution: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchArtistTroubleScore: async (artistId) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/trouble-scores/${artistId}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    selectedArtistScore: result.data,\n                }));\n                return { success: true, score: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    // Revenue Actions\n    fetchRevenueDistribution: async (days = 30, platform) => {\n        try {\n            const params = new URLSearchParams({ days: days.toString() });\n            if (platform)\n                params.append('platform', platform);\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/distribution?${params}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    revenueDistribution: result.data,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchTopArtistsByRevenue: async (days = 30, limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/top-artists?days=${days}&limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    topArtistsByRevenue: result.data.artists,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchProblematicArtistRevenue: async (days = 30, minTier = 'moderate', limit = 10) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/problematic?days=${days}&min_tier=${minTier}&limit=${limit}`);\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    problematicArtistRevenue: result.data.artists,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchPayoutRates: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/analytics/revenue/payout-rates');\n            if (result.success && result.data) {\n                analyticsStore.update(s => ({\n                    ...s,\n                    payoutRates: result.data.rates,\n                }));\n                return { success: true };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchArtistRevenue: async (artistId, days = 30) => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/analytics/revenue/artist/${artistId}?days=${days}`);\n            if (result.success && result.data) {\n                return { success: true, breakdown: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n};\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import {\n    analyticsStore,\n    analyticsActions,\n    isSystemHealthy,\n    risingArtists,\n    fallingArtists\n  } from '../stores/analytics';\n  import type { ReportRequest } from '../stores/analytics';\n  import { navigateTo } from '../utils/simple-router';\n\n  let selectedTimeRange = 'last7days';\n  let selectedPeriodDays = 7;\n  let showReportModal = false;\n  let reportType = 'user_activity';\n  let reportFormat: 'json' | 'csv' | 'parquet' | 'html' = 'json';\n  let includeDetails = true;\n\n  const timeRanges = [\n    { value: 'last24h', label: 'Last 24 Hours', days: 1 },\n    { value: 'last7days', label: 'Last 7 Days', days: 7 },\n    { value: 'last30days', label: 'Last 30 Days', days: 30 },\n    { value: 'last90days', label: 'Last 90 Days', days: 90 },\n  ];\n\n  onMount(async () => {\n    await Promise.all([\n      analyticsActions.fetchDashboard(selectedTimeRange),\n      analyticsActions.fetchUserStats(),\n      analyticsActions.fetchSystemHealth(),\n      analyticsActions.fetchTrendSummary(selectedPeriodDays),\n      analyticsActions.fetchRisingArtists(),\n      analyticsActions.fetchFallingArtists(),\n      analyticsActions.fetchReportTypes(),\n    ]);\n  });\n\n  async function handleTimeRangeChange() {\n    const range = timeRanges.find(r => r.value === selectedTimeRange);\n    if (range) {\n      selectedPeriodDays = range.days;\n      await Promise.all([\n        analyticsActions.fetchDashboard(selectedTimeRange),\n        analyticsActions.fetchTrendSummary(selectedPeriodDays),\n      ]);\n    }\n  }\n\n  function openReportModal() {\n    showReportModal = true;\n  }\n\n  function closeReportModal() {\n    showReportModal = false;\n  }\n\n  async function handleGenerateReport() {\n    const request: ReportRequest = {\n      report_type: reportType,\n      format: reportFormat,\n      time_range: selectedTimeRange,\n      include_details: includeDetails,\n    };\n\n    const result = await analyticsActions.generateReport(request);\n    if (result.success && result.reportId) {\n      // Start polling for report status\n      pollReportStatus(result.reportId);\n      closeReportModal();\n    }\n  }\n\n  async function pollReportStatus(reportId: string) {\n    const result = await analyticsActions.fetchReportStatus(reportId);\n    if (result.success && result.report) {\n      if (result.report.status === 'pending' || result.report.status === 'processing') {\n        setTimeout(() => pollReportStatus(reportId), 2000);\n      }\n    }\n  }\n\n  function formatNumber(num: number | undefined): string {\n    if (num === undefined) return '0';\n    if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n    return num.toString();\n  }\n\n  function getTrendIcon(trend: 'up' | 'down' | 'stable' | 'rising' | 'falling'): string {\n    switch (trend) {\n      case 'up': case 'rising': return '';\n      case 'down': case 'falling': return '';\n      default: return '';\n    }\n  }\n\n  function getTrendColor(trend: 'up' | 'down' | 'stable' | 'rising' | 'falling'): string {\n    switch (trend) {\n      case 'up': case 'rising': return 'text-green-600';\n      case 'down': case 'falling': return 'text-red-600';\n      default: return 'text-gray-600';\n    }\n  }\n\n  function getHealthIcon(healthy: boolean): string {\n    return healthy ? '' : '';\n  }\n\n  function getHealthColor(healthy: boolean): string {\n    return healthy ? 'text-green-600' : 'text-red-600';\n  }\n\n  $: dashboard = $analyticsStore.dashboard;\n  $: userStats = $analyticsStore.userStats;\n  $: systemHealth = $analyticsStore.systemHealth;\n  $: trendSummary = $analyticsStore.trends.summary;\n</script>\n\n<div class=\"min-h-screen bg-gradient-to-b from-purple-50 to-white\">\n  <!-- Header -->\n  <div class=\"bg-white border-b border-gray-100\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">\n            Analytics Dashboard\n          </h1>\n          <p class=\"text-lg text-gray-600\">\n            Monitor system health, trends, and generate reports.\n          </p>\n        </div>\n        <div class=\"flex items-center gap-4\">\n          <select\n            bind:value={selectedTimeRange}\n            on:change={handleTimeRangeChange}\n            class=\"px-4 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n          >\n            {#each timeRanges as range}\n              <option value={range.value}>{range.label}</option>\n            {/each}\n          </select>\n          <button\n            type=\"button\"\n            on:click={openReportModal}\n            class=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors flex items-center gap-2\"\n          >\n            <span></span> Generate Report\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Error display -->\n    {#if $analyticsStore.error}\n      <div class=\"bg-red-50 border border-red-200 rounded-xl p-4 mb-6\">\n        <div class=\"flex items-center gap-2 text-red-700\">\n          <span></span>\n          <span>{$analyticsStore.error}</span>\n          <button type=\"button\" on:click={analyticsActions.clearError} class=\"ml-auto text-red-500 hover:text-red-700\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Loading state -->\n    {#if $analyticsStore.isLoading}\n      <div class=\"flex justify-center py-12\">\n        <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    {:else}\n      <!-- Quick Stats Cards -->\n      <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-xl\">\n              \n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">{formatNumber(dashboard?.total_users)}</div>\n              <div class=\"text-sm text-gray-500\">Total Users</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-xl\">\n              \n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">{formatNumber(dashboard?.active_users_today)}</div>\n              <div class=\"text-sm text-gray-500\">Active Today</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-xl\">\n              \n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">{formatNumber(dashboard?.total_blocked_artists)}</div>\n              <div class=\"text-sm text-gray-500\">Blocked Artists</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-xl\">\n              \n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">{formatNumber(dashboard?.offense_detections_today)}</div>\n              <div class=\"text-sm text-gray-500\">Offenses Today</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- User Quick Stats -->\n      {#if userStats}\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n          <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Your Quick Stats</h2>\n          <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-indigo-600\">{userStats.blocked_artists}</div>\n              <div class=\"text-sm text-gray-500\">Blocked Artists</div>\n            </div>\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-indigo-600\">{userStats.subscriptions}</div>\n              <div class=\"text-sm text-gray-500\">Subscriptions</div>\n            </div>\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-indigo-600\">{userStats.manual_blocks}</div>\n              <div class=\"text-sm text-gray-500\">Manual Blocks</div>\n            </div>\n            <div class=\"text-center\">\n              <div class=\"text-sm font-medium text-gray-600\">{userStats.last_sync ?? 'Never'}</div>\n              <div class=\"text-sm text-gray-500\">Last Sync</div>\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- System Health -->\n      {#if systemHealth}\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold text-gray-900\">System Health</h2>\n            <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium {\n              $isSystemHealthy ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\n            }\">\n              {systemHealth.overall === 'healthy' ? ' Healthy' :\n               systemHealth.overall === 'degraded' ? ' Degraded' : ' Unhealthy'}\n            </span>\n          </div>\n          <div class=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n            <div class=\"text-center p-3 rounded-lg bg-gray-50\">\n              <div class={getHealthColor(systemHealth.databases.postgres)}>\n                {getHealthIcon(systemHealth.databases.postgres)}\n              </div>\n              <div class=\"text-sm font-medium mt-1\">PostgreSQL</div>\n              {#if systemHealth.latencies_ms?.postgres}\n                <div class=\"text-xs text-gray-500\">{systemHealth.latencies_ms.postgres}ms</div>\n              {/if}\n            </div>\n            <div class=\"text-center p-3 rounded-lg bg-gray-50\">\n              <div class={getHealthColor(systemHealth.databases.redis)}>\n                {getHealthIcon(systemHealth.databases.redis)}\n              </div>\n              <div class=\"text-sm font-medium mt-1\">Redis</div>\n              {#if systemHealth.latencies_ms?.redis}\n                <div class=\"text-xs text-gray-500\">{systemHealth.latencies_ms.redis}ms</div>\n              {/if}\n            </div>\n            <div class=\"text-center p-3 rounded-lg bg-gray-50\">\n              <div class={getHealthColor(systemHealth.databases.duckdb)}>\n                {getHealthIcon(systemHealth.databases.duckdb)}\n              </div>\n              <div class=\"text-sm font-medium mt-1\">DuckDB</div>\n              {#if systemHealth.latencies_ms?.duckdb}\n                <div class=\"text-xs text-gray-500\">{systemHealth.latencies_ms.duckdb}ms</div>\n              {/if}\n            </div>\n            <div class=\"text-center p-3 rounded-lg bg-gray-50\">\n              <div class={getHealthColor(systemHealth.databases.kuzu)}>\n                {getHealthIcon(systemHealth.databases.kuzu)}\n              </div>\n              <div class=\"text-sm font-medium mt-1\">Kuzu</div>\n              {#if systemHealth.latencies_ms?.kuzu}\n                <div class=\"text-xs text-gray-500\">{systemHealth.latencies_ms.kuzu}ms</div>\n              {/if}\n            </div>\n            <div class=\"text-center p-3 rounded-lg bg-gray-50\">\n              <div class={getHealthColor(systemHealth.databases.lancedb)}>\n                {getHealthIcon(systemHealth.databases.lancedb)}\n              </div>\n              <div class=\"text-sm font-medium mt-1\">LanceDB</div>\n              {#if systemHealth.latencies_ms?.lancedb}\n                <div class=\"text-xs text-gray-500\">{systemHealth.latencies_ms.lancedb}ms</div>\n              {/if}\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- Trend Summary -->\n      {#if trendSummary}\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold text-gray-900\">Trend Summary</h2>\n            <span class={getTrendColor(trendSummary.trend)}>\n              {getTrendIcon(trendSummary.trend)} {Math.abs(trendSummary.change_percent).toFixed(1)}%\n            </span>\n          </div>\n          <div class=\"text-sm text-gray-500 mb-4\">Period: {trendSummary.period}</div>\n          {#if trendSummary.data_points.length > 0}\n            <div class=\"h-32 flex items-end gap-1\">\n              {#each trendSummary.data_points as point}\n                {@const maxValue = Math.max(...trendSummary.data_points.map(p => p.value))}\n                {@const height = maxValue > 0 ? (point.value / maxValue) * 100 : 0}\n                <div\n                  class=\"flex-1 bg-indigo-200 hover:bg-indigo-400 transition-colors rounded-t\"\n                  style=\"height: {height}%\"\n                  title=\"{point.date}: {point.value}\"\n                ></div>\n              {/each}\n            </div>\n          {/if}\n        </div>\n      {/if}\n\n      <!-- Artist Trends -->\n      <div class=\"grid md:grid-cols-2 gap-6 mb-8\">\n        <!-- Rising Artists -->\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n          <h2 class=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n            <span></span> Rising Artists\n          </h2>\n          {#if $risingArtists.length === 0}\n            <p class=\"text-gray-500 text-sm\">No rising artists detected.</p>\n          {:else}\n            <div class=\"space-y-3\">\n              {#each $risingArtists.slice(0, 5) as artist}\n                <div class=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\n                  <div>\n                    <div class=\"font-medium text-gray-900\">{artist.artist_name}</div>\n                    <div class=\"text-xs text-gray-500\">{artist.mentions} mentions</div>\n                  </div>\n                  <div class=\"text-right\">\n                    <div class=\"text-green-600 font-medium\">+{artist.offense_count}</div>\n                    <div class=\"text-xs text-gray-500\">offenses</div>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          {/if}\n        </div>\n\n        <!-- Falling Artists -->\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n          <h2 class=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n            <span></span> Falling Artists\n          </h2>\n          {#if $fallingArtists.length === 0}\n            <p class=\"text-gray-500 text-sm\">No falling artists detected.</p>\n          {:else}\n            <div class=\"space-y-3\">\n              {#each $fallingArtists.slice(0, 5) as artist}\n                <div class=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\n                  <div>\n                    <div class=\"font-medium text-gray-900\">{artist.artist_name}</div>\n                    <div class=\"text-xs text-gray-500\">{artist.mentions} mentions</div>\n                  </div>\n                  <div class=\"text-right\">\n                    <div class=\"text-red-600 font-medium\">{artist.offense_count}</div>\n                    <div class=\"text-xs text-gray-500\">offenses</div>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          {/if}\n        </div>\n      </div>\n\n      <!-- Report Status -->\n      {#if $analyticsStore.currentReport}\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n          <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Current Report</h2>\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <div class=\"font-medium\">{$analyticsStore.currentReport.id}</div>\n              <div class=\"text-sm text-gray-500\">\n                Status: <span class=\"capitalize\">{$analyticsStore.currentReport.status}</span>\n              </div>\n            </div>\n            {#if $analyticsStore.currentReport.status === 'processing'}\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-32 h-2 bg-gray-200 rounded-full overflow-hidden\">\n                  <div\n                    class=\"h-full bg-indigo-600 transition-all\"\n                    style=\"width: {$analyticsStore.currentReport.progress_percent ?? 0}%\"\n                  ></div>\n                </div>\n                <span class=\"text-sm text-gray-600\">{$analyticsStore.currentReport.progress_percent ?? 0}%</span>\n              </div>\n            {:else if $analyticsStore.currentReport.status === 'completed' && $analyticsStore.currentReport.download_url}\n              <a\n                href={$analyticsStore.currentReport.download_url}\n                class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors\"\n              >\n                Download\n              </a>\n            {:else if $analyticsStore.currentReport.status === 'failed'}\n              <span class=\"text-red-600\">{$analyticsStore.currentReport.error ?? 'Unknown error'}</span>\n            {/if}\n          </div>\n        </div>\n      {/if}\n    {/if}\n  </div>\n</div>\n\n<!-- Report Modal -->\n{#if showReportModal}\n  <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\" on:click={closeReportModal} role=\"dialog\" aria-modal=\"true\">\n    <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\n    <div class=\"bg-white rounded-2xl max-w-lg w-full p-6 shadow-xl\" on:click|stopPropagation role=\"document\">\n      <div class=\"flex items-center mb-6\">\n        <div class=\"w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center text-2xl mr-4\">\n          \n        </div>\n        <div>\n          <h3 class=\"text-xl font-bold text-gray-900\">Generate Report</h3>\n          <p class=\"text-gray-600\">Configure and generate an analytics report</p>\n        </div>\n      </div>\n\n      <!-- Report Type -->\n      <div class=\"mb-4\">\n        <label for=\"report-type\" class=\"block text-sm font-medium text-gray-700 mb-2\">Report Type</label>\n        <select\n          id=\"report-type\"\n          bind:value={reportType}\n          class=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n        >\n          {#each $analyticsStore.reportTypes as rt}\n            <option value={rt.id}>{rt.name}</option>\n          {/each}\n          {#if $analyticsStore.reportTypes.length === 0}\n            <option value=\"user_activity\">User Activity</option>\n            <option value=\"offense_summary\">Offense Summary</option>\n            <option value=\"platform_stats\">Platform Statistics</option>\n          {/if}\n        </select>\n      </div>\n\n      <!-- Format -->\n      <div class=\"mb-4\">\n        <label for=\"report-format\" class=\"block text-sm font-medium text-gray-700 mb-2\">Format</label>\n        <select\n          id=\"report-format\"\n          bind:value={reportFormat}\n          class=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n        >\n          <option value=\"json\">JSON</option>\n          <option value=\"csv\">CSV</option>\n          <option value=\"parquet\">Parquet</option>\n          <option value=\"html\">HTML</option>\n        </select>\n      </div>\n\n      <!-- Include Details -->\n      <div class=\"mb-6\">\n        <label class=\"flex items-center gap-2\">\n          <input\n            type=\"checkbox\"\n            bind:checked={includeDetails}\n            class=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n          />\n          <span class=\"text-sm text-gray-700\">Include detailed breakdown</span>\n        </label>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex gap-3\">\n        <button\n          type=\"button\"\n          on:click={closeReportModal}\n          class=\"flex-1 px-4 py-3 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          on:click={handleGenerateReport}\n          class=\"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium transition-colors\"\n        >\n          Generate\n        </button>\n      </div>\n    </div>\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import {\n    analyticsStore,\n    analyticsActions,\n  } from '../stores/analytics';\n  import type { TroubleTier, ArtistRevenueBreakdown } from '../stores/analytics';\n  import { navigateTo } from '../utils/simple-router';\n\n  let selectedDays = 30;\n  let selectedMinTier: TroubleTier = 'moderate';\n  let isLoading = true;\n\n  const periodOptions = [\n    { value: 7, label: 'Last 7 Days' },\n    { value: 30, label: 'Last 30 Days' },\n    { value: 90, label: 'Last 90 Days' },\n    { value: 365, label: 'Last Year' },\n  ];\n\n  const tierOptions: { value: TroubleTier; label: string }[] = [\n    { value: 'moderate', label: 'Moderate+' },\n    { value: 'high', label: 'High+' },\n    { value: 'critical', label: 'Critical Only' },\n  ];\n\n  onMount(async () => {\n    await fetchData();\n    isLoading = false;\n  });\n\n  async function fetchData() {\n    isLoading = true;\n    await Promise.all([\n      analyticsActions.fetchRevenueDistribution(selectedDays),\n      analyticsActions.fetchProblematicArtistRevenue(selectedDays, selectedMinTier, 10),\n      analyticsActions.fetchTierDistribution(),\n      analyticsActions.fetchPayoutRates(),\n    ]);\n    isLoading = false;\n  }\n\n  async function handlePeriodChange() {\n    await fetchData();\n  }\n\n  async function handleTierChange() {\n    await analyticsActions.fetchProblematicArtistRevenue(selectedDays, selectedMinTier, 10);\n  }\n\n  function formatCurrency(value: string | undefined): string {\n    if (!value) return '$0.00';\n    const num = parseFloat(value);\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 4,\n    }).format(num);\n  }\n\n  function formatNumber(num: number): string {\n    return new Intl.NumberFormat('en-US').format(num);\n  }\n\n  function getTierColor(tier: TroubleTier | undefined): string {\n    switch (tier) {\n      case 'critical': return 'bg-red-600';\n      case 'high': return 'bg-orange-500';\n      case 'moderate': return 'bg-yellow-500';\n      case 'low': return 'bg-green-500';\n      default: return 'bg-gray-400';\n    }\n  }\n\n  function getTierBgColor(tier: TroubleTier | undefined): string {\n    switch (tier) {\n      case 'critical': return 'bg-red-50 border-red-200';\n      case 'high': return 'bg-orange-50 border-orange-200';\n      case 'moderate': return 'bg-yellow-50 border-yellow-200';\n      case 'low': return 'bg-green-50 border-green-200';\n      default: return 'bg-gray-50 border-gray-200';\n    }\n  }\n\n  function getTierLabel(tier: TroubleTier | undefined): string {\n    if (!tier) return 'Unknown';\n    return tier.charAt(0).toUpperCase() + tier.slice(1);\n  }\n\n  $: distribution = $analyticsStore.revenueDistribution;\n  $: problematicArtists = $analyticsStore.problematicArtistRevenue;\n  $: tierDist = $analyticsStore.tierDistribution;\n  $: rates = $analyticsStore.payoutRates;\n</script>\n\n<div class=\"min-h-screen bg-gradient-to-b from-purple-50 to-white\">\n  <!-- Header -->\n  <div class=\"bg-white border-b border-gray-100\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">\n            Your Streaming Impact\n          </h1>\n          <p class=\"text-lg text-gray-600\">\n            See where your streaming revenue goes and how much reaches problematic artists.\n          </p>\n        </div>\n        <div class=\"flex items-center gap-4\">\n          <select\n            bind:value={selectedDays}\n            on:change={handlePeriodChange}\n            class=\"px-4 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n          >\n            {#each periodOptions as option}\n              <option value={option.value}>{option.label}</option>\n            {/each}\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    {#if isLoading}\n      <div class=\"flex justify-center py-12\">\n        <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    {:else}\n      <!-- Summary Cards -->\n      <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-xl\">\n              &#127911;\n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">\n                {formatNumber(distribution?.total_streams ?? 0)}\n              </div>\n              <div class=\"text-sm text-gray-500\">Total Streams</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-xl\">\n              &#128176;\n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-gray-900\">\n                {formatCurrency(distribution?.total_revenue)}\n              </div>\n              <div class=\"text-sm text-gray-500\">Total Revenue</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-xl\">\n              &#9888;\n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-red-600\">\n                {formatCurrency(distribution?.revenue_to_problematic_artists)}\n              </div>\n              <div class=\"text-sm text-gray-500\">To Problematic Artists</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-xl\">\n              &#128200;\n            </div>\n            <div>\n              <div class=\"text-2xl font-bold text-purple-600\">\n                {(distribution?.problematic_percentage ?? 0).toFixed(1)}%\n              </div>\n              <div class=\"text-sm text-gray-500\">Problematic Share</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Revenue Distribution Chart -->\n      <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Revenue Distribution</h2>\n        <div class=\"flex items-center gap-6\">\n          <!-- Pie chart visual representation -->\n          <div class=\"relative w-40 h-40\">\n            <svg class=\"w-40 h-40 transform -rotate-90\" viewBox=\"0 0 100 100\">\n              <!-- Clean portion (green) -->\n              <circle\n                cx=\"50\" cy=\"50\" r=\"40\"\n                fill=\"none\"\n                stroke=\"#22c55e\"\n                stroke-width=\"20\"\n                stroke-dasharray=\"{(100 - (distribution?.problematic_percentage ?? 0)) * 2.51} 251\"\n                stroke-dashoffset=\"0\"\n              />\n              <!-- Problematic portion (red) -->\n              <circle\n                cx=\"50\" cy=\"50\" r=\"40\"\n                fill=\"none\"\n                stroke=\"#ef4444\"\n                stroke-width=\"20\"\n                stroke-dasharray=\"{(distribution?.problematic_percentage ?? 0) * 2.51} 251\"\n                stroke-dashoffset=\"{-((100 - (distribution?.problematic_percentage ?? 0)) * 2.51)}\"\n              />\n            </svg>\n          </div>\n          <div class=\"flex-1 space-y-4\">\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-4 h-4 rounded bg-green-500\"></div>\n                <span class=\"text-gray-700\">Clean Artists</span>\n              </div>\n              <div class=\"text-right\">\n                <div class=\"font-semibold\">{formatCurrency(distribution?.revenue_to_clean_artists)}</div>\n                <div class=\"text-sm text-gray-500\">{(100 - (distribution?.problematic_percentage ?? 0)).toFixed(1)}%</div>\n              </div>\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-4 h-4 rounded bg-red-500\"></div>\n                <span class=\"text-gray-700\">Problematic Artists</span>\n              </div>\n              <div class=\"text-right\">\n                <div class=\"font-semibold text-red-600\">{formatCurrency(distribution?.revenue_to_problematic_artists)}</div>\n                <div class=\"text-sm text-gray-500\">{(distribution?.problematic_percentage ?? 0).toFixed(1)}%</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Tier Distribution -->\n      {#if tierDist}\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n          <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Artists by Trouble Tier</h2>\n          <div class=\"grid grid-cols-4 gap-4\">\n            <div class=\"text-center p-4 bg-green-50 rounded-lg border border-green-200\">\n              <div class=\"text-2xl font-bold text-green-700\">{tierDist.low}</div>\n              <div class=\"text-sm text-green-600\">Low</div>\n            </div>\n            <div class=\"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\n              <div class=\"text-2xl font-bold text-yellow-700\">{tierDist.moderate}</div>\n              <div class=\"text-sm text-yellow-600\">Moderate</div>\n            </div>\n            <div class=\"text-center p-4 bg-orange-50 rounded-lg border border-orange-200\">\n              <div class=\"text-2xl font-bold text-orange-700\">{tierDist.high}</div>\n              <div class=\"text-sm text-orange-600\">High</div>\n            </div>\n            <div class=\"text-center p-4 bg-red-50 rounded-lg border border-red-200\">\n              <div class=\"text-2xl font-bold text-red-700\">{tierDist.critical}</div>\n              <div class=\"text-sm text-red-600\">Critical</div>\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- Top Problematic Artists -->\n      <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-8\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">Top Problematic Artists by Your Revenue</h2>\n          <select\n            bind:value={selectedMinTier}\n            on:change={handleTierChange}\n            class=\"px-3 py-1 text-sm border border-gray-200 rounded-lg focus:border-indigo-500\"\n          >\n            {#each tierOptions as option}\n              <option value={option.value}>{option.label}</option>\n            {/each}\n          </select>\n        </div>\n\n        {#if problematicArtists.length === 0}\n          <div class=\"text-center py-8 text-gray-500\">\n            <p>No problematic artists found in your listening history.</p>\n            <p class=\"text-sm mt-2\">This is great news! Your streaming revenue is going to clean artists.</p>\n          </div>\n        {:else}\n          <div class=\"space-y-3\">\n            {#each problematicArtists as artist, index}\n              <div class=\"flex items-center justify-between p-4 rounded-lg border {getTierBgColor(artist.trouble_tier)}\">\n                <div class=\"flex items-center gap-4\">\n                  <div class=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600\">\n                    {index + 1}\n                  </div>\n                  <div>\n                    <div class=\"font-medium text-gray-900\">{artist.artist_name}</div>\n                    <div class=\"text-xs text-gray-500 flex items-center gap-2\">\n                      <span class=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium {getTierColor(artist.trouble_tier)} text-white\">\n                        {getTierLabel(artist.trouble_tier)}\n                      </span>\n                      <span>Score: {(artist.trouble_score ?? 0).toFixed(2)}</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-semibold text-gray-900\">{formatCurrency(artist.total_revenue)}</div>\n                  <div class=\"text-xs text-gray-500\">\n                    {formatNumber(artist.total_streams)} streams ({artist.percentage_of_user_spend.toFixed(1)}%)\n                  </div>\n                </div>\n              </div>\n            {/each}\n          </div>\n        {/if}\n      </div>\n\n      <!-- Platform Payout Rates -->\n      <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Platform Payout Rates</h2>\n        <p class=\"text-sm text-gray-500 mb-4\">\n          Average payout per stream by platform. Actual rates vary based on subscription tier, region, and other factors.\n        </p>\n        <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n          {#each rates as rate}\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div class=\"text-lg font-bold text-indigo-600\">\n                {formatCurrency(rate.rate_per_stream)}\n              </div>\n              <div class=\"text-sm font-medium text-gray-700 capitalize\">{rate.platform.replace('_', ' ')}</div>\n              <div class=\"text-xs text-gray-500\">{rate.rate_tier}</div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    {/if}\n  </div>\n</div>\n","import { writable, derived } from 'svelte/store';\nimport { apiClient } from '../utils/api-client';\nconst initialState = {\n    currentNetwork: null,\n    selectedArtist: null,\n    collaborators: [],\n    pathResult: null,\n    blockedAnalysis: null,\n    health: null,\n    stats: null,\n    isLoading: false,\n    isLoadingPath: false,\n    error: null,\n};\n// Store\nexport const graphStore = writable(initialState);\n// Derived stores\nexport const networkNodes = derived(graphStore, ($graph) => $graph.currentNetwork?.nodes ?? []);\nexport const networkEdges = derived(graphStore, ($graph) => $graph.currentNetwork?.edges ?? []);\nexport const blockedNodes = derived(graphStore, ($graph) => $graph.currentNetwork?.nodes.filter(n => n.is_blocked) ?? []);\nexport const atRiskArtists = derived(graphStore, ($graph) => $graph.blockedAnalysis?.at_risk_artists ?? []);\nexport const isGraphHealthy = derived(graphStore, ($graph) => $graph.health?.status === 'healthy');\n// Actions\nexport const graphActions = {\n    fetchArtistNetwork: async (artistId, depth = 2) => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${artistId}/network?depth=${depth}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    currentNetwork: result.data,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch artist network',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchCollaborators: async (artistId, limit = 20) => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${artistId}/collaborators?limit=${limit}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    collaborators: result.data.collaborators,\n                    isLoading: false,\n                }));\n                return { success: true };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to fetch collaborators',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    findPath: async (sourceId, targetId) => {\n        graphStore.update(s => ({ ...s, isLoadingPath: true, error: null, pathResult: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('GET', `/api/v1/graph/artists/${sourceId}/path-to/${targetId}`);\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    pathResult: result.data,\n                    isLoadingPath: false,\n                }));\n                return { success: true, path: result.data };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoadingPath: false,\n                    error: result.message || 'No path found',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoadingPath: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    analyzeBlockedNetwork: async () => {\n        graphStore.update(s => ({ ...s, isLoading: true, error: null }));\n        try {\n            const result = await apiClient.authenticatedRequest('POST', '/api/v1/graph/blocked-network');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    blockedAnalysis: result.data,\n                    isLoading: false,\n                }));\n                return { success: true, analysis: result.data };\n            }\n            else {\n                graphStore.update(s => ({\n                    ...s,\n                    isLoading: false,\n                    error: result.message || 'Failed to analyze blocked network',\n                }));\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            graphStore.update(s => ({\n                ...s,\n                isLoading: false,\n                error: error.message || 'Network error',\n            }));\n            return { success: false, message: error.message };\n        }\n    },\n    fetchHealth: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/graph/health');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    health: result.data,\n                }));\n                return { success: true, health: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    fetchStats: async () => {\n        try {\n            const result = await apiClient.authenticatedRequest('GET', '/api/v1/graph/stats');\n            if (result.success && result.data) {\n                graphStore.update(s => ({\n                    ...s,\n                    stats: result.data,\n                }));\n                return { success: true, stats: result.data };\n            }\n            else {\n                return { success: false, message: result.message };\n            }\n        }\n        catch (error) {\n            return { success: false, message: error.message };\n        }\n    },\n    selectArtist: (artist) => {\n        graphStore.update(s => ({ ...s, selectedArtist: artist }));\n    },\n    clearNetwork: () => {\n        graphStore.update(s => ({\n            ...s,\n            currentNetwork: null,\n            collaborators: [],\n            pathResult: null,\n        }));\n    },\n    clearError: () => {\n        graphStore.update(s => ({ ...s, error: null }));\n    },\n};\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import {\n    graphStore,\n    graphActions,\n    networkNodes,\n    networkEdges,\n    atRiskArtists\n  } from '../stores/graph';\n  import type { GraphArtist, NetworkNode } from '../stores/graph';\n  import { navigateTo } from '../utils/simple-router';\n\n  let searchQuery = '';\n  let searchResults: GraphArtist[] = [];\n  let isSearching = false;\n  let selectedDepth = 2;\n  let showPathFinder = false;\n  let pathSourceId = '';\n  let pathTargetId = '';\n\n  // Simple force-directed layout simulation\n  let nodes: (NetworkNode & { x: number; y: number; vx: number; vy: number })[] = [];\n  let simulationInterval: ReturnType<typeof setInterval> | null = null;\n\n  onMount(async () => {\n    await Promise.all([\n      graphActions.fetchHealth(),\n      graphActions.fetchStats(),\n    ]);\n  });\n\n  onDestroy(() => {\n    if (simulationInterval) {\n      clearInterval(simulationInterval);\n    }\n  });\n\n  async function handleSearch() {\n    if (!searchQuery.trim()) {\n      searchResults = [];\n      return;\n    }\n\n    isSearching = true;\n    try {\n      // Use the sync service for artist search\n      const response = await fetch(`/api/v1/sync/search?q=${encodeURIComponent(searchQuery)}`);\n      const data = await response.json();\n      searchResults = data.artists || [];\n    } catch (e) {\n      console.error('Search failed:', e);\n      searchResults = [];\n    }\n    isSearching = false;\n  }\n\n  async function selectArtist(artist: GraphArtist) {\n    graphActions.selectArtist(artist);\n    await graphActions.fetchArtistNetwork(artist.id, selectedDepth);\n    await graphActions.fetchCollaborators(artist.id);\n    searchQuery = '';\n    searchResults = [];\n    initializeSimulation();\n  }\n\n  function initializeSimulation() {\n    if (simulationInterval) {\n      clearInterval(simulationInterval);\n    }\n\n    const width = 600;\n    const height = 400;\n\n    // Initialize node positions\n    nodes = $networkNodes.map((node) => ({\n      ...node,\n      x: width / 2 + (Math.random() - 0.5) * 200,\n      y: height / 2 + (Math.random() - 0.5) * 200,\n      vx: 0,\n      vy: 0,\n    }));\n\n    // Run simple force simulation\n    let iterations = 0;\n    simulationInterval = setInterval(() => {\n      if (iterations > 100) {\n        if (simulationInterval) clearInterval(simulationInterval);\n        return;\n      }\n\n      // Apply forces\n      nodes.forEach((node, i) => {\n        // Repulsion between nodes\n        nodes.forEach((other, j) => {\n          if (i === j) return;\n          const dx = node.x - other.x;\n          const dy = node.y - other.y;\n          const dist = Math.sqrt(dx * dx + dy * dy) || 1;\n          const force = 500 / (dist * dist);\n          node.vx += (dx / dist) * force;\n          node.vy += (dy / dist) * force;\n        });\n\n        // Attraction along edges\n        $networkEdges.forEach(edge => {\n          if (edge.source === node.id || edge.target === node.id) {\n            const otherId = edge.source === node.id ? edge.target : edge.source;\n            const other = nodes.find(n => n.id === otherId);\n            if (other) {\n              const dx = other.x - node.x;\n              const dy = other.y - node.y;\n              node.vx += dx * 0.01;\n              node.vy += dy * 0.01;\n            }\n          }\n        });\n\n        // Center gravity\n        node.vx += (width / 2 - node.x) * 0.001;\n        node.vy += (height / 2 - node.y) * 0.001;\n\n        // Damping\n        node.vx *= 0.9;\n        node.vy *= 0.9;\n\n        // Update position\n        node.x += node.vx;\n        node.y += node.vy;\n\n        // Bounds\n        node.x = Math.max(30, Math.min(width - 30, node.x));\n        node.y = Math.max(30, Math.min(height - 30, node.y));\n      });\n\n      nodes = [...nodes]; // Trigger reactivity\n      iterations++;\n    }, 50);\n  }\n\n  async function handleFindPath() {\n    if (!pathSourceId || !pathTargetId) return;\n    await graphActions.findPath(pathSourceId, pathTargetId);\n  }\n\n  async function handleAnalyzeBlocked() {\n    await graphActions.analyzeBlockedNetwork();\n  }\n\n  function getNodeColor(node: NetworkNode): string {\n    if (node.is_blocked) return '#EF4444'; // red\n    if (node.type === 'label') return '#8B5CF6'; // purple\n    if (node.type === 'track') return '#10B981'; // green\n    return '#6366F1'; // indigo for artists\n  }\n\n  function getEdgeColor(type: string): string {\n    switch (type) {\n      case 'collaborated_with': return '#94A3B8';\n      case 'signed_to': return '#8B5CF6';\n      case 'mentioned_in': return '#F59E0B';\n      default: return '#CBD5E1';\n    }\n  }\n\n  $: currentNetwork = $graphStore.currentNetwork;\n  $: selectedArtist = $graphStore.selectedArtist;\n  $: collaborators = $graphStore.collaborators;\n  $: pathResult = $graphStore.pathResult;\n  $: blockedAnalysis = $graphStore.blockedAnalysis;\n  $: stats = $graphStore.stats;\n</script>\n\n<div class=\"min-h-screen bg-gradient-to-b from-emerald-50 to-white\">\n  <!-- Header -->\n  <div class=\"bg-white border-b border-gray-100\">\n    <div class=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n      <button\n        type=\"button\"\n        on:click={() => navigateTo('home')}\n        class=\"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors mb-4\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Back to Home\n      </button>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">\n            Graph Explorer\n          </h1>\n          <p class=\"text-lg text-gray-600\">\n            Explore artist collaboration networks and connections.\n          </p>\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <button\n            type=\"button\"\n            on:click={() => showPathFinder = !showPathFinder}\n            class=\"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors flex items-center gap-2\"\n          >\n            <span></span> Path Finder\n          </button>\n          <button\n            type=\"button\"\n            on:click={handleAnalyzeBlocked}\n            disabled={$graphStore.isLoading}\n            class=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors flex items-center gap-2 disabled:opacity-50\"\n          >\n            <span></span> Analyze Blocked\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\n    <!-- Stats Bar -->\n    {#if stats}\n      <div class=\"grid grid-cols-4 gap-4 mb-6\">\n        <div class=\"bg-white rounded-lg p-4 border border-gray-100 shadow-sm text-center\">\n          <div class=\"text-2xl font-bold text-indigo-600\">{stats.artist_count.toLocaleString()}</div>\n          <div class=\"text-xs text-gray-500\">Artists</div>\n        </div>\n        <div class=\"bg-white rounded-lg p-4 border border-gray-100 shadow-sm text-center\">\n          <div class=\"text-2xl font-bold text-indigo-600\">{stats.collaboration_count.toLocaleString()}</div>\n          <div class=\"text-xs text-gray-500\">Collaborations</div>\n        </div>\n        <div class=\"bg-white rounded-lg p-4 border border-gray-100 shadow-sm text-center\">\n          <div class=\"text-2xl font-bold text-indigo-600\">{stats.label_count.toLocaleString()}</div>\n          <div class=\"text-xs text-gray-500\">Labels</div>\n        </div>\n        <div class=\"bg-white rounded-lg p-4 border border-gray-100 shadow-sm text-center\">\n          <div class=\"text-2xl font-bold text-indigo-600\">{stats.track_count.toLocaleString()}</div>\n          <div class=\"text-xs text-gray-500\">Tracks</div>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Error display -->\n    {#if $graphStore.error}\n      <div class=\"bg-red-50 border border-red-200 rounded-xl p-4 mb-6\">\n        <div class=\"flex items-center gap-2 text-red-700\">\n          <span></span>\n          <span>{$graphStore.error}</span>\n          <button type=\"button\" on:click={graphActions.clearError} class=\"ml-auto text-red-500 hover:text-red-700\">\n            Dismiss\n          </button>\n        </div>\n      </div>\n    {/if}\n\n    <!-- Path Finder Panel -->\n    {#if showPathFinder}\n      <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Find Path Between Artists</h3>\n        <div class=\"grid md:grid-cols-3 gap-4\">\n          <div>\n            <label for=\"path-source\" class=\"block text-sm font-medium text-gray-700 mb-2\">Source Artist ID</label>\n            <input\n              id=\"path-source\"\n              type=\"text\"\n              bind:value={pathSourceId}\n              placeholder=\"Enter artist UUID\"\n              class=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n            />\n          </div>\n          <div>\n            <label for=\"path-target\" class=\"block text-sm font-medium text-gray-700 mb-2\">Target Artist ID</label>\n            <input\n              id=\"path-target\"\n              type=\"text\"\n              bind:value={pathTargetId}\n              placeholder=\"Enter artist UUID\"\n              class=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n            />\n          </div>\n          <div class=\"flex items-end\">\n            <button\n              type=\"button\"\n              on:click={handleFindPath}\n              disabled={!pathSourceId || !pathTargetId || $graphStore.isLoadingPath}\n              class=\"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors disabled:opacity-50\"\n            >\n              {#if $graphStore.isLoadingPath}\n                Finding...\n              {:else}\n                Find Path\n              {/if}\n            </button>\n          </div>\n        </div>\n        {#if pathResult}\n          <div class=\"mt-4 p-4 bg-green-50 rounded-lg\">\n            <div class=\"font-medium text-green-700 mb-2\">Path Found! ({pathResult.total_distance} hops)</div>\n            <div class=\"flex items-center gap-2 flex-wrap\">\n              {#each pathResult.path as node, i}\n                <span class=\"px-2 py-1 bg-white rounded border border-green-200 text-sm\">{node.name}</span>\n                {#if i < pathResult.path.length - 1}\n                  <span class=\"text-green-600\"></span>\n                {/if}\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Main Content Grid -->\n    <div class=\"grid lg:grid-cols-3 gap-6\">\n      <!-- Search & Selection Panel -->\n      <div class=\"lg:col-span-1\">\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Search Artist</h3>\n          <div class=\"relative\">\n            <input\n              type=\"text\"\n              bind:value={searchQuery}\n              on:input={handleSearch}\n              placeholder=\"Search for an artist...\"\n              class=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n            />\n            {#if isSearching}\n              <div class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n                <div class=\"w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n              </div>\n            {/if}\n          </div>\n\n          {#if searchResults.length > 0}\n            <div class=\"mt-3 space-y-2 max-h-60 overflow-y-auto\">\n              {#each searchResults as artist}\n                <button\n                  type=\"button\"\n                  on:click={() => selectArtist(artist)}\n                  class=\"w-full p-3 text-left hover:bg-indigo-50 rounded-lg transition-colors\"\n                >\n                  <div class=\"font-medium\">{artist.name}</div>\n                  {#if artist.genres?.length}\n                    <div class=\"text-xs text-gray-500\">{artist.genres.slice(0, 3).join(', ')}</div>\n                  {/if}\n                </button>\n              {/each}\n            </div>\n          {/if}\n        </div>\n\n        <!-- Depth Control -->\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mb-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Network Depth</h3>\n          <div class=\"flex items-center gap-4\">\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"4\"\n              bind:value={selectedDepth}\n              class=\"flex-1\"\n            />\n            <span class=\"text-lg font-medium text-indigo-600 w-8\">{selectedDepth}</span>\n          </div>\n          <p class=\"text-xs text-gray-500 mt-2\">Higher depth = more connections but slower loading</p>\n        </div>\n\n        <!-- Collaborators List -->\n        {#if selectedArtist && collaborators.length > 0}\n          <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">\n              Collaborators of {selectedArtist.name}\n            </h3>\n            <div class=\"space-y-2 max-h-80 overflow-y-auto\">\n              {#each collaborators as collab}\n                <div class=\"p-3 bg-gray-50 rounded-lg\">\n                  <div class=\"font-medium\">{collab.artist_name}</div>\n                  <div class=\"text-xs text-gray-500 flex items-center gap-2\">\n                    <span class=\"capitalize\">{collab.collab_type}</span>\n                    {#if collab.track_title}\n                      <span> {collab.track_title}</span>\n                    {/if}\n                    {#if collab.year}\n                      <span> {collab.year}</span>\n                    {/if}\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </div>\n\n      <!-- Network Visualization -->\n      <div class=\"lg:col-span-2\">\n        <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">Network Visualization</h3>\n            {#if currentNetwork}\n              <div class=\"text-sm text-gray-500\">\n                {$networkNodes.length} nodes  {$networkEdges.length} edges\n              </div>\n            {/if}\n          </div>\n\n          {#if $graphStore.isLoading}\n            <div class=\"flex justify-center items-center h-96\">\n              <div class=\"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          {:else if !currentNetwork}\n            <div class=\"flex flex-col items-center justify-center h-96 text-gray-400\">\n              <span class=\"text-6xl mb-4\"></span>\n              <p>Search for an artist to explore their network</p>\n            </div>\n          {:else}\n            <svg\n              viewBox=\"0 0 600 400\"\n              class=\"w-full h-96 bg-gray-50 rounded-lg\"\n            >\n              <!-- Edges -->\n              {#each $networkEdges as edge}\n                {@const source = nodes.find(n => n.id === edge.source)}\n                {@const target = nodes.find(n => n.id === edge.target)}\n                {#if source && target}\n                  <line\n                    x1={source.x}\n                    y1={source.y}\n                    x2={target.x}\n                    y2={target.y}\n                    stroke={getEdgeColor(edge.type)}\n                    stroke-width={edge.weight}\n                    stroke-opacity=\"0.6\"\n                  />\n                {/if}\n              {/each}\n\n              <!-- Nodes -->\n              {#each nodes as node}\n                <g transform=\"translate({node.x}, {node.y})\">\n                  <circle\n                    r={node.id === currentNetwork.center_artist_id ? 16 : 10}\n                    fill={getNodeColor(node)}\n                    stroke=\"white\"\n                    stroke-width=\"2\"\n                    class=\"cursor-pointer hover:opacity-80 transition-opacity\"\n                  />\n                  <text\n                    y={node.id === currentNetwork.center_artist_id ? 28 : 22}\n                    text-anchor=\"middle\"\n                    font-size=\"10\"\n                    fill=\"#374151\"\n                    class=\"pointer-events-none\"\n                  >\n                    {node.name.length > 12 ? node.name.substring(0, 12) + '...' : node.name}\n                  </text>\n                </g>\n              {/each}\n            </svg>\n\n            <!-- Legend -->\n            <div class=\"flex items-center gap-6 mt-4 text-xs text-gray-600 justify-center\">\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-indigo-500\"></span>\n                <span>Artist</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-red-500\"></span>\n                <span>Blocked</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-purple-500\"></span>\n                <span>Label</span>\n              </div>\n              <div class=\"flex items-center gap-1\">\n                <span class=\"w-3 h-3 rounded-full bg-green-500\"></span>\n                <span>Track</span>\n              </div>\n            </div>\n          {/if}\n        </div>\n\n        <!-- Blocked Network Analysis -->\n        {#if blockedAnalysis}\n          <div class=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm mt-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Blocked Network Analysis</h3>\n\n            <!-- Summary -->\n            <div class=\"grid grid-cols-3 gap-4 mb-6\">\n              <div class=\"text-center p-3 bg-red-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-red-600\">{blockedAnalysis.summary.total_blocked}</div>\n                <div class=\"text-xs text-gray-600\">Blocked Artists</div>\n              </div>\n              <div class=\"text-center p-3 bg-yellow-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-yellow-600\">{blockedAnalysis.summary.total_at_risk}</div>\n                <div class=\"text-xs text-gray-600\">At-Risk Artists</div>\n              </div>\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-gray-600\">{blockedAnalysis.summary.avg_collaborations_per_blocked.toFixed(1)}</div>\n                <div class=\"text-xs text-gray-600\">Avg. Collaborations</div>\n              </div>\n            </div>\n\n            <!-- At-Risk Artists -->\n            {#if $atRiskArtists.length > 0}\n              <h4 class=\"font-medium text-gray-900 mb-3\">At-Risk Artists</h4>\n              <div class=\"space-y-2 max-h-48 overflow-y-auto\">\n                {#each $atRiskArtists.slice(0, 10) as item}\n                  <div class=\"flex items-center justify-between p-3 bg-yellow-50 rounded-lg\">\n                    <div>\n                      <div class=\"font-medium\">{item.artist.name}</div>\n                      <div class=\"text-xs text-gray-500\">{item.blocked_collaborators} blocked collaborators</div>\n                    </div>\n                    <div class=\"text-right\">\n                      <div class=\"font-medium text-yellow-600\">{(item.risk_score * 100).toFixed(0)}%</div>\n                      <div class=\"text-xs text-gray-500\">risk</div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            {/if}\n          </div>\n        {/if}\n      </div>\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\timport { isAuthenticated, authActions } from \"./lib/stores/auth\";\n\timport { initRouter, currentRoute } from \"./lib/utils/simple-router\";\n\timport Login from \"./lib/components/Login.svelte\";\n\timport Home from \"./lib/components/Home.svelte\";\n\timport Settings from \"./lib/components/Settings.svelte\";\n\timport OAuthCallback from \"./lib/components/OAuthCallback.svelte\";\n\timport SyncDashboard from \"./lib/components/SyncDashboard.svelte\";\n\timport AnalyticsDashboard from \"./lib/components/AnalyticsDashboard.svelte\";\n\timport RevenueImpact from \"./lib/components/RevenueImpact.svelte\";\n\timport GraphExplorer from \"./lib/components/GraphExplorer.svelte\";\n\n\tlet isInitialized = false;\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tinitRouter();\n\t\t\tawait authActions.fetchProfile();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Init error:\", error);\n\t\t} finally {\n\t\t\tisInitialized = true;\n\t\t}\n\t});\n</script>\n\n{#if !isInitialized}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900\">\n\t\t<div class=\"text-center\">\n\t\t\t<div class=\"w-8 h-8 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n\t\t\t<p class=\"mt-4 text-gray-400\">Loading...</p>\n\t\t</div>\n\t</div>\n{:else if $currentRoute === 'oauth-callback'}\n\t<OAuthCallback />\n{:else if $currentRoute === 'oauth-error'}\n\t<div class=\"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4\">\n\t\t<div class=\"max-w-md w-full text-center\">\n\t\t\t<div class=\"text-red-500 text-6xl mb-4\">!</div>\n\t\t\t<h2 class=\"text-2xl font-bold text-white mb-2\">Connection Failed</h2>\n\t\t\t<p class=\"text-gray-400 mb-6\">There was a problem connecting your account. Please try again.</p>\n\t\t\t<button\n\t\t\t\ton:click={() => window.location.href = '/'}\n\t\t\t\tclass=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\n\t\t\t>\n\t\t\t\tGo Back\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{:else if $isAuthenticated}\n\t{#if $currentRoute === 'settings'}\n\t\t<Settings />\n\t{:else if $currentRoute === 'sync'}\n\t\t<SyncDashboard />\n\t{:else if $currentRoute === 'analytics'}\n\t\t<AnalyticsDashboard />\n\t{:else if $currentRoute === 'revenue-impact'}\n\t\t<RevenueImpact />\n\t{:else if $currentRoute === 'graph'}\n\t\t<GraphExplorer />\n\t{:else}\n\t\t<Home />\n\t{/if}\n{:else}\n\t<Login />\n{/if}\n\n<style>\n\t:global(body) {\n\t\tbackground-color: rgb(17, 24, 39);\n\t}\n</style>\n","import App from './App.svelte';\nimport './app.css';\nconst app = new App({\n    target: document.body,\n});\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","callback","undefined","unsub","unsubscribe","component_subscribe","component","$$","on_destroy","push","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","call","this","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","select_option","select","mounting","option","__value","selected","selectedIndex","select_value","selected_option","querySelector","current_component","set_current_component","get_current_component","Error","onMount","on_mount","bubble","type","slice","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","e","pop","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","ensure_array_like","array_like_or_iterator","Array","from","create_component","mount_component","m","new_on_destroy","map","filter","destroy_component","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","childNodes","children","l","intro","SvelteComponent","$$set","$destroy","$on","index","splice","$set","obj","keys","window","__svelte","v","subscriber_queue","writable","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","derived","stores","initial_value","single","isArray","stores_array","every","Boolean","auto","started","values","pending","cleanup","sync","result","unsubscribers","apiClient","constructor","baseUrl","defineProperty","enumerable","configurable","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","clearAuthToken","removeItem","createHeaders","includeAuth","headers","handleResponse","response","contentType","get","includes","json","message","ok","success","timestamp","Date","toISOString","status","statusText","error_code","withRetry","operation","retries","maxRetries","lastError","attempt","delay","retryDelay","Math","pow","setTimeout","error","endpoint","url","fetch","method","post","body","JSON","stringify","put","handleAuthError","refreshToken","refresh_token","access_token","console","authenticatedRequest","dispatchEvent","CustomEvent","detail","reason","authStore","user","isAuthenticated","isLoading","justRegistered","oauthFlow","provider","state","isInProgress","$auth","currentUser","authActions","login","async","email","password","totpCode","totp_code","fetchProfile","register","confirmPassword","termsAccepted","confirm_password","terms_accepted","autoLogin","errors","logout","newRefreshToken","setup2FA","qrCodeUrl","qr_code_url","secret","verify2FA","code","disable2FA","clearJustRegistered","initiateOAuthFlow","authorization_url","sessionStorage","authState","location","href","completeOAuthFlow","storedState","redirect_uri","origin","pathname","linkOAuthAccount","unlinkOAuthAccount","getLinkedAccounts","pathToRoute","routeToPath","home","dashboard","settings","profile","blocklist","connections","community","analytics","graph","overview","dnp","enforcement","routeMeta","title","description","currentRoute","navigateTo","route","path","meta","history","pushState","getRouteFromPath","startsWith","div","t12_value","t14_value","create_if_block_3","create_if_block_2","if_block2","create_if_block_1","create_if_block","div9","div8","div0","form","div1","input0","div2","input1","button0","div3","button1","div7","preventDefault","t12","t14","mode","$$invalidate","err","$route","getSeverityStyle","child_ctx","severity","create_if_block_13","create_if_block_14","header","button","main","create_if_block_11","create_if_block_8","create_if_block_10","create_if_block_4","blue","primary","button2","button3","section0","div4","section1","h20","section2","h21","t0_value","canonical_name","charAt","t2_value","t7_value","id","genres","create_if_block_22","create_if_block_20","show_if","offenses","create_if_block_15","light","p1","pink","green","button_style_value","div6","h1","div5","p0","h2","t0","t2","t7","t_value","join","t","span","each_value_4","incident_date","toLocaleDateString","year","month","day","evidence","each_value_5","t1","t1_value","source_name","credibility_score","if_block0","create_if_block_18","if_block1","create_if_block_17","a_href_value","source_url","svg","formatCategoryName","category","label","t4_value","t6_value","create_if_block_19","create_if_block_16","span1","span1_style_value","bg","span0","h3","t4","t6","create_if_block_9","create_if_block_6","create_if_block_7","span_style_value","t3_value","artist_count","subscribed","create_if_block_5","button0_style_value","t3","create_if_block_12","split","w","toUpperCase","searchTimeout","currentView","searchQuery","searchResults","isSearching","categoryLists","isLoadingCategories","expandedCategoryId","categoryArtists","isLoadingCategoryArtists","blockedArtists","isLoadingBlocked","selectedArtist","isLoadingArtistDetail","blockingArtistId","dnpList","loadCategories","loadBlockedArtists","loadDnpList","item","artist_id","toggleCategory","categoryId","artists","loadCategoryArtists","toggleCategorySubscription","wasSubscribed","goToArtist","artistId","artistName","goBack","toggleArtistBlock","isCurrentlyBlocked","all","clearTimeout","trim","encodeURIComponent","artist","disabled","button_disabled_value","show_if_3","show_if_1","div23","svg0","path0","div12","p3","div11","div10","p4","div13","div20","div15","div14","div17","div16","div19","div18","span2","section3","div21","div22","button4","button5","p11","isLoggingOut","connectedAccounts","isLoadingConnections","connectingProvider","connectionError","blockFeatured","blockProducers","notifications","initiateOAuth","auth_url","disconnectService","loadConnections","some","getProviderName","errorMessage","params","URLSearchParams","search","errorDescription","pathParts","syncStore","runs","currentRun","health","canonicalArtists","isTriggering","isAnySyncRunning","$sync","s","platformsStatus","recentRuns","syncActions","fetchStatus","platforms","triggerSync","request","fetchRuns","runId","run_id","limit","fetchRun","cancelRun","fetchHealth","searchArtists","query","clearError","constants_0","find","args","is_healthy","platform","span0_class_value","dispose","getStatusIcon","getStatusColor","artists_count","toLocaleString","formatDate","last_sync","if_block","error_message","span3","textContent","icon","table","thead","tbody","errors_count","sync_type","artists_processed","formatDuration","duration_ms","started_at","tr","td0","td1","td2","td3","td4","td5","td6","t8","t8_value","t11","t11_value","t13","t13_value","button0_class_value","button1_class_value","button3_disabled_value","label0","label1","label2","option0","option1","option2","option3","button_class_value","ms","toFixed","dateStr","date","diff","getTime","floor","selectedPlatforms","syncType","priority","showTriggerModal","closeTriggerModal","togglePlatform","platformId","handleCancelRun","healthStatus","$syncStore","overall_status","healthColor","analyticsStore","userStats","systemHealth","trends","summary","reportTypes","reports","currentReport","troubleLeaderboard","tierDistribution","selectedArtistScore","revenueDistribution","topArtistsByRevenue","problematicArtistRevenue","payoutRates","isSystemHealthy","$analytics","overall","risingArtists","trend","fallingArtists","analyticsActions","timeRange","periodDays","report_types","reportId","report_id","report","days","toString","minTier","rates","max","data_points","constants_1","formatNumber","total_users","active_users_today","total_blocked_artists","offense_detections_today","if_block5","div24","div27","div25","div26","t20","t20_value","blocked_artists","subscriptions","t10_value","manual_blocks","t10","getHealthIcon","databases","postgres","t9_value","redis","duckdb","t19_value","kuzu","t24_value","lancedb","latencies_ms","div1_class_value","getHealthColor","div4_class_value","div7_class_value","div10_class_value","div13_class_value","t9","t19","t24","getTrendIcon","abs","change_percent","period","getTrendColor","each_value_3","div_title_value","each_value_2","artist_name","mentions","offense_count","each_value_1","t5_value","t5","download_url","progress_percent","each_value","select0","select1","option_value_value","num","healthy","selectedTimeRange","selectedPeriodDays","showReportModal","reportType","reportFormat","includeDetails","timeRanges","closeReportModal","pollReportStatus","$analyticsStore","trendSummary","range","report_type","format","time_range","include_details","checked","option_1","total_streams","formatCurrency","total_revenue","revenue_to_problematic_artists","problematic_percentage","revenue_to_clean_artists","t41_value","circle0","circle0_stroke_dasharray_value","circle1","circle1_stroke_dasharray_value","circle1_stroke_dashoffset_value","div40","div39","div38","div31","div30","div28","div29","div37","div33","div36","div34","div35","div42","div41","div44","h22","div43","t31","t31_value","t33","t33_value","t39","t39_value","t41","low","moderate","high","critical","getTierLabel","trouble_tier","trouble_score","percentage_of_user_spend","getTierColor","getTierBgColor","rate_per_stream","replace","rate_tier","parseFloat","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","tier","selectedDays","selectedMinTier","periodOptions","tierOptions","fetchData","distribution","problematicArtists","tierDist","graphStore","currentNetwork","collaborators","pathResult","blockedAnalysis","stats","isLoadingPath","networkNodes","$graph","networkEdges","edges","n","is_blocked","atRiskArtists","at_risk_artists","graphActions","depth","sourceId","targetId","analysis","collaboration_count","label_count","track_count","total_distance","track_title","collab_type","line","line_x__value","x","line_y__value","y","line_x__value_1","line_y__value_1","getEdgeColor","line_stroke_width_value","weight","substring","circle","circle_r_value","center_artist_id","circle_fill_value","getNodeColor","text_1","text_1_y_value","g","g_transform_value","total_blocked","total_at_risk","avg_collaborations_per_blocked","h4","blocked_collaborators","risk_score","button2_disabled_value","h30","h31","h32","selectedDepth","showPathFinder","pathSourceId","pathTargetId","simulationInterval","selectArtist","clearInterval","width","height","$networkNodes","random","vx","vy","setInterval","other","j","dx","dy","dist","sqrt","force","$networkEdges","edge","source","otherId","min","initializeSimulation","$graphStore","isInitialized","initialRoute","initRouter"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}